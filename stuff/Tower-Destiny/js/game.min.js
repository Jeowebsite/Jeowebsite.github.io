!function(t){"use strict";var e={},i=function(){return Es.__string_rec(this,"")};function s(t,e){function i(){}i.prototype=t;var s=new i;for(var n in e)s[n]=e[n];return e.toString!==Object.prototype.toString&&(s.toString=e.toString),s}var n=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};e.EReg=n,n.__name__=["EReg"],n.prototype={split:function(t){var e="#__delim__#";return t.replace(this.r,e).split(e)},__class__:n};var o=function(){};e.HxOverrides=o,o.__name__=["HxOverrides"],o.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:var s=t.split("-");return new Date(s[0],s[1]-1,s[2],0,0,0);case 19:var n=t.split(" "),o=n[0].split("-"),r=n[1].split(":");return new Date(o[0],o[1]-1,o[2],r[0],r[1],r[2]);default:throw new Cs("Invalid date format : "+t)}},o.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},o.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},o.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},o.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var r=function(){this.length=0};e.List=r,r.__name__=["List"],r.prototype={add:function(t){var e=new a(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},__class__:r};var a=function(t,e){this.item=t,this.next=e};e["_List.ListNode"]=a,a.__name__=["_List","ListNode"],a.prototype={__class__:a},Math.__name__=["Math"];var l=function(){};e.Reflect=l,l.__name__=["Reflect"],l.field=function(t,e){try{return t[e]}catch(t){return null}},l.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e},l.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},l.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var h=function(){};e.Std=h,h.__name__=["Std"],h.string=function(t){return Es.__string_rec(t,"")},h.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=o.cca(t,1)&&88!=o.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e};var c=function(){this.b=""};e.StringBuf=c,c.__name__=["StringBuf"],c.prototype={__class__:c};var _=function(){};e.StringTools=_,_.__name__=["StringTools"],_.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},_.isSpace=function(t,e){var i=o.cca(t,e);return i>8&&i<14||32==i},_.ltrim=function(t){for(var e=t.length,i=0;i<e&&_.isSpace(t,i);)++i;return i>0?o.substr(t,i,e-i):t},_.rtrim=function(t){for(var e=t.length,i=0;i<e&&_.isSpace(t,e-i-1);)++i;return i>0?o.substr(t,0,e-i):t},_.trim=function(t){return _.ltrim(_.rtrim(t))},_.replace=function(t,e,i){return t.split(e).join(i)};var u=e.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};u.TNull=["TNull",0],u.TNull.toString=i,u.TNull.__enum__=u,u.TInt=["TInt",1],u.TInt.toString=i,u.TInt.__enum__=u,u.TFloat=["TFloat",2],u.TFloat.toString=i,u.TFloat.__enum__=u,u.TBool=["TBool",3],u.TBool.toString=i,u.TBool.__enum__=u,u.TObject=["TObject",4],u.TObject.toString=i,u.TObject.__enum__=u,u.TFunction=["TFunction",5],u.TFunction.toString=i,u.TFunction.__enum__=u,u.TClass=function(t){var e=["TClass",6,t];return e.__enum__=u,e.toString=i,e},u.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=u,e.toString=i,e},u.TUnknown=["TUnknown",8],u.TUnknown.toString=i,u.TUnknown.__enum__=u;var d=function(){};e.Type=d,d.__name__=["Type"],d.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},d.getEnumName=function(t){return t.__ename__.join(".")},d.resolveClass=function(t){var i=e[t];return null!=i&&i.__name__?i:null},d.resolveEnum=function(t){var i=e[t];return null!=i&&i.__ename__?i:null},d.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new Cs("Too many arguments")}},d.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},d.createEnum=function(t,e,i){var s=l.field(t,e);if(null==s)throw new Cs("No such constructor "+e);if(l.isFunction(s)){if(null==i)throw new Cs("Constructor "+e+" need parameters");return s.apply(t,i)}if(null!=i&&0!=i.length)throw new Cs("Constructor "+e+" does not need parameters");return s},d.typeof=function(t){switch(typeof t){case"boolean":return u.TBool;case"function":return t.__name__||t.__ename__?u.TObject:u.TFunction;case"number":return Math.ceil(t)==t%2147483648?u.TInt:u.TFloat;case"object":if(null==t)return u.TNull;var e=t.__enum__;if(null!=e)return u.TEnum(e);var i=Es.getClass(t);return null!=i?u.TClass(i):u.TObject;case"string":return u.TClass(String);case"undefined":return u.TNull;default:return u.TUnknown}};var p=function(t){this.nodeType=t,this.children=[],this.attributeMap=new vs};e.Xml=p,p.__name__=["Xml"],p.parse=function(t){return Fs.parse(t)},p.createElement=function(t){var e=new p(p.Element);if(e.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},p.createPCData=function(t){var e=new p(p.PCData);if(e.nodeType==p.Document||e.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},p.createCData=function(t){var e=new p(p.CData);if(e.nodeType==p.Document||e.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},p.createComment=function(t){var e=new p(p.Comment);if(e.nodeType==p.Document||e.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},p.createDocType=function(t){var e=new p(p.DocType);if(e.nodeType==p.Document||e.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},p.createProcessingInstruction=function(t){var e=new p(p.ProcessingInstruction);if(e.nodeType==p.Document||e.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},p.createDocument=function(){return new p(p.Document)},p.prototype={get:function(t){if(this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Us[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+this.nodeType);var i=this.attributeMap;null!=Us[t]?i.setReserved(t,e):i.h[t]=e},exists:function(t){if(this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Us[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elementsNamed:function(t){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+this.nodeType);for(var e=[],i=0,s=this.children;i<s.length;){var n,r=s[i];if(++i,r.nodeType==p.Element){if(r.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+r.nodeType);n=r.nodeName==t}else n=!1;n&&e.push(r)}return o.iter(e)},addChild:function(t){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+this.nodeType);return!!o.remove(this.children,t)&&(t.parent=null,!0)},__class__:p};var g=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup"]=g,g.__name__=["com","drderico","flixel","DrPoolGroup"],g.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:g};var f=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_AcidDropsFx"]=f,f.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_AcidDropsFx"],f.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:f};var m=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_BloodDropsFx"]=m,m.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_BloodDropsFx"],m.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:m};var v=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_ChestOpeningFx"]=v,v.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_ChestOpeningFx"],v.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:v};var y=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_GemMovingFx"]=y,y.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_GemMovingFx"],y.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:y};var x=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_GemPickUpFx"]=x,x.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_GemPickUpFx"],x.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:x};var w=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_GravePickedUpFx"]=w,w.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_GravePickedUpFx"],w.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:w};var b=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_KittyPickUpFx"]=b,b.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_KittyPickUpFx"],b.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:b};var T=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_WaterDropsFx"]=T,T.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_WaterDropsFx"],T.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:T};var S=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_fx_WaterRedDropsFx"]=S,S.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_fx_WaterRedDropsFx"],S.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:S};var I=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_stuff_Ladder"]=I,I.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_stuff_Ladder"],I.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:I};var k=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_ui_WindowHelloPlayer"]=k,k.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_ui_WindowHelloPlayer"],k.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:k};var F=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_game_ui_WindowItemFound"]=F,F.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_game_ui_WindowItemFound"],F.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:F};var P=function(t){this._count=0,this._pool=[],this._class=t};e["com.drderico.flixel.DrPoolGroup_com_drderico_towerd_ui_ConfirmScreen"]=P,P.__name__=["com","drderico","flixel","DrPoolGroup_com_drderico_towerd_ui_ConfirmScreen"],P.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},cleanAndDestroy:function(t){if(!(t>=this._pool.length)){for(var e=t,i=this._pool.length;e<i;){var s=e++;null!=this._pool[s]&&(this._pool[s].destroy(),this._pool[s]=null),this._count--}this._pool.splice(t,this._pool.length-t)}},__class__:P};var C=function(){};e["com.drderico.flixel.FlixelHelper"]=C,C.__name__=["com","drderico","flixel","FlixelHelper"],C.loadGraphicFromTexture=function(t,e,i){t.loadTexture(e,i),t.resetFrame()},C.updateFrame=function(t,e){t.frameName=e,t.resetFrame()};var E=function(){};e["com.drderico.haxeutils.DrArray"]=E,E.__name__=["com","drderico","haxeutils","DrArray"],E.createIntArray2D=function(t,e,i){for(var s=[],n=0,o=t;n<o;){n++;for(var r=[],a=0,l=e;a<l;){a++;r.push(i)}s.push(r)}return s},E.inArray=function(t,e){for(var i=0,s=t.length;i<s;){if(t[i++]==e)return!0}return!1},E.truncate=function(t){t.length=0};var B=function(){this.salt=1e5*Math.random()|0,this.val=this.salt};e["com.drderico.haxeutils.DrSecretInt"]=B,B.__name__=["com","drderico","haxeutils","DrSecretInt"],B.prototype={get_value:function(){return this.val-this.salt},set_value:function(t){return this.val=t+this.salt,this.val},setSalt:function(t){this.salt=t},setValue:function(t){this.val=t},__class__:B};var L=function(){};e["com.drderico.haxeutils.DrUtils"]=L,L.__name__=["com","drderico","haxeutils","DrUtils"],L.min=function(t,e){return t<=e?t:e},L.max=function(t,e){return t>=e?t:e},L.minFloat=function(t,e){return t<=e?t:e},L.maxFloat=function(t,e){return t>=e?t:e},L.isIntersects=function(t,e,i,s,n,o,r,a){return!(t>n+r||n>t+i||e>o+a||o>e+s)},L.isDomainMatchesSiteLock=function(t,e){var i=t.indexOf("://");-1==i?i=0:i+=3;var s=t.indexOf("/",i),n=t.substring(i,s).toLowerCase().indexOf(e);if(-1==n)return!1;var o=t.substring(i,n);return-1==o.indexOf("?")&&-1==o.indexOf("&")},L.bound=function(t,e,i){var s=null!=e&&t<e?e:t;return null!=i&&s>i?i:s};var A=function(){};e["com.drderico.haxeutils.DrXor"]=A,A.__name__=["com","drderico","haxeutils","DrXor"],A.XORData=function(t){null==A.XORByte&&(A.XORByte=[],A.ResultByte=[],A.convertToArray(A.XOR_String,A.XORByte));var e=0;A.ResultByte.length=0,A.convertToArray(t,A.ResultByte);for(var i=0,s=A.ResultByte.length;i<s;){var n=i++;e=n%A.XORByteLength,A.ResultByte[n]^=A.XORByte[e]}for(var o="",r=0,a=A.ResultByte;r<a.length;){var l=a[r];++r,o+=String.fromCharCode(l)}return o},A.encodeInt=function(t){return t+540428<<3^11447150},A.decodeInt=function(t){return((11447150^t)>>3)-540428},A.convertToArray=function(t,e){for(var i=0,s=t.length;i<s;){var n=i++;e.push(o.cca(t,n))}};var O=function(){};e["com.drderico.towerd.Achievements"]=O,O.__name__=["com","drderico","towerd","Achievements"],O.unlock=function(t){};var M=function(){};e["com.drderico.towerd.AnimationManager"]=M,M.__name__=["com","drderico","towerd","AnimationManager"],M.scaleUpDown=function(t,e,i,s,n,o,r){return null==n&&(n=0),null==s&&(s=.025),null==i&&(i=1.2),null!=o&&o(null),null!=e&&e(null),null},M.showFromRightToLeft=function(t,e,i){M.showFromRightToLeft_onCompleteCallback=i,M.showFromRightToLeft_object=t,M.showFromRightToLeft_width=e,M.showFromRightToLeft_object.x=zi.game.width,rs.tween(M.showFromRightToLeft_object,{x:(zi.game.width-M.showFromRightToLeft_width)/2+20},.4,{ease:Phaser.Easing.Cubic.Out,onComplete:M.step2},M)},M.step2=function(t){rs.tween(M.showFromRightToLeft_object,{x:(zi.game.width-M.showFromRightToLeft_width)/2-20},.6,{onComplete:M.step3},M)},M.step3=function(t){rs.tween(M.showFromRightToLeft_object,{x:-M.showFromRightToLeft_width-20-X.screenOffsetX},.4,{ease:Phaser.Easing.Back.In,onComplete:M.onComplete},M)},M.onComplete=function(t){null!=M.showFromRightToLeft_onCompleteCallback&&M.showFromRightToLeft_onCompleteCallback()};var G=function(){this.prevParentBounds=new Phaser.Rectangle(0,0,1,1)};e["com.drderico.towerd.BootState"]=G,G.__name__=["com","drderico","towerd","BootState"],G.__interfaces__=[Phaser.ResizeCallback],G.__super__=Phaser.State,G.prototype=s(Phaser.State.prototype,{create:function(){this.state.start("Preloader")},init:function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.USER_SCALE,this.orientationPortrait=this.game.scale.isPortrait,this.game.scale.refresh(),this.game.device.desktop||this.game.scale.forceOrientation(!0,!1),this.game.scale.setResizeCallback(Ms(this,this.onResize),this),this.game.scale.onOrientationChange.add(Ms(this,this.onOrientationChange),this),this.onResize(this.game.scale,null)},onOrientationChange:function(t,e,i){window.document.getElementById("orientation").style.display=i?"none":"block"},onResize:function(t,e){if(this.windowWidth!=window.innerWidth||this.windowHeight!=window.innerHeight||this.orientationPortrait!=t.isPortrait){this.orientationPortrait=t.isPortrait,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.prevParentBounds.width=this.windowWidth,this.prevParentBounds.height=this.windowHeight;var i;i=Math.min(this.windowHeight/480,this.windowWidth/800),this.game.scale.setGameSize(this.windowWidth/i,480),this.game.scale.setUserScale(i,i),this.game.scale.refresh(),null==W.sceneManager||this.orientationPortrait||W.sceneManager.onGameResize()}},preload:function(){this.load.image("preloader","./assets/coolmathGames/splash.png")},__class__:G});var H=function(){};e["com.drderico.towerd.Constants"]=H,H.__name__=["com","drderico","towerd","Constants"];var D=function(){};e["com.drderico.towerd.FlickManager"]=D,D.__name__=["com","drderico","towerd","FlickManager"],D.flicker=function(t,e,i,s,n){null==s&&(s=!0),D.flickerQueue.push(t),0==e?D.flickerQueueRepeats.push(-1):D.flickerQueueRepeats.push(e/i),D.flickerQueueCallbacks.push(n),D.flickerQueueInterval.push(i),D.flickerQueueEndVisibility.push(s),D._flick(t,i)},D.stopFlickering=function(t){var e=D.flickerQueue.indexOf(t);-1!=e&&(t.visible=!0,X.cancelTween(D.flickerQueueTween[e]),D.deleteFlickValues(e))},D.stopFlickeringAll=function(){for(var t=0,e=D.flickerQueue.length;t<e;){var i=t++;null!=D.flickerQueueTween[i]&&X.cancelTween(D.flickerQueueTween[i])}D.flickerQueueRepeats.length=0,D.flickerQueueCallbacks.length=0,D.flickerQueueInterval.length=0,D.flickerQueue.length=0,D.flickerQueueEndVisibility.length=0,D.flickerQueueTween.length=0},D.deleteFlickValues=function(t){D.flickerQueueRepeats.splice(t,1),D.flickerQueueCallbacks.splice(t,1),D.flickerQueueInterval.splice(t,1),D.flickerQueue.splice(t,1),D.flickerQueueEndVisibility.splice(t,1),D.flickerQueueTween.splice(t,1)},D._flick=function(t,e){var i=X.delay(e,function(e){D._flick2(t)},t,D);D.flickerQueueTween[D.flickerQueue.indexOf(t)]=i},D._flick2=function(t){var e=D.flickerQueue.indexOf(t);D.flickerQueueRepeats[e]>0&&D.flickerQueueRepeats[e]--,0!=D.flickerQueueRepeats[e]?(t.visible=!t.visible,D._flick(t,D.flickerQueueInterval[e])):(t.visible=D.flickerQueueEndVisibility[e],null!=D.flickerQueueCallbacks[e]&&D.flickerQueueCallbacks[e](),-1!=(e=D.flickerQueue.indexOf(t))&&D.deleteFlickValues(e))};var N=function(){};e["com.drderico.towerd.GoogleGames"]=N,N.__name__=["com","drderico","towerd","GoogleGames"];var R=function(){var t={width:800,height:480,enableDebug:!1,renderer:Phaser.AUTO,transparent:!1,antialias:!0,resolution:1,preserveDrawingBuffer:!1,physicsConfig:Phaser.Physics.ARCADE,state:{create:Ms(this,this.create)},multiTextue:!0};zi.createGameFromConfig(t),zi.game.state.add("Boot",G),zi.game.state.add("Preloader",U),zi.game.state.add("PlayState",W),zi.game.state.start("Boot")};e["com.drderico.towerd.Main"]=R,R.__name__=["com","drderico","towerd","Main"],R.main=function(){new R},R.prototype={create:function(){},__class__:R};var W=function(){};e["com.drderico.towerd.PlayState"]=W,W.__name__=["com","drderico","towerd","PlayState"],W.checkAchievements=function(){z.ach_killed_npcs.get_value()>=25&&O.unlock("CgkI_f7-8JsKEAIQDQ"),z.ach_killed_npcs.get_value()>=50&&O.unlock("CgkI_f7-8JsKEAIQDg"),z.ach_killed_npcs.get_value()>=75&&O.unlock("CgkI_f7-8JsKEAIQDw"),z.ach_killed_npcs.get_value()>=100&&O.unlock("CgkI_f7-8JsKEAIQEA"),z.ach_kitties.get_value()>=25&&O.unlock("CgkI_f7-8JsKEAIQFw"),z.ach_kitties.get_value()>=50&&O.unlock("CgkI_f7-8JsKEAIQGA"),z.ach_kitties.get_value()>=75&&O.unlock("CgkI_f7-8JsKEAIQGQ"),z.ach_kitties.get_value()>=100&&O.unlock("CgkI_f7-8JsKEAIQGg"),z.ach_gems_collected_by_magnet.get_value()>=25&&O.unlock("CgkI_f7-8JsKEAIQBQ"),z.ach_gems_collected_by_magnet.get_value()>=50&&O.unlock("CgkI_f7-8JsKEAIQBg"),z.ach_gems_collected_by_magnet.get_value()>=75&&O.unlock("CgkI_f7-8JsKEAIQBw"),z.ach_gems_collected_by_magnet.get_value()>=100&&O.unlock("CgkI_f7-8JsKEAIQCA")},W.changeBgColor=function(){if(W.THIS.stage.backgroundColor!=H.BG_COLORS[z.envSetting.get_value()]){var t=H.BG_COLORS,e=z.envSetting.get_value();W.THIS.stage.backgroundColor=t[e],Nt.changeBg(),null!=Ei.bgLevel&&Ei.bgLevel.changeWallsColor(!0)}},W.onGetPlayerScoreResult=function(t){t>0&&(z.helloPlayerWindow=!1),z.bestScore.get_value()<t&&(z.bestScore.set_value(t),Ei.needUpdateBestScore=!0)},W.changeCssBgColor=function(){var t=H.BG_COLORS[z.envSetting.get_value()];document.body.style.background=t},W.__super__=Phaser.State,W.prototype=s(Phaser.State.prototype,{create:function(){zi.game.input.keyboard.addKeyCapture([Phaser.Keyboard.SPACEBAR]),zi.game.physics.startSystem(Phaser.Physics.ARCADE),W.THIS=this,W.tweenManager=new Phaser.TweenManager(zi.game),W.tweenManager.frameBased=!0,W.gameTweenManager=rs.get_globalManager(),W.gameTweenManager.frameBased=!0,W.timeManager=new Phaser.Time(zi.game),W.gameTimeManager=zi.game.time,X.onResourcesLoaded(),this.stage.backgroundColor=0,$.create(),ce.create(),W.sceneManager=new K,this.add.existing(W.sceneManager),J.create(),W.sceneManager.showTitleScreen(),W.changeBgColor(),zi.get_camera().flash(0,1e3,!0)},update:function(){if(W.needToShowBatchUnlockMessage){W.needToShowBatchUnlockMessage=!1,z.noAds.set_value(1);var t=z.heroLivesMax;t.set_value(t.get_value()+2);var e=z.gems;e.set_value(e.get_value()+100);var i=z.coins;i.set_value(i.get_value()+150),j.powerup_pickup(),z.save(),Ei.getInstance().updateValues(),W.sceneManager.showConfirmScreen(Ei.getInstance(),Yi.flags(X.tongue.get("$BATCH_OFFER_UNLOCKED"),["<X>"],[W.appPromoName]),null,!1)}zi.game.device.desktop&&(W.canPressEscape&&zi.game.input.keyboard.isDown(Phaser.Keyboard.ESC)&&zi.game.input.keyboard.downDuration(Phaser.Keyboard.ESC,250)&&(W.canPressEscape=!1,W.sceneManager.onBackBtnPressed(!0)),!zi.game.input.keyboard.isDown(Phaser.Keyboard.ESC)&&zi.game.input.keyboard.upDuration(Phaser.Keyboard.ESC,250)&&(W.canPressEscape=!0)),Phaser.State.prototype.update.call(this)},__class__:W});var U=function(){};e["com.drderico.towerd.PreloaderState"]=U,U.__name__=["com","drderico","towerd","PreloaderState"],U.__super__=Phaser.State,U.prototype=s(Phaser.State.prototype,{preload:function(){this.stage.backgroundColor="#000000";var t=this.add.sprite(0,0,"preloader");X.setPosUsingCenter(t,zi.game.width/2,240-X.screenOffsetY),this.load.setPreloadSprite(t),z.load(),X.loadAssets()},create:function(){this.state.start("PlayState")},__class__:U});var X=function(){};e["com.drderico.towerd.RM"]=X,X.__name__=["com","drderico","towerd","RM"],X.loadAssets=function(){zi.game.load.atlas(X.t,"./assets/images/t1.png","./assets/images/t1.json"),zi.game.load.atlas(X.t2,"./assets/images/t2.png","./assets/images/t2.json");for(var t=0,e=X.bgTiles;t<e.length;){var i=e[t];++t,zi.game.load.image(i,"./assets/images//no_pack/"+i)}for(var s=0,n=X.tilemapTiles;s<n.length;){var o=n[s];++s,zi.game.load.image(o,"./assets/images//no_pack/"+o),H.MAP_TEXTURES.push(o)}zi.game.load.image(X.wmap,"./assets/images//wmap/"+X.wmap),zi.game.load.bitmapFont(X.font16_white,"./assets/fonts/font16.png","./assets/fonts/font16.fnt"),zi.game.load.bitmapFont(X.font24_white,"./assets/fonts/font28.png","./assets/fonts/font28.fnt"),zi.game.load.bitmapFont(X.font48_white,"./assets/fonts/font48.png","./assets/fonts/font48.fnt"),j.load(),zi.game.load.text("assets/locales/coolMathEnUS/data.tsv","assets/locales/coolMathEnUS/data.tsv"),zi.game.load.text("assets/locales/index.xml","assets/locales/index.xml"),X.tongue=new Wi(null,X.ftCheckFile,X.ftGetText,X.getDirectoryContents)},X.getDirectoryContents=function(t){return[]},X.ftGetText=function(t){return zi.game.cache.getText(t)},X.ftCheckFile=function(t){return zi.game.cache.checkTextKey(t)},X.setPos=function(t,e,i){t.x=e+t.offsetX,t.y=i+t.offsetY},X.setPosForGroup=function(t,e,i){t.x=e,t.y=i},X.createButton=function(t,e,i){return new Phaser.Button(zi.game,0,0,X.t,e,i,t,t,t,t)},X.setScale=function(t,e,i){null==e?t.scale.set(1,1):t.scale.set(e,e),null==i&&(i=!1),i&&t.anchor.setTo(.5,.5)},X.cancelTween=function(t){null!=t&&Es.__cast(t,Phaser.Tween).stop(!1)},X.cancelTimerEvent=function(t){null!=t&&null!=t.timer&&t.timer.destroy()},X.getBitmapData=function(t,e,i,s,n){null==n&&(n=!1);var o=zi.game.make.bitmapData(t,e,s,n);return o.ctx.beginPath(),o.ctx.rect(0,0,t,e),o.ctx.fillStyle=i,o.ctx.fill(),o},X.delay=function(t,e,i,s){var n=rs.tween({},{},t,{},s);return null!=i?n.onComplete.addOnce(e,s,0,i):n.onComplete.addOnce(e,s),n},X.stopClickProp=function(){zi.game.input.reset(!0)},X.onBtnClicked=function(t,e){X.stopClickProp(),j.click(),M.scaleUpDown(t,e)},X.shake=function(t,e){zi.game.camera.shake(100*t,300*e,!0)},X.toogleSound=function(){},X.setPosUsingCenter=function(t,e,i){null==i&&(i=0),null==e&&(e=0),t.x=e-t.width/2+t.offsetX,t.y=i-t.height/2+t.offsetY},X.arcadeBody=function(t){return t},X.getText=function(t,e){null==e&&(e="left"),null==t&&(t=20);var i=new Re(0,0,X.font24_white,"",t,e);return i.tint=16501556,X.setScale(i),i},X.onResourcesLoaded=function(){X.tongue.init("coolMathEnUS",null,!1,!0)},X.isAnyKeyJustPressed=function(){return!!zi.game.input.keyboard.upDuration(Phaser.Keyboard.SPACEBAR)||!!zi.game.input.activePointer.withinGame&&zi.game.input.activePointer.justPressed()},X.toggleMusicBtns=function(t){switch(z.music){case 0:C.loadGraphicFromTexture(t,X.t,"musicOnBtn.png");break;case 1:C.loadGraphicFromTexture(t,X.t,"music2OnBtn.png");break;case 2:C.loadGraphicFromTexture(t,X.t,"musicOffBtn.png")}},X._onMusicBtnPressed=function(){var t=z,e=t.music;t.set_music(e+1),z.save(!0)},X.enableBody=function(t){zi.game.physics.arcade.enable(t,!1)};var Y=function(){};e["flixel.util.IFlxDestroyableGroup"]=Y,Y.__name__=["flixel","util","IFlxDestroyableGroup"],Y.prototype={__class__:Y};var V=function(){Phaser.Group.call(this,zi.game,null,"",!1,!1)};e["flixel.group.FlxTypedGroup"]=V,V.__name__=["flixel","group","FlxTypedGroup"],V.__interfaces__=[Y],V.__super__=Phaser.Group,V.prototype=s(Phaser.Group.prototype,{destroy:function(t,e){Phaser.Group.prototype.destroy.call(this,t,e)},get_active:function(){return this.exists},set_active:function(t){var e=this.visible;return this.exists=t,this.visible=e,t},disableInput:function(){this.disableInput_(this)},disableInput_:function(t){for(var e=0,i=t.children;e<i.length;){var s=i[e];++e,Es.__instanceof(s,V)?this.disableInput_(Es.__cast(s,V)):Es.__instanceof(s,Xe)&&Es.__cast(s,Xe).disable()}},enableInput:function(){this.enableInput_(this)},enableInput_:function(t){for(var e=0,i=t.children;e<i.length;){var s=i[e];++e,Es.__instanceof(s,V)?this.enableInput_(Es.__cast(s,V)):Es.__instanceof(s,Xe)&&Es.__cast(s,Xe).enable()}},__class__:V});var K=function(){V.call(this),K.onGameResizeSignal=new Phaser.Signal,K.myGame=new Q,K.menu=new Ei,K.hud=new Nt,K.pauseScreen=new xi,K.shopScreen=new Gi,K.shopSkinScreen=new Ni,K.parentScreens=[]};e["com.drderico.towerd.SceneManager"]=K,K.__name__=["com","drderico","towerd","SceneManager"],K.popParentScreen=function(){if(K.parentScreens.length>0){var t=K.parentScreens.pop();t.set_active(!0),t.enableInput()}if(K.parentScreens.length>0)K.parentScreen=K.parentScreens[K.parentScreens.length-1];else K.state},K.__super__=V,K.prototype=s(V.prototype,{showGameScene:function(){this.removeAll_(),rs.set_globalManager(W.gameTweenManager),K.backBtnListener=K.hud,this.add(K.myGame),this.add(K.hud),Nt.init(),K.hud.set_active(!0),K.myGame.set_active(!0),K.state=1,K.hud.enableInput(),J.startNewGame(),tt.active?j.tutorial():j.game()},showTitleScreen:function(){K.state=0,this.removeAll_(),rs.set_globalManager(W.tweenManager),this.add(K.menu),K.menu.set_active(!0),K.menu.enableInput(),zi.get_sound().stopAll(),K.backBtnListener=K.menu,X.delay(.1,j.menu,null,j),K.menu.show(),W.changeCssBgColor()},removeAll_:function(){this.remove(K.myGame,!1,!0),this.remove(K.hud,!1,!0),this.remove(K.pauseScreen,!1,!0),this.remove(K.shopScreen,!1,!0),this.remove(K.menu,!1,!0),K.myGame.disableInput(),K.hud.disableInput(),K.pauseScreen.disableInput(),K.shopScreen.disableInput(),K.menu.disableInput(),ki.remove(this),Fi.hide(this),W.gameTweenManager.removeAll(),W.tweenManager.removeAll(),W.timeManager.removeAll(),W.gameTimeManager.removeAll(),K.menu.onHide(),K.parentScreens.length=0,X.stopClickProp()},showConfirmScreen:function(t,e,i,s,n){null==s&&(s=!0),Fi.isVisible()?this.pushParentScreen(Fi.curScreen):0==K.state?this.pushParentScreen(t):1==K.state&&(J.paused||this.showPause(),this.pushParentScreen(K.pauseScreen)),Fi.show(this,e,i,s,n)},pushParentScreen:function(t){null!=t&&-1==K.parentScreens.indexOf(t)&&(K.parentScreens.push(t),K.parentScreen=t,K.parentScreen.set_active(!1),K.parentScreen.disableInput())},showPause:function(){1!=K.state||J.paused||J.isGameOver||!J.isLevelRunning||tt.active||(z.save(),j.pauseMusic(),K.myGame.set_active(!1),K.hud.set_active(!1),K.hud.disableInput(),J.paused=!0,rs.set_globalManager(W.tweenManager),ki.add(this),this.add(K.pauseScreen),K.pauseScreen.show(),K.backBtnListener=K.pauseScreen)},hidePause:function(){1==K.state&&J.paused&&(K.myGame.set_active(!0),K.hud.set_active(!0),rs.set_globalManager(W.gameTweenManager),J.paused=!1,this.remove(K.pauseScreen,!1,!0),K.pauseScreen.disableInput(),ki.remove(this),K.backBtnListener=K.hud,K.hud.enableInput(),j.resumeMusic())},hideConfirmScreen:function(){K.popParentScreen(),Fi.hide(this)},onBackBtnPressed:function(t){null==t&&(t=!1),Fi.isVisible()?Fi.onBackBtnPressed():Gi.isVisible?(t&&j.click(),W.sceneManager.hideShopScreen()):Ni.isVisible?(t&&j.click(),W.sceneManager.hideShopSkinScreen()):null!=K.backBtnListener&&K.backBtnListener.onBackBtnPressed(t)},onPause:function(){1==K.state&&this.showPause()},showShopScreen:function(t,e){this.pushParentScreen(t),ki.add(this),this.add(K.shopScreen),K.shopScreen.show(),K.shopScreenOnCloseCallback=e},showShopSkinScreen:function(t){this.pushParentScreen(t),ki.add(this),this.add(K.shopSkinScreen),K.shopSkinScreen.show(),K.shopSkinScreen.enableInput()},hideShopScreen:function(){Gi.isVisible=!1,K.shopScreen.disableInput(),ki.remove(this),this.remove(K.shopScreen,!1,!0),K.popParentScreen(),null!=K.shopScreenOnCloseCallback&&K.shopScreenOnCloseCallback()},showNotEnoughCoins:function(t){var e=this;W.sceneManager.showConfirmScreen(t,X.tongue.get("$NOT_ENOUGH_MONEY_TO_BUY"),Ms(this,this.hideNotEnoughCoins),!1,function(){e.hideNotEnoughCoins()})},hideNotEnoughCoins:function(){},hideShopSkinScreen:function(){Ni.isVisible=!1,ki.remove(this),K.shopSkinScreen.disableInput(),this.remove(K.shopSkinScreen,!1,!0),K.popParentScreen()},onAwardRecieved:function(){var t=null;Gi.isVisible?t=K.shopScreen:Ni.isVisible&&(t=K.shopSkinScreen),W.sceneManager.showConfirmScreen(t,Yi.flags(X.tongue.get("$YOU_GOT_FREE_COINS"),["<X>"],["100"]),null,!1);var e=z.coins;e.set_value(e.get_value()+100),Ei.coinsHud.updateText(!1),z.save(),j.moneyRewardRecieved()},onGameResize:function(){null!=K.onGameResizeSignal&&K.onGameResizeSignal.dispatch()},__class__:K});var z=function(){};e["com.drderico.towerd.Settings"]=z,z.__name__=["com","drderico","towerd","Settings"],z.load=function(){if(z._gameSave=new hs,z.checkNullSave(),z.bestScore=new B,z.bestLevel=new B,z.score=new B,z.coins=new B,z.level=new B,z.gems=new B,z.heroLivesMax=new B,z.magnetLevel=new B,z.invulnerabilityLevel=new B,z.envSetting=new B,z.ach_gems_collected_by_magnet=new B,z.ach_killed_npcs=new B,z.ach_kitties=new B,z.noAds=new B,z.heroLives=new B,z.heroSkin=new B,z.temp=new B,z.loadSecretInt(z.ach_gems_collected_by_magnet,z._gameSave.data.ach_gems_collected_by_magnet),z.loadSecretInt(z.ach_killed_npcs,z._gameSave.data.ach_killed_npcs),z.loadSecretInt(z.ach_kitties,z._gameSave.data.ach_kitties),z.loadSecretInt(z.envSetting,z._gameSave.data.envSetting,0,0,4),z.loadSecretInt(z.bestScore,z._gameSave.data.bestScore,0,0,1e8),z.loadSecretInt(z.bestLevel,z._gameSave.data.bestLevel,0,0,1e5),z.loadSecretInt(z.coins,z._gameSave.data.coins),z.loadSecretInt(z.gems,z._gameSave.data.gems),z.loadSecretInt(z.magnetLevel,z._gameSave.data.magnetLevel),z.loadSecretInt(z.invulnerabilityLevel,z._gameSave.data.invulnerabilityLevel),z.loadSecretInt(z.heroLivesMax,z._gameSave.data.heroLivesMax,3,3,99),z.loadSecretInt(z.noAds,z._gameSave.data.noAds,0,0,1),z.loadSecretInt(z.level,z._gameSave.data.level,0,0,z.bestLevel.get_value()),z.loadSecretInt(z.score,z._gameSave.data.score,0,0,z.bestScore.get_value()),z.loadSecretInt(z.heroLives,z._gameSave.data.heroLives,0,0,z.heroLivesMax.get_value()),z.loadSecretInt(z.heroSkin,z._gameSave.data.heroSkin,0,0,7),null==z._gameSave.data.music2?z.set_music(0):z.set_music(z._gameSave.data.music2),null==z._gameSave.data.itemShieldFirstTouch?z.itemShieldFirstTouch=!0:z.itemShieldFirstTouch=z._gameSave.data.itemShieldFirstTouch,null==z._gameSave.data.itemMagnetFirstTouch?z.itemMagnetFirstTouch=!0:z.itemMagnetFirstTouch=z._gameSave.data.itemMagnetFirstTouch,null==z._gameSave.data.itemArtefactFirstTouch?z.itemArtefactFirstTouch=!0:z.itemArtefactFirstTouch=z._gameSave.data.itemArtefactFirstTouch,null==z._gameSave.data.itemTombFirstTouch?z.itemTombFirstTouch=!0:z.itemTombFirstTouch=z._gameSave.data.itemTombFirstTouch,null==z._gameSave.data.bgColorIdx?z.bgColorIdx=0:z.bgColorIdx=z._gameSave.data.bgColorIdx,null==z._gameSave.data.shopBtnShown?z.shopBtnShown=!1:z.shopBtnShown=z._gameSave.data.shopBtnShown,null==z._gameSave.data.shopSkinBtnShown?z.shopSkinBtnShown=!1:z.shopSkinBtnShown=z._gameSave.data.shopSkinBtnShown,null==z._gameSave.data.helloPlayerWindow?z.helloPlayerWindow=!0:z.helloPlayerWindow=z._gameSave.data.helloPlayerWindow,null==z._gameSave.data.gameOver?z.gameOver=!0:z.gameOver=z._gameSave.data.gameOver,null==z._gameSave.data.deathLevels)z.deathLevels=[];else try{z.deathLevels=gs.run(z._gameSave.data.deathLevels)}catch(t){z.deathLevels=[]}var t=!1;if(null==z._gameSave.data.heroSkinAvailable2)t=!1;else try{z.heroSkinAvailable=z._gameSave.data.heroSkinAvailable2,t=!0}catch(t){}if(!t){z.heroSkinAvailable=[];for(var e=0;e<12;){var i=e++;z.heroSkinAvailable[i]=0}}z.heroSkinAvailable[0]=128},z.loadSecretInt=function(t,e,i,s,n){null==n&&(n=2147483647),null==s&&(s=0),null==i&&(i=0),null==e?t.set_value(s):(t.set_value(((11447150^h.parseInt(A.XORData(e)))>>3)-540428),(t.get_value()<s||t.get_value()>n)&&t.set_value(i))},z.decodeStringToInt=function(t){return((11447150^h.parseInt(A.XORData(t)))>>3)-540428},z.encodeIntToString=function(t){return A.XORData(h.string(t+540428<<3^11447150))},z.save=function(t,e){null==e&&(e=!0),null==t&&(t=!1),z.saveMusicOnly=t,z.saveAsync()},z.saveAsync=function(){if(z.checkNullSave(),z._gameSave.data.music2=z.music,!z.saveMusicOnly){var t=A.XORData(h.string(z.ach_gems_collected_by_magnet.get_value()+540428<<3^11447150));z._gameSave.data.ach_gems_collected_by_magnet=t;var e=A.XORData(h.string(z.ach_killed_npcs.get_value()+540428<<3^11447150));z._gameSave.data.ach_killed_npcs=e;var i=A.XORData(h.string(z.ach_kitties.get_value()+540428<<3^11447150));z._gameSave.data.ach_kitties=i;var s=A.XORData(h.string(z.bestScore.get_value()+540428<<3^11447150));z._gameSave.data.bestScore=s;var n=A.XORData(h.string(z.bestLevel.get_value()+540428<<3^11447150));z._gameSave.data.bestLevel=n;var o=A.XORData(h.string(z.coins.get_value()+540428<<3^11447150));z._gameSave.data.coins=o;var r=A.XORData(h.string(z.envSetting.get_value()+540428<<3^11447150));z._gameSave.data.envSetting=r;var a=A.XORData(h.string(z.magnetLevel.get_value()+540428<<3^11447150));z._gameSave.data.magnetLevel=a;var l=A.XORData(h.string(z.invulnerabilityLevel.get_value()+540428<<3^11447150));z._gameSave.data.invulnerabilityLevel=l;var c=A.XORData(h.string(z.gems.get_value()+540428<<3^11447150));z._gameSave.data.gems=c;var _=A.XORData(h.string(z.heroLivesMax.get_value()+540428<<3^11447150));z._gameSave.data.heroLivesMax=_;var u=A.XORData(h.string(z.noAds.get_value()+540428<<3^11447150));z._gameSave.data.noAds=u;var d=A.XORData(h.string(z.heroSkin.get_value()+540428<<3^11447150));z._gameSave.data.heroSkin=d;var p=A.XORData(h.string(z.level.get_value()+540428<<3^11447150));z._gameSave.data.level=p;var g=A.XORData(h.string(z.score.get_value()+540428<<3^11447150));z._gameSave.data.score=g;var f=A.XORData(h.string(z.heroLives.get_value()+540428<<3^11447150));z._gameSave.data.heroLives=f,z._gameSave.data.gameOver=z.gameOver,z._gameSave.data.shopBtnShown=z.shopBtnShown,z._gameSave.data.shopSkinBtnShown=z.shopSkinBtnShown,z._gameSave.data.bgColorIdx=z.bgColorIdx,z._gameSave.data.itemShieldFirstTouch=z.itemShieldFirstTouch,z._gameSave.data.itemMagnetFirstTouch=z.itemMagnetFirstTouch,z._gameSave.data.itemArtefactFirstTouch=z.itemArtefactFirstTouch,z._gameSave.data.itemTombFirstTouch=z.itemTombFirstTouch,z._gameSave.data.helloPlayerWindow=z.helloPlayerWindow,z._gameSave.data.deathLevels=ds.run(z.deathLevels),z._gameSave.data.heroSkinAvailable2=z.heroSkinAvailable}z._gameSave.close()},z.checkNullSave=function(){z._gameSave.bind("towerd")},z.set_music=function(t){return z.music=t,3==z.music&&(z.music=0),zi.get_sound().mute=2==z.music,0==z.music?j.unmuteMusic():1==z.music&&j.muteMusic(),t},z.showAds=function(){return 0==z.noAds.get_value()},z.isSkinAvailable=function(t){return 0!=(128&z.heroSkinAvailable[t])},z.buySkin=function(t){t<0||t>=12||(z.heroSkinAvailable[t]|=128)};var j=function(){};e["com.drderico.towerd.SfxManager"]=j,j.__name__=["com","drderico","towerd","SfxManager"],j.load=function(){zi.game.sound.boot(),zi.game.load.audio("assets/sounds/click",["assets/sounds/click.mp3","assets/sounds/click.ogg"]),zi.game.load.audio("assets/sounds/gameover_expl",["assets/sounds/gameover_expl.mp3","assets/sounds/gameover_expl.ogg"]),zi.game.load.audio("assets/sounds/gameover",["assets/sounds/gameover.mp3","assets/sounds/gameover.ogg"]),zi.game.load.audio("assets/sounds/chest",["assets/sounds/chest.mp3","assets/sounds/chest.ogg"]),zi.game.load.audio("assets/sounds/ladder_show",["assets/sounds/ladder_show.mp3","assets/sounds/ladder_show.ogg"]),zi.game.load.audio("assets/sounds/hero_jump",["assets/sounds/hero_jump.mp3","assets/sounds/hero_jump.ogg"]),zi.game.load.audio("assets/sounds/fireball_spawn",["assets/sounds/fireball_spawn.mp3","assets/sounds/fireball_spawn.ogg"]),zi.game.load.audio("assets/sounds/hero_hurt_by_fireball",["assets/sounds/hero_hurt_by_fireball.mp3","assets/sounds/hero_hurt_by_fireball.ogg"]),zi.game.load.audio("assets/sounds/water_sfx",["assets/sounds/water_sfx.mp3","assets/sounds/water_sfx.ogg"]),zi.game.load.audio("assets/sounds/water_hurt",["assets/sounds/water_hurt.mp3","assets/sounds/water_hurt.ogg"]),zi.game.load.audio("assets/sounds/meow1",["assets/sounds/meow1.mp3","assets/sounds/meow1.ogg"]),zi.game.load.audio("assets/sounds/meow2",["assets/sounds/meow2.mp3","assets/sounds/meow2.ogg"]),zi.game.load.audio("assets/sounds/coin",["assets/sounds/coin.mp3","assets/sounds/coin.ogg"]),zi.game.load.audio("assets/sounds/gem_pickup",["assets/sounds/gem_pickup.mp3","assets/sounds/gem_pickup.ogg"]),zi.game.load.audio("assets/sounds/get_kitty",["assets/sounds/get_kitty.mp3","assets/sounds/get_kitty.ogg"]),zi.game.load.audio("assets/sounds/hero_hurt1",["assets/sounds/hero_hurt1.mp3","assets/sounds/hero_hurt1.ogg"]),zi.game.load.audio("assets/sounds/hero_hurt2",["assets/sounds/hero_hurt2.mp3","assets/sounds/hero_hurt2.ogg"]),zi.game.load.audio("assets/sounds/hero_hurt3",["assets/sounds/hero_hurt3.mp3","assets/sounds/hero_hurt3.ogg"]),zi.game.load.audio("assets/sounds/GTC_MagicUp",["assets/sounds/GTC_MagicUp.mp3","assets/sounds/GTC_MagicUp.ogg"]),zi.game.load.audio("assets/sounds/hit_bottom",["assets/sounds/hit_bottom.mp3","assets/sounds/hit_bottom.ogg"]),zi.game.load.audio("assets/sounds/npc_die",["assets/sounds/npc_die.mp3","assets/sounds/npc_die.ogg"]),zi.game.load.audio("assets/sounds/npc_die_voice1",["assets/sounds/npc_die_voice1.mp3","assets/sounds/npc_die_voice1.ogg"]),zi.game.load.audio("assets/sounds/npc_die_voice2",["assets/sounds/npc_die_voice2.mp3","assets/sounds/npc_die_voice2.ogg"]),zi.game.load.audio("assets/sounds/npc_die_voice3",["assets/sounds/npc_die_voice3.mp3","assets/sounds/npc_die_voice3.ogg"]),zi.game.load.audio("assets/sounds/npc_die_voice4",["assets/sounds/npc_die_voice4.mp3","assets/sounds/npc_die_voice4.ogg"]),zi.game.load.audio("assets/sounds/tombExplosion",["assets/sounds/tombExplosion.mp3","assets/sounds/tombExplosion.ogg"]),zi.game.load.audio("assets/sounds/GTC_MagicUp",["assets/sounds/GTC_MagicUp.mp3","assets/sounds/GTC_MagicUp.ogg"]),zi.game.load.audio("assets/music/game",["assets/music/game.mp3","assets/music/game.ogg"]),zi.game.load.audio("assets/music/game2",["assets/music/game2.mp3","assets/music/game2.ogg"]),zi.game.load.audio("assets/music/menu",["assets/music/menu.mp3","assets/music/menu.ogg"]),zi.game.load.audio("assets/music/tutorial",["assets/music/tutorial.mp3","assets/music/tutorial.ogg"])},j.reset=function(){zi.game.sound.stopAll()},j.click=function(){zi.get_sound().play("assets/sounds/click",1)},j.game=function(){j.stopMusic();var t=(z.level.get_value()+1)/25|0,e=0==z.music?.7:0;j.musicSound=zi.get_sound().play(t%2==0?"assets/music/game":"assets/music/game2",e,!0)},j.menu=function(t){j.stopMusic();var e=0==z.music?1:0;j.musicSound=zi.get_sound().play("assets/music/menu",e,!0)},j.tutorial=function(){j.stopMusic();var t=0==z.music?.7:0;j.musicSound=zi.get_sound().play("assets/music/tutorial",t,!0)},j.gameover=function(){j.water_sfx_cnt=0,zi.get_sound().play("assets/sounds/gameover_expl",.35),zi.get_sound().play("assets/sounds/gameover",1)},j.chest=function(){zi.get_sound().play("assets/sounds/chest",.7)},j.ladder_show=function(){zi.get_sound().play("assets/sounds/ladder_show",1)},j.hero_jump=function(){zi.get_sound().play("assets/sounds/hero_jump",.7)},j.fireball_spawn=function(){zi.get_sound().play("assets/sounds/fireball_spawn",1)},j.hero_hurt_by_fireball=function(){zi.get_sound().play("assets/sounds/hero_hurt_by_fireball",1)},j.water_env=function(){j.water_sfx_cnt++,null==j.waterenv_sound&&(j.waterenv_sound=zi.get_sound().play("assets/sounds/water_sfx",.35,!0))},j.water_env_stop=function(){j.water_sfx_cnt--,0==j.water_sfx_cnt&&(j.waterenv_sound.onFadeComplete.addOnce(j._water_env_stop),j.waterenv_sound.fadeOut(1))},j._water_env_stop=function(t,e){j.waterenv_sound.stop(),j.waterenv_sound=null},j.water_hurt=function(){null==j.water_hurt_sound&&(j.water_hurt_sound=zi.get_sound().play("assets/sounds/water_hurt",.7),j.water_hurt_sound.onStop.addOnce(j._water_hurt))},j._water_hurt=function(t,e){j.water_hurt_sound=null},j.stopMusic=function(){null!=j.musicSound&&(j.musicSound.stop(),j.musicSound=null)},j.coin_pickup=function(){zi.get_sound().play("assets/sounds/coin",1)},j.gem_pickup=function(){zi.get_sound().play("assets/sounds/gem_pickup",.7)},j.powerup_pickup=function(){zi.get_sound().play("assets/sounds/GTC_MagicUp",.7)},j.get_kitty=function(){zi.get_sound().play("assets/sounds/get_kitty",.7)},j.hero_hurt=function(){switch(zi.random.int(0,2)){case 0:zi.get_sound().play("assets/sounds/hero_hurt1",.7);break;case 1:zi.get_sound().play("assets/sounds/hero_hurt2",.7);break;case 2:zi.get_sound().play("assets/sounds/hero_hurt3",.7)}},j.meow=function(){zi.random.float(0,100)<50?zi.get_sound().play("assets/sounds/meow1",1):zi.get_sound().play("assets/sounds/meow2",1)},j.touchFloor=function(){zi.get_sound().play("assets/sounds/hit_bottom",1)},j.tombExplosion=function(){zi.get_sound().play("assets/sounds/tombExplosion",.7)},j.npcDie=function(){switch(zi.random.int(0,3)){case 0:zi.get_sound().play("assets/sounds/npc_die_voice1",.7);break;case 1:zi.get_sound().play("assets/sounds/npc_die_voice2",.7);break;case 2:zi.get_sound().play("assets/sounds/npc_die_voice3",.7);break;case 3:zi.get_sound().play("assets/sounds/npc_die_voice4",.7)}zi.get_sound().play("assets/sounds/npc_die",.7)},j.moneyRewardRecieved=function(){zi.get_sound().play("assets/sounds/GTC_MagicUp",.7)},j.muteMusic=function(){null!=j.musicSound&&j.musicSound.pause()},j.unmuteMusic=function(){null!=j.musicSound&&j.musicSound.resume()},j.resumeMusic=function(){j.unmuteMusic()},j.pauseMusic=function(){j.muteMusic()};var Q=function(){V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),Q.THIS=this,this.onGameResize(),Q.levels=[],Q.levels[0]=new q,Q.levels[1]=new q,Q._fx=new V,Q._fxUnderHero=new V,Q._fxDead=new V,Q._ladderGroup=new V,Q.hero=new Ot,Q.cameraTargetObject=new rt,Q.cameraTargetObject.width=2,Q.cameraTargetObject.height=2,Q.cameraTargetObject.anchor.set(.5,.5),Q.cameraTargetObject.set_active(!1),Q.cameraTargetObject.renderable=!1,gt.get().kill(),xt.get().kill(),yt.get().kill(),pt.get().kill(),nt.get().kill(),It.get().kill(),kt.get().kill(),st.get().kill(),it.get().kill(),this.add(Q.levels[0].bg),this.add(Q.levels[1].bg),this.add(Q.levels[0].gfx),this.add(Q.levels[1].gfx),this.add(Q.levels[0].enemies),this.add(Q.levels[1].enemies),this.add(Q.levels[0].layerSprite),this.add(Q.levels[1].layerSprite),this.add(Q.levels[0].blackArea),this.add(Q.levels[1].blackArea),this.add(Q.levels[0]),this.add(Q.levels[1]),this.add(Q._ladderGroup),this.add(Q._fxUnderHero),this.add(Q.hero),this.add(Q.hero.skin),this.add(Q.hero.magnetArea),this.add(Q._fx),this.add(Q._fxDead),this.add(Q.cameraTargetObject)};e["com.drderico.towerd.game.Game"]=Q,Q.__name__=["com","drderico","towerd","game","Game"],Q.startNewGame=function(){W.changeBgColor(),X.cancelTween(Q.onLadderTween),X.cancelTween(Q.cameraTween1),X.cancelTween(Q.cameraTween2),zi.get_camera().bounds=null,zi.get_camera().follow(Q.cameraTargetObject,Phaser.Camera.FOLLOW_LOCKON,1,1),Q.levelY=(zi.game.height-1*Nt.HEIGHT_BOTTOM-0*X.screenOffsetY+(0*X.screenOffsetY+1*Nt.HEIGHT_TOP))/2-16*q.VISIBLE_LEVEL_HEIGHT/2|0,Q.cameraTargetObject.y=Q.levelY+160,Q.cameraMaxY=0|Q.cameraTargetObject.y,Q.clearGroup(Q._ladderGroup),Q.clearGroup(Q._fx),Q.clearGroup(Q._fxUnderHero),Q.clearGroup(Q._fxDead),Q.levels[J.curLevelIdx].create_(ce.get_prevLevel(),0,Q.levelY),Q.levels[J.curLevelIdx].createNextStep(),Q.levels[J.curLevelIdx].createNextStep(),Q.levels[J.curLevelIdx].createNextStep(),Q.levels[J.curLevelIdx].createNextStep(),Q.levels[J.curLevelIdx].createNextStep(),Q.levels[J.curLevelIdx].createNextStep(),Q.hero.init(Q.levels[J.curLevelIdx].x+16*Q.levels[J.curLevelIdx].level.heroX,Q.levelY+16*Q.levels[J.curLevelIdx].level.getFloorY()-3,Q.levels[J.curLevelIdx].level.heroFace),Q.createNextLevel(),Q.levels[J.curLevelIdx].show(),Q.correctWorldBounds(),Q.calcCameraXBounds(Q.levels[J.curLevelIdx]),Q.cameraTargetObject.x=Q.minScrollX,zi.game.camera.focusOn(Q.cameraTargetObject),tt.active||Nt.showPauseBtn(),Q.canFollowHeroX=!1,Q.canFollowHeroY=!1},Q.correctWorldBounds=function(){var t=Math.min(Q.levels[J.prevLevelIdx].x,Q.levels[J.curLevelIdx].x)-128,e=Math.max(Q.levels[J.prevLevelIdx].x+16*Q.levels[J.prevLevelIdx].level.W,Q.levels[J.curLevelIdx].x+16*Q.levels[J.curLevelIdx].level.W)+128;zi.game.physics.arcade.bounds.setTo(t,Q.levelY,e-t,Q.levels[J.prevLevelIdx].level.gfxHeight+Q.levels[J.curLevelIdx].level.gfxHeight)},Q.showLadder=function(t){null==t&&(t=!1),Q.ladder.setPosition(Q.levels[J.prevLevelIdx].x+16*Q.levels[J.prevLevelIdx].level.ladder.x,Q.levels[J.prevLevelIdx].y+16*(Q.levels[J.prevLevelIdx].level.ladder.y-1)),Q._ladderGroup.add(Q.ladder),Q.levels[J.curLevelIdx].triggers.add(Q.ladder.trigger),Q.ladder.show(t),tt.active&&tt.onLadderPositioned(Q.ladder)},Q.curGfxLevel=function(){return Q.levels[J.curLevelIdx]},Q.clearGroup=function(t){t.removeAll(!1,!0,!1)},Q.addBonus=function(t){},Q.removeBonus=function(t){},Q.showBonusPickUpFx=function(t,e){},Q.onHeroTouchedLadder=function(t){if(!z.gameOver&&Q.hero.y>t.y&&(Q.hero.climbOnLadder(t),!t.wasTouchedAlready)){if(Q.canFollowHeroY=!1,t.wasTouchedAlready=!0,Q.prevLadder=Q.ladder,Q.levels[J.prevLevelIdx].show(),Q.levels[J.curLevelIdx].hide(),Q.cameraMaxY=Q.cameraMaxY-Q.levels[J.curLevelIdx].level.gfxHeight,Q.cameraMinY=Q.cameraMaxY-Q.levels[J.prevLevelIdx].level.gfxHeight,Q.canFollowHeroX=!1,Q.canFollowHeroX=!0,Q.oldMinScrollX=Q.minScrollX,Q.oldMaxScrollX=Q.maxScrollX,Q.calcCameraXBounds(Q.levels[J.prevLevelIdx]),Q.levels[J.prevLevelIdx].level.isWide?(Q.canFollowHeroX=!0,Q.onLadderTween=rs.tween(Q.cameraTargetObject,{y:Q.cameraMaxY},Ot.climbOnLadderDuration,null,null)):Q.onLadderTween=rs.tween(Q.cameraTargetObject,{x:Q.levels[J.prevLevelIdx].x+16*Q.levels[J.prevLevelIdx].level.W/2,y:Q.cameraMaxY},Ot.climbOnLadderDuration,null,null),Q.oldMinScrollX!=Q.minScrollX){Q.cameraTweenObject1.x=Q.oldMinScrollX;var e=Q.minScrollX;Q.cameraTween1=rs.tween(Q.cameraTweenObject1,{x:Q.minScrollX},Ot.climbOnLadderDuration,{onUpdate:Q.onCameraMinScrollXUpdate,onComplete:function(t){Q.minScrollX=e}},Q),Q.minScrollX=Q.oldMinScrollX}if(Q.oldMaxScrollX!=Q.maxScrollX){Q.cameraTweenObject2.x=Q.oldMaxScrollX;var i=Q.maxScrollX;Q.cameraTween2=rs.tween(Q.cameraTweenObject2,{x:Q.maxScrollX},Ot.climbOnLadderDuration,{onUpdate:Q.onCameraMaxScrollXUpdate,onComplete:function(t){Q.maxScrollX=i}},Q),Q.maxScrollX=Q.oldMaxScrollX}J.nextLevel()}},Q.onCameraMinScrollXUpdate=function(t){Q.minScrollX=Math.round(t.target.x)},Q.onCameraMaxScrollXUpdate=function(t){Q.maxScrollX=Math.round(t.target.x)},Q.onPitAcidTriggerTouched=function(t){Q.hero.onLadder||(j.water_hurt(),J.hurtHero(0))},Q.hideLadder=function(){Q.prevLadder.hide()},Q.prevGfxLevel=function(){return Q.levels[J.prevLevelIdx]},Q.calcCameraXBounds=function(t){16*t.level.W<zi.get_camera().width?Q.maxScrollX=Q.minScrollX=t.level.X+16*t.level.W/2|0:(Q.minScrollX=t.level.X-64+zi.get_camera().width/2|0,Q.maxScrollX=t.level.X+16*t.level.W+64-zi.get_camera().width/2|0)},Q.onSpikesTriggerTouched=function(){J.hurtHero(3)},Q.createNextLevel=function(t){ce.createLevel(),Q.levels[J.prevLevelIdx].create_(ce.get_prevLevel(),0,Q.levelY,!0),Q.levelY-=Q.levels[J.prevLevelIdx].level.gfxHeight,Q.ladder=Q.levels[J.prevLevelIdx].ladderGfx,Q.correctWorldBounds()},Q.onSawTriggerTouched=function(){J.hurtHero(5)},Q.onSpikesInPitTriggerTouched=function(){J.hurtHero(2)},Q.onPitWaterTriggerTouched=function(){Q.hero.onLadder||(j.water_hurt(),J.hurtHero(1))},Q.onPitFireTriggerTouched=function(){J.hurtHero(12)},Q.onClimbComplete=function(){Q.canFollowHeroX=Q.levels[J.curLevelIdx].level.isWide;var t=Q.hero.body.x,e=Q.minScrollX,i=Q.maxScrollX,s=null!=e&&t<e?e:t;Q.cameraTargetObject.x=null!=i&&s>i?i:s,1==Q.levels[J.curLevelIdx].level.type?Q.canFollowHeroY=!0:Q.canFollowHeroY=!1,null==Q.levels[J.curLevelIdx].level.goal&&Q.showLadder(!0)},Q.cleanGarbage=function(){Q.levels[0].cleanGarbage(!0),Q.levels[1].cleanGarbage(!0)},Q.forceShowFireBeams=function(){for(var t=0,e=Q.levels[J.curLevelIdx].enemies.children;t<e.length;){var i=e[t];++t,Es.__instanceof(i,ye)&&Es.__cast(i,ye).forceShow()}},Q.changeBlackAreasBgColor=function(){Q.levels[0].resetBlackArea(),Q.levels[1].resetBlackArea()},Q.__super__=V,Q.prototype=s(V.prototype,{onGameResize:function(){Q.GRID_X=(zi.game.width-768)/2|0},update:function(){if(Q.levels[0].createNextStep(),Q.levels[1].createNextStep(),!J.paused){if(J.update(zi.game.time.elapsedMS/1e3),V.prototype.update.call(this),Q.hero.alive?(zi.game.physics.arcade.collide(Q.hero,Q.levels[J.curLevelIdx].collisions,Ms(this,this.onHeroCollideWalls)),zi.game.physics.arcade.overlap(Q.hero,Q.levels[J.curLevelIdx].gfx,Ms(this,this.onTriggerOverlap)),zi.game.physics.arcade.overlap(Q.hero,Q.levels[J.curLevelIdx].triggers,Ms(this,this.onTriggerOverlap)),zi.game.physics.arcade.overlap(Q.hero,Q.levels[J.curLevelIdx].enemies,Ms(this,this.onTriggerOverlap)),zi.game.physics.arcade.overlap(Q.hero.magnetArea,Q.levels[J.curLevelIdx].gfx,Ms(this,this.onMagnetTriggerOverlap))):zi.game.physics.arcade.collide(Q._fxDead,Q.levels[J.curLevelIdx].collisions,Ms(this,this.onParticleCollide)),Q.hero.onLadder&&(zi.game.physics.arcade.overlap(Q.hero,Q.levels[J.prevLevelIdx].gfx,Ms(this,this.onTriggerOverlap)),zi.game.physics.arcade.overlap(Q.hero.magnetArea,Q.levels[J.prevLevelIdx].gfx,Ms(this,this.onMagnetTriggerOverlap))),Q.hero.updateAfterColliding(),Q.canFollowHeroY){var t=Q.hero.y,e=Q.cameraMinY,i=Q.cameraMaxY,s=null!=e&&t<e?e:t;Q.cameraTargetObject.y=null!=i&&s>i?i:s}var n=Q.hero.body.x,o=Q.minScrollX,r=Q.maxScrollX,a=null!=o&&n<o?o:n;Q.cameraTargetObject.x=null!=r&&a>r?r:a}},onParticleCollide:function(t,e){t.body.touching.down&&(t.body.velocity.x*=.9,Math.abs(t.body.velocity.x)<2&&(t.body.velocity.set(0,0),t.body.gravity.set(0,0),t.body.enable=!1))},onTriggerOverlap:function(t,e){e.onTouched()},onMagnetTriggerOverlap:function(t,e){Es.__instanceof(e,$t)?Es.__cast(e,$t).touchedByMagnetArea():Es.__instanceof(e,Qt)&&Es.__cast(e,Qt).touchedByMagnetArea()},onHeroCollideWalls:function(t,e){e.isWall&&Math.floor(e.body.y)<Math.floor(Q.hero.body.bottom)?Q.hero.changeDir(e):e.isFloor&&Math.floor(e.body.y)>=Math.floor(Q.hero.body.bottom)&&Math.floor(e.body.x)<=Math.floor(Q.hero.body.right)&&Math.floor(e.body.right)>=Math.floor(Q.hero.body.x)&&Q.hero.onFloorTouch(e)},__class__:Q});var J=function(){};e["com.drderico.towerd.game.GameManager"]=J,J.__name__=["com","drderico","towerd","game","GameManager"],J.create=function(){window.document.addEventListener("adBreakStart",J.adBreakStart),window.document.addEventListener("adBreakComplete",J.adBreakComplete)},J.adBreakComplete=function(t){window.console.log("adBreakComplete"),W.sceneManager.showTitleScreen()},J.adBreakStart=function(t){window.console.log("adBreakStart")},J.prepareLevelParams=function(){J.stopAllAnimations(),J.curLevelIdx=-1,z.gameOver&&(z.heroLives.set_value(z.heroLivesMax.get_value()),z.score.set_value(0),z.level.set_value(0)),ce.curLevelNum=z.level.get_value(),ce.curLevelEnv=z.envSetting.get_value(),J.changeLevel(),ce.createLevel(!0,!z.gameOver),z.gameOver=!1,J.isGameOver=!1,J.isLevelRunning=!1,J.needToGameOver=!1,Q.startNewGame(),Nt.scoreHud.updateText(!1),Nt.levelHud.updateText(),Nt.coinsHud.updateText(!1),Nt.gemsHud.updateText(!1),Nt.livesHud.updateLives(!0)},J.stopAllAnimations=function(){W.gameTweenManager.removeAll(),W.gameTimeManager.removeAll(),zi.get_camera().fx.clear()},J.startNewGame=function(){ki.add(W.sceneManager).alpha=1,J.paused=!1,z.helloPlayerWindow&&tt.create(),J.wasHighScoreShown=!1,Me.getInstance().kill(),Ot.canMove=!1,W.canPressEscape=!0,J.prepareLevelParams(),$.init(),z.helloPlayerWindow?(Ot.canMove=!1,Q.levels[J.curLevelIdx].chest.disableBody(),Q.levels[J.curLevelIdx].chest.visible=!1,X.delay(.3,function(t){J.fadeOutBeforeNewGame(),bi.show(X.tongue.get("$WELCOME_MESS"),W.sceneManager,J.onWindowHelloPlayerHided)},null,Nt),z.helloPlayerWindow=!1):X.delay(.3,function(t){J.fadeOutBeforeNewGame(),Nt.showTapText()},null,Nt)},J.fadeOutBeforeNewGame=function(){ki.remove(W.sceneManager),zi.get_camera().flash(0,500,!0)},J.onWindowHelloPlayerHided=function(){J.startLevel(),tt.nextState()},J.startLevel=function(){J.isLevelRunning=!0,Nt.hideTapText(),Ot.canMove=!1,X.delay(.1,J._startLevel,null,J)},J._startLevel=function(t){Ot.canMove=!0},J.gameOver=function(){J.isGameOver=!0,J.onEndGame(),j.stopMusic(),j.gameover(),X.delay(2.5,J._gameOver,null,J)},J._gameOver=function(t){J.stopAllAnimations(),window.console.log("cmgAdBreak"),cmgAdBreak()},J.addScore=function(t){var e=z.score;e.set_value(e.get_value()+t),Nt.scoreHud.updateText(),!tt.active&&!J.wasHighScoreShown&&0!=z.bestScore.get_value()&&z.score.get_value()>z.bestScore.get_value()&&(J.wasHighScoreShown=!0,Me.getInstance().show(X.tongue.get("$NEW_HIGH_SCORE"),Nt.THIS,1)),z.score.get_value()>z.bestScore.get_value()&&z.bestScore.set_value(z.score.get_value())},J.update=function(t){Nt.isWaitingForTap&&X.isAnyKeyJustPressed()&&(X.stopClickProp(),J.startLevel()),J.isGameOver||!J.isLevelRunning||J.paused||J.needToGameOver&&J.gameOver()},J.setNeedToGameOver=function(){z.gameOver=!0,J.needToGameOver=!0,-1==z.deathLevels.indexOf(z.level.get_value())&&z.deathLevels.push(z.level.get_value()),zi.get_camera().shake(.005,200,!0),zi.get_camera().flash(16777215,300)},J.nextLevel=function(){var t=z.level,e=t.get_value();t.set_value(e+1),Nt.levelHud.updateText(),z.level.get_value()>z.bestLevel.get_value()&&z.bestLevel.set_value(z.level.get_value()),J.addScore(100),J.changeLevel(),z.gameOver=!1},J.onBonusPickedUp=function(t){switch(t._type){case 0:j.powerup_pickup(),$.activateGemMagnet(),z.itemMagnetFirstTouch&&(Ti.show(0,W.sceneManager,null),z.itemMagnetFirstTouch=!1),O.unlock("CgkI_f7-8JsKEAIQBA");break;case 1:j.powerup_pickup(),$.activateShield(),z.itemShieldFirstTouch&&(Ti.show(1,W.sceneManager,null),z.itemShieldFirstTouch=!1),O.unlock("CgkI_f7-8JsKEAIQAw");break;case 5:j.chest(),Q.showLadder();break;case 6:24==z.ach_kitties.get_value()?O.unlock("CgkI_f7-8JsKEAIQFw"):49==z.ach_kitties.get_value()?O.unlock("CgkI_f7-8JsKEAIQGA"):74==z.ach_kitties.get_value()?O.unlock("CgkI_f7-8JsKEAIQGQ"):99==z.ach_kitties.get_value()&&O.unlock("CgkI_f7-8JsKEAIQGg");var e=z.ach_kitties,i=e.get_value();e.set_value(i+1),z.itemArtefactFirstTouch&&(Ti.show(6,W.sceneManager,null),z.itemArtefactFirstTouch=!1);break;case 8:z.itemTombFirstTouch&&(Ti.show(8,W.sceneManager,null),z.itemTombFirstTouch=!1),O.unlock("CgkI_f7-8JsKEAIQHA")}},J.onEndGame=function(){var t=z.coins;t.set_value(t.get_value()+oi.coinsToAdd),oi.coinsToAdd=0,z.save()},J.hurtHero=function(t){null==t&&(t=3),Q.hero.onLadder||(Q.hero.unhurtable||$._items[1]||(J.addHealth(-1),ci.get().reset_(Q.hero.x,Q.hero.y+10),5==t||7==t?(st.get().show(Q.hero.x+Q.hero.width/2,Q.hero.y+Q.hero.height/2),zi.get_camera().flash(8388608,200,!0,.5),zi.get_camera().shake(.005,100,!0,Phaser.Camera.SHAKE_HORIZONTAL)):2==t||3==t?(st.get().show(Q.hero.x+Q.hero.width/2,Q.hero.y+Q.hero.height),zi.get_camera().flash(16777215,200,!0,.5),zi.get_camera().shake(.005,100,!0,Phaser.Camera.SHAKE_VERTICAL)):0==t?zi.get_camera().flash(3394560,200,!0,.5):1==t?0==z.envSetting.get_value()?zi.get_camera().flash(16725760,200,!0,1):zi.get_camera().flash(39423,200,!0,.5):12!=t&&13!=t||zi.get_camera().flash(16725760,200,!0,1),Q.hero.onHurt()),0==z.heroLives.get_value()&&(Q.hero.die(),5==t||7==t?O.unlock("CgkI_f7-8JsKEAIQFQ"):2==t||3==t?O.unlock("CgkI_f7-8JsKEAIQEQ"):0==t?O.unlock("CgkI_f7-8JsKEAIQEg"):1==t?0==z.envSetting.get_value()?O.unlock("CgkI_f7-8JsKEAIQFA"):O.unlock("CgkI_f7-8JsKEAIQEw"):12!=t&&13!=t||O.unlock("CgkI_f7-8JsKEAIQHQ")),2!=t&&0!=t&&1!=t&&12!=t||(0==t?it.get().show(Q.hero.body.center.x,Q.hero.body.bottom):1==t&&(0==z.envSetting.get_value()?kt.get().show(Q.hero.body.center.x,Q.hero.body.bottom):It.get().show(Q.hero.body.center.x,Q.hero.body.bottom)),Q.hero.bounceUp()))},J.addCoin=function(t){null==t&&(t=!0);var e=z.coins,i=e.get_value();e.set_value(i+1),t&&Nt.coinsHud.updateText()},J.addGem=function(t){null==t&&(t=!1);var e=z.gems,i=e.get_value();e.set_value(i+1),J.addScore(25),t&&Nt.gemsHud.updateText()},J.addHealth=function(t,e){null==e&&(e=!0),null==t&&(t=1);var i=z.heroLives;i.set_value(i.get_value()+t),e&&Nt.livesHud.updateLives()},J.cleanGarbage=function(){it.cleanGarbage(),kt.cleanGarbage(),It.cleanGarbage(),xt.cleanGarbage(),st.cleanGarbage(),pt.cleanGarbage(),dt.cleanGarbage()},J.changeLevel=function(){J.curLevelIdx++,J.curLevelIdx=J.curLevelIdx%2,J.prevLevelIdx=1-J.curLevelIdx,z.level.get_value()>0&&(z.level.get_value()%25+1==25&&(z.envSetting.set_value(ce.curLevelEnv),Q.changeBlackAreasBgColor(),j.game(),J.cleanGarbage()),25==z.level.get_value()?O.unlock("CgkI_f7-8JsKEAIQCQ"):50==z.level.get_value()?O.unlock("CgkI_f7-8JsKEAIQCg"):75==z.level.get_value()?O.unlock("CgkI_f7-8JsKEAIQCw"):100==z.level.get_value()&&O.unlock("CgkI_f7-8JsKEAIQDA"))},J.prototype={__class__:J};var $=function(){};e["com.drderico.towerd.game.ItemManager"]=$,$.__name__=["com","drderico","towerd","game","ItemManager"],$.create=function(){$._timers=[],$._items=[],$._timersValue=[];for(var t=0;t<2;){var e=t++;$._timers[e]=null,$._items[e]=!1,$._timersValue[e]=0}},$.activateGemMagnet=function(){$._timersValue[0]=$.getItemDuration(z.magnetLevel.get_value())+1,X.cancelTween($._timers[0]),$._items[0]=!0,Q.hero.activateGemMagnet(),$._onMagnetTimerTick()},$._onMagnetTimerTick=function(t){$._timersValue[0]--,0==$._timersValue[0]?$._deactivateGemMagnet():(Nt.itemsHud.updateTimer(0,$._timersValue[0]),$._timers[0]=X.delay(1,$._onMagnetTimerTick,null,$),$.isItemsPaused&&$._timers[0].pause())},$._deactivateGemMagnet=function(t){X.cancelTween($._timers[0]),$._timers[0]=null,$._items[0]=!1,Q.hero.deactivateGemMagnet(),Nt.itemsHud.deactivateItem(0)},$.activateShield=function(){$._timersValue[1]=$.getItemDuration(z.invulnerabilityLevel.get_value())+1,X.cancelTween($._timers[1]),$._items[1]=!0,Q.hero.activateInvulnerability(),$._onShieldTimerTick()},$._onShieldTimerTick=function(t){$._timersValue[1]--,0==$._timersValue[1]?$._deactivateShield():(Nt.itemsHud.updateTimer(1,$._timersValue[1]),$._timers[1]=X.delay(1,$._onShieldTimerTick,null,$),$.isItemsPaused&&$._timers[1].pause())},$._deactivateShield=function(t){X.cancelTween($._timers[1]),$._timers[1]=null,$._items[1]=!1,Q.hero.deactivateInvulnerability(),Nt.itemsHud.deactivateItem(1)},$.isMagnetActive=function(){return $._items[0]},$.isShieldActive=function(){return $._items[1]},$.getNewItemType=function(t){null==t&&(t=-1),6==$.prevItemId&&($.prevItemId=-1),he.itemId=$.prevItemId;for(var e=!1;he.itemId==$.prevItemId||he.itemId==t||e;)e=!1,he.itemId=zi.random.getObject_Int($.COLLECTABLE_ITEMS),$._items[1]&&1==he.itemId&&(e=!0),$._items[0]&&0==he.itemId&&(e=!0);return $.prevItemId=he.itemId,he.itemId},$.getItemDuration=function(t){return 10+2*t},$.getItemPrice=function(t){return 50+25*t},$.pauseItems=function(){$._items[0]&&null!=$._timers[0]&&$._timers[0].isRunning&&$._timers[0].pause(),$._items[1]&&null!=$._timers[1]&&$._timers[1].isRunning&&$._timers[1].pause(),$.isItemsPaused=!0},$.unpauseItems=function(){$._items[0]&&null!=$._timers[0]&&$._timers[0].resume(),$._items[1]&&null!=$._timers[1]&&$._timers[1].resume(),$.isItemsPaused=!1},$.init=function(){X.cancelTween($._timers[1]),X.cancelTween($._timers[0]),$._items[1]=!1,$._items[0]=!1,$.isItemsPaused=!1,$._timers[1]=null,$._timers[0]=null};var q=function(){this.envValue=0,this.step=0,V.call(this),this.gridMapArray=[],null==q.gridMapArrayForWalls&&(q.gridMapArrayForWalls=[]),this.gridMap=new os(null,16,16,1,1),this.gridMapGroup=new V,this.collisions=new V,this.gfx=new V,this.enemies=new V,this.triggers=new V,this.collisions.renderable=!1,this.triggers.renderable=!1,this.gridMapGroup.inputEnableChildren=!1;this.mapLayer=this.gridMap.create("0",56,68,16,16,this.gridMapGroup),this.mapLayer.resize(896,1088),this.gridMap.fill(0,0,0,56,68,this.mapLayer),this.mapLayer.renderSettings.enableScrollDelta=!1,this.mapLayer.fixedToCamera=!1,this.layerTexure=new Phaser.RenderTexture(zi.game,this.gridMap.widthInPixels,this.gridMap.heightInPixels),this.bg=new He,this.blackArea=ei.get(zi.get_width(),.75*zi.get_height()|0),this.layerSprite=new Phaser.Sprite(zi.game,0,0,this.layerTexure),this.layerSprite.exists=!1,this.layerSprite.visible=!0,this.layerSprite.x=0*this.x-64|0,this.layerSprite.y=0*this.y-64|0,this.layerSprite.scale.set(1,1),this.add(this.collisions),this.add(this.triggers),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this)};e["com.drderico.towerd.game.LevelGroup"]=q,q.__name__=["com","drderico","towerd","game","LevelGroup"],q.__super__=V,q.prototype=s(V.prototype,{onGameResize:function(){this.blackArea.changeSize(zi.get_width(),.75*zi.get_height()|0)},create_:function(t,e,i,s){null==s&&(s=!1),this.bg.visible=!1,this.gfx.visible=!1,this.enemies.visible=!1,this.layerSprite.visible=!1,this.cleanGarbage(),this.level=t,this.envValue=this.level.myEnvValue,q.VISIBLE_LEVEL_WIDTH=this.level.W+8,q.VISIBLE_LEVEL_HEIGHT=this.level.H+8,this.gridMapArray.length>q.VISIBLE_LEVEL_HEIGHT&&this.gridMapArray.splice(q.VISIBLE_LEVEL_HEIGHT,1e3),q.gridMapArrayForWalls.length>q.VISIBLE_LEVEL_HEIGHT&&q.gridMapArrayForWalls.splice(q.VISIBLE_LEVEL_HEIGHT,1e3);for(var n=0,o=q.VISIBLE_LEVEL_HEIGHT;n<o;){var r=n++;null==this.gridMapArray[r]?this.gridMapArray[r]=[]:this.gridMapArray[r].length=0,null==q.gridMapArrayForWalls[r]?q.gridMapArrayForWalls[r]=[]:q.gridMapArrayForWalls[r].length=0;for(var a=0,l=q.VISIBLE_LEVEL_WIDTH;a<l;){var h=a++;this.gridMapArray[r][h]=0,q.gridMapArrayForWalls[r][h]=0}}this.x=e+this.level.X,this.y=i+(s?-this.level.gfxHeight:0),this.createBounds();for(var c=0,_=this.level.floorParts;c<_.length;){var u=_[c];++c,this.createCollisionBlock(u)}for(var d=0,p=this.level.platforms;d<p.length;){var g=p[d];++d,this.createCollisionBlock(g)}for(var f=0,m=this.level.collisions;f<m.length;){var v=m[f];++f,this.createCollisionBlock(v)}for(var y=0,x=this.level.ceilParts;y<x.length;){var w=x[y];++y;var b=Oe.get(0*this.x+16*w.x,0*this.y+16*w.y,16*w.width,16*w.height);b.isFloor=!0,this.collisions.add(b)}this.level.hasLiquid=!1;for(var T=0,S=this.level.ceilPits;T<S.length;){var I=S[T];++T,this.placeCeilPit(I)}this.ladderGfx=_i.get(this.level.ladder.height);var k=Je.get();k.init(this.ladderGfx.x,this.ladderGfx.y,this.ladderGfx.width,this.ladderGfx.height,this.ladderGfx),this.ladderGfx.trigger=k,k.deactivate(),this.ladderGfx.visible=!1;for(var F=0,P=this.level.pits;F<P.length;){var C=P[F];++F,this.placePit(C)}if(this.placeChains(),this.placeWebs(),this.bg.change(this.level.W,this.level.H,this.envValue),this.bg.position.set(this.x,this.y),this.gfx.position.set(this.x,this.y),this.enemies.position.set(this.x,this.y),this.layerSprite.position.set(this.x-64|0,this.y-64|0),this.resetBlackArea(),this.blackArea.alpha=0,this.blackArea.visible=!1,null!=this.level.goal&&(this.chest=zt.get(0*this.x+1*this.level.goal.x,0*this.y+Math.round(1*this.level.goal.y)),this.gfx.add(this.chest)),!tt.active){for(var E=0,B=this.level.gems;E<B.length;){var L=B[E];++E;var A=$t.get(0*this.x+1*L.x,0*this.y+1*L.y);this.gfx.add(A)}if(null!=this.level.goal&&0==this.level.gems.length&&zi.random.float(0,100)<5)for(var O=0,M=(this.level.W/3|0)-1;O<M;){var G=O++,H=$t.get(0*this.x+20+50*G*1,0*this.y+zi.random.float(150,200));this.gfx.add(H)}for(var D=0,N=this.level.coins;D<N.length;){var R=N[D];++D;var W=Qt.get(0*this.x+1*R.x,0*this.y+1*R.y);this.gfx.add(W)}if(null!=this.level.item){var U=null;switch(this.level.item.itemType){case 0:U=Zt.get(0*this.x+16*this.level.item.x,0*this.y+16*this.level.item.y,16*this.level.item.width),Es.__cast(U,Zt).itemFx.show(U.x+U.width/2,U.y+U.height/2,this.gfx);break;case 1:U=oe.get(0*this.x+16*this.level.item.x,0*this.y+16*this.level.item.y,16*this.level.item.width),Es.__cast(U,oe).itemFx.show(U.x+U.width/2,U.y+U.height/2,this.gfx);break;case 2:U=se.get(0*this.x+16*this.level.item.x,0*this.y+16*this.level.item.y,16*this.level.item.width),Es.__cast(U,se).itemFx.show(U.x+U.width/2,U.y+U.height/2,this.gfx);break;case 6:U=ae.get(0*this.x+16*this.level.item.x,0*this.y+16*this.level.item.y,16*this.level.item.width);break;case 8:U=ee.get(0*this.x+16*this.level.item.x,0*this.y+16*this.level.item.y,16*this.level.item.width,this.envValue)}null!=U&&(8==this.level.item.itemType?this.enemies.addAt(U,0):this.gfx.add(U),6==this.level.item.itemType&&this.gfx.add(Es.__cast(U,ae).head))}}this.needToRenderLayer=!0,this.step=0},placeWebs:function(){if(3!=this.envValue){var t=null;zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+Math.abs(t.width),0*this.y+64),t.set_flipX(!0),this.gfx.add(t)),zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+Math.round(16*this.level.W)-Math.floor(t.width),0*this.y+64),t.set_flipX(!1),this.gfx.add(t));for(var e=0,i=this.level.ceilPits;e<i.length;){var s=i[e];++e,6!=s.type&&s.height>=2&&(zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+Math.abs(t.width)+Math.round(16*s.x),0*this.y+Math.floor(16-s.height)),t.set_flipX(!0),this.gfx.add(t)),s.width>3&&zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+Math.round(16*(s.x+s.width))-Math.floor(t.width),0*this.y+Math.floor(16-s.height)),t.set_flipX(!1),this.gfx.add(t)))}}},placeCeilPit:function(t){if(6==t.type){var e=Oe.get(0*this.x+16*t.x,0*this.y+16*(t.y+1),16*t.width,16*t.height);e.isFloor=!0,this.collisions.add(e)}else{var i=Oe.get(0*this.x+16*t.x,0*this.y+16*(t.y-t.height-1),16*t.width,16);i.isFloor=!0,this.collisions.add(i)}},placeChains:function(){for(var t=0,e=this.level.ceilParts;t<e.length;){var i=e[t];if(++t,zi.random.float(0,100)<80){var s=si.get(this.envValue);s.reset_(0*this.x+16*zi.random.int(i.x+1,i.x+i.width-1),0*this.y+16*(i.y+1)),this.gfx.addAt(s,0)}}for(var n=0,o=this.level.ceilPits;n<o.length;){var r=o[n];if(++n,6==r.type&&zi.random.float(0,100)<80){var a=si.get(this.envValue);a.reset_(0*this.x+16*zi.random.int(r.x+1,r.x+r.width-1),0*this.y+16*(r.y+r.height+1)),this.gfx.addAt(a,0)}}},createBounds:function(){var t=Oe.get(0*this.x-16,0*this.y-16,16,16*(this.level.H+1));t.isWall=!0,this.collisions.add(t),(t=Oe.get(0*this.x+16*this.level.W,0*this.y-16,16,16*(this.level.H+1))).isWall=!0,this.collisions.add(t),t=Oe.get(0*this.x-16,0*this.y-16,16*(this.level.W+2),16),this.collisions.add(t),(t=Oe.get(0*this.x-16,0*this.y+16*this.level.H,16*(this.level.W+2),16)).isFloor=!0,this.collisions.add(t)},hide:function(){this.blackArea.show(),this.level.hasLiquid&&j.water_env_stop()},placePit:function(t){if(di.isPit(t)){var e=Oe.get(0*this.x+16*(t.x-1),0*this.y+16*(t.y+1),16,16*t.height);this.collisions.add(e),e=Oe.get(0*this.x+16*(t.x+t.width),0*this.y+16*(t.y+1),16,16*t.height),this.collisions.add(e),e=Oe.get(0*this.x+16*t.x,0*this.y+16*(t.y+t.height),16*t.width,16),this.collisions.add(e);var i=Je.get();if(0==t.type||1==t.type||12==t.type){this.level.hasLiquid=12!=t.type,1==t.type?i.init(0*this.x+16*t.x,0*this.y+16*(t.y+1),16*t.width,16*(t.height-1),$e.getInstance(),4):0==t.type?i.init(0*this.x+16*t.x,0*this.y+16*(t.y+1),16*t.width,16*(t.height-1),Be.getInstance(),4):12==t.type&&i.init(0*this.x+16*t.x,0*this.y+16*(t.y+t.height-1),16*t.width,20,Ge.getInstance(),4);for(var s=zi.random.float(0,100)<50,n=0*this.y+1*(16*t.y+(12==t.type?16*t.height-36:11)),o=0*this.x-8,r=null,a=t.x,l=t.x+t.width+1;a<l;){var h=a++;switch(t.type){case 0:r=Ze.get(s);break;case 1:r=mi.get(s,this.envValue);break;case 12:r=ai.get()}r.reset_(o+16*h-2,n),this.gfx.add(r)}}else i.init(0*this.x+16*t.x,0*this.y+16*(t.y+t.height-1),16*t.width,16,ze.getInstance(),4);this.triggers.add(i)}else{switch(t.type){case 3:var c=Je.get();c.init(0*this.x+1*(16*t.x+6),0*this.y+16*t.y-4,1*(16*t.width-12),4,je.getInstance(),4),this.triggers.add(c);break;case 5:var _=gi.get();_.reset_(0*this.x+16*t.x,0*this.y+16*t.y),this.gfx.add(_);var u=Je.get();u.init(_.x+10-_.offsetX,_.y+10-_.offsetY,_.width-20,_.height-20,Ve.getInstance(),4),u.linkedObject=_,this.triggers.add(u);break;case 6:var d=Oe.get(0*this.x+16*t.x,0*this.y+16*(t.y-t.height),16*t.width,16*t.height);d.isWall=!0,d.isFloor=!0,this.collisions.add(d);break;case 8:q.npcType=zi.random.int(0,3,q.movingNpcExcludedArray),q.movingNpcExcludedArray[0]=q.npcType;var p=null;switch(q.npcType){case 0:(p=Se.get()).place(0*this.x+16*t.x,0*this.y+16*t.y,16*t.width);break;case 1:(p=ke.get()).place(0*this.x+16*t.x,0*this.y+16*t.y,16*t.width);break;case 2:(p=Pe.get()).place(0*this.x+16*t.x,0*this.y+1*(16*t.y-8),16*t.width);break;case 3:(p=Ee.get()).place(0*this.x+16*t.x,0*this.y+16*t.y,16*t.width)}null!=p&&(this.enemies.add(p),null!=p.healthBar&&this.enemies.add(p.healthBar));break;case 9:var g=be.get();g.place(0*this.x+16*t.x,0*this.y+16*(t.y+.5),16*t.width),this.enemies.add(g);break;case 10:var f=me.get(this.envValue);f.place(0*this.x+16*t.x,0*this.y+16*t.y,16*t.width),this.enemies.add(f),this.enemies.add(f.cannon);break;case 13:var m=ye.get();m.place(0*this.x+16*t.x,0*this.y+16*(t.y+.5),16*t.width),this.enemies.add(m)}}},destroy:function(t,e){},show:function(){this.blackArea.hide(!1),this.level.hasLiquid&&j.water_env()},cleanGarbage:function(t){null==t&&(t=!1),Q.clearGroup(this.collisions),this.gfx.callAll("kill",null),Q.clearGroup(this.gfx),Q.clearGroup(this.triggers),this.enemies.callAll("kill",null),Q.clearGroup(this.enemies),t&&null!=this.ladderGfx&&this.ladderGfx.kill()},drawOnGrid:function(t,e,i,s,n){null==n&&(n=0);for(var o=e,r=e+s;o<r;)for(var a=o++,l=t,h=t+i;l<h;){var c=l++;this.gridMapArray[a][c]=n}},createTileMapGfx:function(){if(0==this.step){for(var t=0,e=q.VISIBLE_LEVEL_HEIGHT;t<e;)for(var i=t++,s=0,n=q.VISIBLE_LEVEL_WIDTH;s<n;){var o=s++;q.gridMapArrayForWalls[i][o]=-1,this.gridMapArray[i][o]=1}for(var r=0,a=this.level.walls;r<a.length;){var l=a[r];++r;for(var h=4+(0|l.x),c=0|l.width,_=4+(0|l.y),u=_,d=_+(0|l.height);u<d;)for(var p=u++,g=h,f=h+c;g<f;){var m=g++;q.gridMapArrayForWalls[p][m]=1}}for(var v=0,y=0,x=this.level.H;y<x;)for(var w=y++,b=0,T=this.level.W;b<T;){var S=b++;switch(v=this.level.grid[w][S]){case 0:v=0;break;case 1:break;case 2:v=2;break;case 3:v=44;break;case 4:v=43}q.gridMapArrayForWalls[w+4][S+4]=v}this.step++}else if(1==this.step){for(var I=0,k=0,F=0,P=0,C=0,E=0,B=0,L=0,A=1,O=q.VISIBLE_LEVEL_HEIGHT-1;A<O;)for(var M=A++,G=1,D=q.VISIBLE_LEVEL_WIDTH-1;G<D;){var N=G++;1==q.gridMapArrayForWalls[M][N]&&(I=q.gridMapArrayForWalls[M-1][N-1],k=q.gridMapArrayForWalls[M-1][N],F=q.gridMapArrayForWalls[M-1][N+1],P=q.gridMapArrayForWalls[M][N-1],C=q.gridMapArrayForWalls[M][N+1],E=q.gridMapArrayForWalls[M+1][N-1],B=q.gridMapArrayForWalls[M+1][N],L=q.gridMapArrayForWalls[M+1][N+1],-1==I&&-1==k&&-1==P&&1==C&&1==B&&-1!=L?this.gridMapArray[M][N]=zi.random.float(0,100)<50?17:21:-1==k&&1==P&&1==C&&0==B?this.gridMapArray[M][N]=zi.random.int(6,8):-1!=I&&1==k&&-1==F&&-1!=P&&1==C&&0==E&&0==B&&0==L?this.gridMapArray[M][N]=25:-1==I&&1==k&&-1!=F&&1==P&&-1!=C&&0==E&&0==B&&0==L?this.gridMapArray[M][N]=26:-1==I&&-1==k&&-1==F&&1==P&&-1==C&&-1!=E&&1==B?this.gridMapArray[M][N]=zi.random.float(0,100)<50?18:22:1==k&&-1==P&&-1!=C&&1==B?this.gridMapArray[M][N]=zi.random.int(9,11):1==k&&-1!=P&&-1==C&&1==B?this.gridMapArray[M][N]=zi.random.int(12,14):-1!=k&&-1!=F&&1==P&&1!=C&&1==B&&-1!=L?this.gridMapArray[M][N]=24:-1!=I&&-1!=k&&1!=P&&1==C&&-1!=E&&1==B&&-1==L?this.gridMapArray[M][N]=23:-1==B&&1==P&&1==C&&-1!=k?this.gridMapArray[M][N]=zi.random.int(3,5):1==k&&-1!=F&&-1==P&&1==C&&-1==B?this.gridMapArray[M][N]=zi.random.float(0,100)<50?15:19:-1!=I&&1==k&&1==P&&-1==C&&-1==B&&(this.gridMapArray[M][N]=zi.random.float(0,100)<50?16:20))}this.step++}else if(2==this.step){for(var R=0,W=0,U=q.VISIBLE_LEVEL_HEIGHT;W<U;)for(var X=W++,Y=0,V=q.VISIBLE_LEVEL_WIDTH;Y<V;){var K=Y++;if(1==(R=q.gridMapArrayForWalls[X][K])){this.gridMapArray[X][K-1]=zi.random.int(31,32),zi.random.float(0,100)<70&&(this.gridMapArray[X][K-2]=zi.random.int(39,39));break}}for(var z=0,j=q.VISIBLE_LEVEL_HEIGHT;z<j;)for(var Q=z++,J=0,$=q.VISIBLE_LEVEL_WIDTH;J<$;){var Z=J++,tt=q.VISIBLE_LEVEL_WIDTH-1-Z;if(1==(R=q.gridMapArrayForWalls[Q][tt])){this.gridMapArray[Q][tt+1]=zi.random.int(33,33),zi.random.float(0,100)<70&&(this.gridMapArray[Q][tt+2]=zi.random.int(41,41));break}}for(var et=0,it=q.VISIBLE_LEVEL_WIDTH;et<it;)for(var st=et++,nt=0,ot=q.VISIBLE_LEVEL_HEIGHT;nt<ot;){var rt=nt++;if(1==(R=q.gridMapArrayForWalls[rt][st])){this.gridMapArray[rt-1][st]=zi.random.int(29,30),zi.random.float(0,100)<70&&(this.gridMapArray[rt-2][st]=zi.random.int(37,37));break}}for(var at=0,lt=q.VISIBLE_LEVEL_WIDTH;at<lt;)for(var ht=at++,ct=0,_t=q.VISIBLE_LEVEL_HEIGHT;ct<_t;){var ut=ct++,dt=q.VISIBLE_LEVEL_HEIGHT-1-ut;if(1==(R=q.gridMapArrayForWalls[dt][ht])){this.gridMapArray[dt+1][ht]=zi.random.int(27,27),zi.random.float(0,100)<70&&(this.gridMapArray[dt+2][ht]=zi.random.int(35,35));break}}for(var pt=0,gt=q.VISIBLE_LEVEL_HEIGHT;pt<gt;)for(var ft=pt++,mt=0,vt=q.VISIBLE_LEVEL_WIDTH;mt<vt;){var yt=mt++;1!=(R=q.gridMapArrayForWalls[ft][yt])&&-1!=R&&(0==R&&(R=0),this.gridMapArray[ft][yt]=R)}this.step++}else if(3==this.step){for(var xt=0,wt=this.level.platforms;xt<wt.length;){var bt=wt[xt];++xt;var Tt=!0,St=!0;Tt=0!=bt.x&&1!=this.level.grid[bt.y][bt.x-1],St=bt.x+bt.width!=this.level.W&&1!=this.level.grid[bt.y][bt.x+bt.width];for(var It=bt.x+4,kt=bt.x+4+bt.width;It<kt;){var Ft=It++;this.gridMapArray[bt.y+4][Ft]=zi.random.int(3,5),this.gridMapArray[bt.y+4+1][Ft]=zi.random.int(6,8)}Tt||(0==bt.x||1==this.level.grid[bt.y-1][bt.x-1]?this.gridMapArray[bt.y+4][bt.x+4-1]=zi.random.float(0,100)<50?15:19:this.gridMapArray[bt.y+4][bt.x+4-1]=zi.random.int(3,5),0==bt.x||1==this.level.grid[bt.y+2][bt.x-1]?this.gridMapArray[bt.y+4+1][bt.x+4-1]=zi.random.float(0,100)<50?17:21:this.gridMapArray[bt.y+4+1][bt.x+4-1]=zi.random.int(6,8)),St||(bt.x+bt.width==this.level.W||1==this.level.grid[bt.y-1][bt.x+bt.width]?this.gridMapArray[bt.y+4][bt.x+bt.width+4]=zi.random.float(0,100)<50?16:20:this.gridMapArray[bt.y+4][bt.x+bt.width+4]=zi.random.int(3,5),bt.x+bt.width==this.level.W||1==this.level.grid[bt.y+2][bt.x+bt.width]?this.gridMapArray[bt.y+4+1][bt.x+bt.width+4]=zi.random.float(0,100)<50?18:22:this.gridMapArray[bt.y+4+1][bt.x+bt.width+4]=zi.random.int(6,8)),Tt&&(this.gridMapArray[bt.y+4][bt.x+4]=23,this.gridMapArray[bt.y+4+1][bt.x+4]=25),St&&(this.gridMapArray[bt.y+4][bt.x+4+bt.width-1]=24,this.gridMapArray[bt.y+4+1][bt.x+4+bt.width-1]=26)}this.step++}else if(4==this.step){this.gridMap.addTilesetImage("tileset",H.MAP_TEXTURES[this.envValue],16,16);for(var Pt=this.gridMapArray[0].length,Ct=this.gridMapArray.length,Et=0,Bt=0|this.gridMap.height;Et<Bt;)for(var Lt=Et++,At=0,Ot=0|this.gridMap.width;At<Ot;){var Mt=At++;this.gridMap.layers[0].data[Lt][Mt].index=Mt>=Pt||Lt>=Ct?-1:this.gridMapArray[Lt][Mt]}this.gridMap.layers[0].dirty=!0,this.step++}else 5==this.step?(this.layerTexure.renderRawXY(this.mapLayer,0,0,!0),this.step++):6==this.step&&(this.bg.visible=!0,this.gfx.visible=!0,this.enemies.visible=!0,this.layerSprite.visible=!0,this.needToRenderLayer=!1)},createNextStep:function(){this.needToRenderLayer&&this.createTileMapGfx()},createCollisionBlock:function(t){var e=Oe.get(0*this.x+16*t.x,0*this.y+16*t.y,16*t.width,16*t.height,t.allowCollisions);e.isFloor=t.isFloor,e.isWall=t.isWall,this.collisions.add(e)},resetBlackArea:function(){this.blackArea.reset_(X.screenOffsetX,this.y-64)},__class__:q});var Z=function(){};e["com.drderico.towerd.game.interfaces.ITriggerListener"]=Z,Z.__name__=["com","drderico","towerd","game","interfaces","ITriggerListener"],Z.prototype={__class__:Z};var tt=function(){};e["com.drderico.towerd.game.Tutorial"]=tt,tt.__name__=["com","drderico","towerd","game","Tutorial"],tt.__interfaces__=[Z],tt.create=function(){tt.THIS=new tt,tt.txt=X.getText(H.DEFAULT_TEXT_SIZE),tt.state=0,tt.active=!0,Nt.hidePauseBtn(),tt.tutor1=new at,tt.tutor1.set_active(!1),C.loadGraphicFromTexture(tt.tutor1,X.t,"kiziTutor1.png"),X.setScale(tt.tutor1),tt.tutor2=new at,tt.tutor2.set_moves(!1),C.loadGraphicFromTexture(tt.tutor2,X.t,"kiziTutor2_src0001.png"),tt.tutor2.animation.addByNames("1",["kiziTutor2_src0001.png","kiziTutor2_src0002.png"],4),X.setScale(tt.tutor2)},tt.updateText=function(t){tt.txt.text=t,X.setScale(tt.txt),X.setPosUsingCenter(tt.txt,tt.getMidX(),zi.game.height/2-170),tt.txt.alpha=0,X.cancelTween(tt.t),tt.t=rs.tween(tt.txt,{alpha:1},.5,{onComplete:tt._updateText},tt)},tt._updateText=function(t){tt.active=!0},tt.nextState=function(){if(tt.active){switch(tt.state){case 0:Nt.THIS.add(tt.txt),zi.game.device.desktop?(tt.txt.visible=!1,Nt.THIS.add(tt.tutor1),X.setPosUsingCenter(tt.tutor1,tt.getMidX(),zi.game.height/2-140)):tt.updateText(X.tongue.get("$TUTOR1"));break;case 1:zi.game.device.desktop&&(tt.txt.visible=!0,Nt.THIS.remove(tt.tutor1,!1,!0),tt.tutor1.destroy(),X.setPosUsingCenter(tt.txt,tt.getMidX(),zi.game.height/2-70)),Nt.THIS.add(tt.tutor2),tt.updateText(X.tongue.get("$TUTOR2")),tt.createGem(23,12),tt.tutor2.animation.play("1"),X.setPosUsingCenter(tt.tutor2,tt.getMidX()+20,zi.game.height/2-105);break;case 2:tt.updateText(X.tongue.get("$TUTOR3")),tt.createGem(6,12),X.setPosUsingCenter(tt.tutor2,tt.getMidX()-252,zi.game.height/2-105);break;case 3:tt.updateText(X.tongue.get("$TUTOR4")),Q.levels[J.curLevelIdx].chest.listeners.length=0,Q.levels[J.curLevelIdx].chest.addListener(tt.THIS),Q.levels[J.curLevelIdx].chest.enableBody(),Q.levels[J.curLevelIdx].chest.visible=!0,X.setPosUsingCenter(tt.tutor2,tt.getMidX()+311,zi.game.height/2-10);break;case 4:tt.updateText(X.tongue.get("$TUTOR5"));break;case 5:Nt.THIS.remove(tt.txt,!1,!0),tt.txt.destroy(),Nt.THIS.remove(tt.tutor2,!1,!0),tt.tutor2.destroy(),bi.show(X.tongue.get("$TUTOR_END"),W.sceneManager,tt.onWindowHelloPlayerHided)}tt.state++}},tt.onLadderPositioned=function(t){X.setPosUsingCenter(tt.tutor2,t.x,zi.game.height/2-110),tt.tutor2.x+=18},tt.onWindowHelloPlayerHided=function(){tt.active=!1,Nt.showPauseBtn(),j.game()},tt.onHeroTouchedFloor=function(){1==tt.state&&tt.nextState()},tt.onHeroTouchedLadder=function(){5==tt.state&&tt.nextState()},tt.createGem=function(t,e){tt.gem=$t.get(0*Q.levels[J.curLevelIdx].x+16*(t+1.5),0*Q.levels[J.curLevelIdx].y+16*(e+1)),Q.levels[J.curLevelIdx].gfx.add(tt.gem),tt.gem.addListener(tt.THIS)},tt.getMidX=function(){return Q.levels[J.curLevelIdx].level.X+16*Q.levels[J.curLevelIdx].level.W/2},tt.prototype={onTriggerTouched:function(){tt.state<4&&tt.gem.onTriggerTouched(),tt.nextState()},onTriggerHurted:function(){},__class__:tt};var et=function(t,e,i){Phaser.Particles.Arcade.Emitter.call(this,zi.game,t,e,i)};e["flixel.effects.particles.FlxTypedEmitter"]=et,et.__name__=["flixel","effects","particles","FlxTypedEmitter"],et.__interfaces__=[Y],et.__super__=Phaser.Particles.Arcade.Emitter,et.prototype=s(Phaser.Particles.Arcade.Emitter.prototype,{setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},__class__:et});var it=function(){this.aliveParticles=0,et.call(this,0,0,20),this.createParticles()};e["com.drderico.towerd.game.fx.AcidDropsFx"]=it,it.__name__=["com","drderico","towerd","game","fx","AcidDropsFx"],it.get=function(){return it.pool.get()},it.cleanGarbage=function(){it.callSuperDestroy=!0,it.pool.cleanAndDestroy(1),it.callSuperDestroy=!1},it.__super__=et,it.prototype=s(et.prototype,{createParticles:function(){var t;null==it.t&&(it.t=X.getBitmapData(6,6,"#33CC00","AcidDropsFx",!0));for(var e=0;e<20;){e++;(t=new Ji(0,0)).loadTexture(it.t),t.exists=!1,this.add(t),t.events.onKilled.add(Ms(this,this.onParticleKilled),this)}this.setXSpeed(-200,200),this.setYSpeed(-150,-250),this.setScale(.25,1,.25,1),this.setRotation(0,0),this.gravity=600,this.setSize(30,10)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e){Q._fx.add(this),this.setPosition(t-this.width,e-this.height),this.start(!0,1500,0,20,!1),this.aliveParticles=20},put:function(){it.pool.put(this)},kill:function(){return et.prototype.kill.call(this),this.put(),Q._fx.remove(this,!1,!0),this},destroy:function(t,e){it.callSuperDestroy&&et.prototype.destroy.call(this,t,e)},__class__:it});var st=function(){et.call(this,0,0,20),this.createParticles()};e["com.drderico.towerd.game.fx.BloodDropsFx"]=st,st.__name__=["com","drderico","towerd","game","fx","BloodDropsFx"],st.get=function(){return st.pool.get()},st.cleanGarbage=function(){st.callSuperDestroy=!0,st.pool.cleanAndDestroy(1),st.callSuperDestroy=!1},st.__super__=et,st.prototype=s(et.prototype,{createParticles:function(){},show:function(t,e){Q._fx.add(this),this.setPosition(t-this.width,e-this.height),this.start(!0)},put:function(){st.pool.put(this)},kill:function(){return et.prototype.kill.call(this),this.put(),Q._fx.remove(this,!1,!0),this},destroy:function(t,e){st.callSuperDestroy&&et.prototype.destroy.call(this,t,e)},__class__:st});var nt=function(){this.aliveParticles=0,et.call(this,0,0,20),this.createParticles()};e["com.drderico.towerd.game.fx.ChestOpeningFx"]=nt,nt.__name__=["com","drderico","towerd","game","fx","ChestOpeningFx"],nt.get=function(){return nt.pool.get()},nt.cleanGarbage=function(){nt.pool.cleanAndDestroy(1)},nt.__super__=et,nt.prototype=s(et.prototype,{createParticles:function(){var t;null==nt.t1&&(nt.t1=X.getBitmapData(3,3,"#FFF200","ChestOpeningFx1",!0),nt.t2=X.getBitmapData(2,2,"#FFF200","ChestOpeningFx2",!0));for(var e=0;e<20;){var i=e++;(t=new Ji(0,0)).loadTexture(i%2==0?nt.t1:nt.t2),t.exists=!1,this.add(t),t.events.onKilled.add(Ms(this,this.onParticleKilled),this)}this.setXSpeed(0,0),this.setYSpeed(-30,-60),this.setAlpha(1,.2,2e3),this.gravity=-200,this.setSize(48,16)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e){Q._fxUnderHero.add(this),this.setPosition(t,e),this.start(!1,2e3,.04,20),this.aliveParticles=20},put:function(){nt.pool.put(this)},kill:function(){return et.prototype.kill.call(this),this.put(),Q._fxUnderHero.remove(this,!1,!0),this},destroy:function(t,e){},__class__:nt});var ot=function(){};e["flixel.util.IFlxDestroyable"]=ot,ot.__name__=["flixel","util","IFlxDestroyable"],ot.prototype={__class__:ot};var rt=function(t,e){null==e&&(e=0),null==t&&(t=0),Phaser.Sprite.call(this,zi.game,t,e)};e["flixel.FlxObject"]=rt,rt.__name__=["flixel","FlxObject"],rt.__interfaces__=[ot],rt.__super__=Phaser.Sprite,rt.prototype=s(Phaser.Sprite.prototype,{destroy:function(t){Phaser.Sprite.prototype.destroy.call(this,t)},get_allowCollisions:function(){if(null==this.body)return 0;var t=0;return t|=this.body.checkCollision.up?256:t,t|=this.body.checkCollision.down?4096:t,t|=this.body.checkCollision.left?1:t,t|=this.body.checkCollision.right?16:t},set_allowCollisions:function(t){return null==this.body?t:(this.body.checkCollision.up=0!=(256&t),this.body.checkCollision.down=0!=(4096&t),this.body.checkCollision.left=0!=(1&t),this.body.checkCollision.right=0!=(16&t),this.body.checkCollision.none=0==t,this.body.checkCollision.any=4369==t,t)},get_immovable:function(){return null!=this.body&&this.body.immovable},set_immovable:function(t){return null==this.body?t:this.body.immovable=t},get_moves:function(){return null!=this.body&&this.body.moves},set_moves:function(t){return null==this.body?t:this.body.moves=t},setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},reset_:function(t,e){Phaser.Sprite.prototype.reset.call(this,t,e)},get_active:function(){return this.exists},set_active:function(t){var e=this.visible;return this.exists=t,this.visible=e,t},hurt:function(t){this.damage(t)},setBodyPos:function(t,e){this.x=t,this.y=e,null!=this.body&&(this.body.x=this.x,this.body.y=this.y,this.body.prev.set(this.x,this.y))},setBodyX:function(t){null!=this.body&&(this.body.x=t)},setBodyY:function(t){null!=this.body&&(this.body.y=t)},disableBody:function(){null!=this.body&&(this.body.enable=!1)},enableBody:function(){null!=this.body&&(this.body.enable=!0)},__class__:rt});var at=function(t,e){null==e&&(e=0),null==t&&(t=0),this.flipY=!1,this.flipX=!1,rt.call(this,t,e),this.animation=new ji(this)};e["flixel.FlxSprite"]=at,at.__name__=["flixel","FlxSprite"],at.__super__=rt,at.prototype=s(rt.prototype,{set_flipX:function(t){return this.scale.x=t?-Math.abs(this.scale.x):Math.abs(this.scale.x),this.flipX=t},set_flipY:function(t){return this.scale.y=t?-Math.abs(this.scale.y):Math.abs(this.scale.y),this.flipY=t},makeGraphic:function(t,e,i,s,n){null==s&&(s=!1),null==i&&(i="#FFFFFF"),this.loadTexture(X.getBitmapData(t,e,i,n,s))},updateHitbox:function(){},centerOrigin:function(){this.anchor.set(.5,.5)},onTouched:function(){},__class__:at});var lt=function(){};e["flixel.util.IFlxPool"]=lt,lt.__name__=["flixel","util","IFlxPool"],lt.prototype={__class__:lt};var ht=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_ExplosionFireFx"]=ht,ht.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_ExplosionFireFx"],ht.__interfaces__=[lt],ht.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ht};var ct=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"explosionFire_red_0001.png"),this.animation.addByNames("1",["explosionFire_red_0001.png","explosionFire_red_0002.png","explosionFire_red_0003.png","explosionFire_red_0004.png","explosionFire_red_0005.png","explosionFire_red_0006.png","explosionFire_red_0007.png","explosionFire_red_0008.png","explosionFire_red_0009.png"],25,!1),this.animation.addByNames("2",["explosionFire_blue_0001.png","explosionFire_blue_0002.png","explosionFire_blue_0003.png","explosionFire_blue_0004.png","explosionFire_blue_0005.png","explosionFire_blue_0006.png","explosionFire_blue_0007.png","explosionFire_blue_0008.png","explosionFire_blue_0009.png"],25,!1),this.animation.addByNames("3",["explosionFire_green_0001.png","explosionFire_green_0002.png","explosionFire_green_0003.png","explosionFire_green_0004.png","explosionFire_green_0005.png","explosionFire_green_0006.png","explosionFire_green_0007.png","explosionFire_green_0008.png","explosionFire_green_0009.png"],25,!1),this.set_moves(!1),X.setScale(this)};e["com.drderico.towerd.game.fx.ExplosionFireFx"]=ct,ct.__name__=["com","drderico","towerd","game","fx","ExplosionFireFx"],ct.show=function(t,e,i,s){var n=ct.pool.get();i.add(n,!0),n.reset_(t-38,e-40),n.animation.play(s,!0),n.animations.currentAnim.onComplete.addOnce(Ms(n,n.onAnimComplete),n)},ct.__super__=at,ct.prototype=s(at.prototype,{onAnimComplete:function(){this.kill()},destroy:function(t){},kill:function(){return at.prototype.kill.call(this),ct.pool.put(this),this},__class__:ct});var _t=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_ExplosionFx"]=_t,_t.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_ExplosionFx"],_t.__interfaces__=[lt],_t.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:_t};var ut=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"hero_explosion0001.png"),this.animation.addByNames("1",["hero_explosion0001.png","hero_explosion0002.png","hero_explosion0003.png","hero_explosion0004.png","hero_explosion0005.png","hero_explosion0006.png","hero_explosion0007.png"],12,!1),this.set_moves(!1)};e["com.drderico.towerd.game.fx.ExplosionFx"]=ut,ut.__name__=["com","drderico","towerd","game","fx","ExplosionFx"],ut.show=function(t,e,i){var s=ut.pool.get();s._parent=i,i.add(s),s.reset_(t-30,e-29),s.animation.play("1",!0)},ut.__super__=at,ut.prototype=s(at.prototype,{update:function(){at.prototype.update.call(this),null!=this.animations.currentAnim&&this.animations.currentAnim.isFinished&&(this._parent.remove(this,!1,!0),this.kill())},kill:function(){return ut.pool.put(this),this},destroy:function(t){this._parent=null},__class__:ut});var dt=function(){et.call(this,0,0,25),this.createParticles()};e["com.drderico.towerd.game.fx.GemMovingFx"]=dt,dt.__name__=["com","drderico","towerd","game","fx","GemMovingFx"],dt.get=function(){return 3==dt.fxCnt?null:(dt.fxCnt++,dt.pool.get())},dt.cleanGarbage=function(){dt.callSuperDestroy=!0,dt.pool.cleanAndDestroy(3),dt.callSuperDestroy=!1},dt.__super__=et,dt.prototype=s(et.prototype,{createParticles:function(){},show:function(t,e){this.alive=!0,this.start(!1,.02)},stop:function(){},setPos:function(t,e){this.setPosition(t-this.width/2,e-this.height/2)},put:function(){dt.fxCnt--,dt.fxCnt<0?dt.fxCnt=0:dt.pool.put(this)},kill:function(){return et.prototype.kill.call(this),K.hud.flyingItems.remove(this,!1,!0),this.put(),this},destroy:function(t,e){dt.callSuperDestroy&&et.prototype.destroy.call(this,t,e)},__class__:dt});var pt=function(){this.aliveParticles=0,et.call(this,20),this.createParticles()};e["com.drderico.towerd.game.fx.GemPickUpFx"]=pt,pt.__name__=["com","drderico","towerd","game","fx","GemPickUpFx"],pt.get=function(){return 3==pt.fxCnt?null:(pt.fxCnt++,pt.pool.get())},pt.cleanGarbage=function(){pt.callSuperDestroy=!0,pt.pool.cleanAndDestroy(3),pt.callSuperDestroy=!1},pt.__super__=et,pt.prototype=s(et.prototype,{createParticles:function(){this.setAlpha(1,0,1e3),this.setXSpeed(-200,200),this.setYSpeed(-200,200),this.setScale(.25),null==pt.t&&(pt.t=X.getBitmapData(6,6,"#FFFFFF","GemPickUpFx",!0));for(var t=0;t<20;){t++;var e=new Ji(0,0);e.loadTexture(pt.t),e.exists=!1,e.events.onKilled.add(Ms(this,this.onParticleKilled),this),this.add(e)}this.gravity=0,this.setRotation(0,0),this.setSize(10,10)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e,i,s){null==s&&(s=1),this._parent=i,this._parent.add(this),this.setPosition(t-this.width/2,e-this.height/2),this.fixedToCamera=0==s,this.start(!0,1e3,0,20),this.aliveParticles=20},put:function(){pt.fxCnt--,pt.fxCnt<0?pt.fxCnt=0:pt.pool.put(this)},kill:function(){return et.prototype.kill.call(this),null!=this._parent&&this._parent.remove(this,!1,!0),this.put(),this},destroy:function(t,e){pt.callSuperDestroy&&et.prototype.destroy.call(this,t,e),this._parent=null},__class__:pt});var gt=function(){var t;this.aliveParticles=0,et.call(this,0,0,15),gt.prevTextureName=gt.textures[0];for(var e=0;e<15;){e++;t=new Ji(0,0),C.loadGraphicFromTexture(t,X.t,gt.prevTextureName),t.exists=!1,this.add(t),t.events.onKilled.add(Ms(this,this.onParticleKilled),this)}this.setXSpeed(-300,300),this.setYSpeed(-250,-350),this.setScale(.5,1),this.gravity=600,this.setSize(47,70)};e["com.drderico.towerd.game.fx.GravePickedUpFx"]=gt,gt.__name__=["com","drderico","towerd","game","fx","GravePickedUpFx"],gt.get=function(){return gt.pool.get()},gt.__super__=et,gt.prototype=s(et.prototype,{put:function(){gt.pool.put(this)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e,i){if(null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,gt.prevTextureName!=gt.textures[i]){gt.prevTextureName=gt.textures[i];for(var s=0,n=this.children;s<n.length;){var o=n[s];++s,Es.__cast(o,Phaser.Particle).frameName=gt.prevTextureName,Es.__cast(o,Phaser.Particle).body.enable=!0}}else for(var r=0,a=this.children;r<a.length;){var l=a[r];++r,Es.__cast(l,Phaser.Particle).body.enable=!0}return this.start(!0,4e3,0,15,!1),this.aliveParticles=15,Q._fxUnderHero.add(this),this},kill:function(){return et.prototype.kill.call(this),Q._fxUnderHero.remove(this,!1,!0),this.put(),this},destroy:function(t,e){},__class__:gt});var ft=function(){at.call(this),this.set_moves(!1)};e["com.drderico.towerd.game.fx.ItemAroundFx"]=ft,ft.__name__=["com","drderico","towerd","game","fx","ItemAroundFx"],ft.__super__=at,ft.prototype=s(at.prototype,{show:function(t,e,i){this.alpha=1,X.setScale(this,null,!0),this._parent=i,i.add(this),this.reset(t,e),this.animation.play("1",!0)},destroy:function(t){X.cancelTween(this.t),X.cancelTween(this.t2),this.t=null,this.t2=null,this._parent=null},fadeOut:function(){this.t=rs.tween(this.scale,{x:3,y:3},.6,null,null),this.t2=rs.tween(this,{alpha:0},.6,{onComplete:Ms(this,this._delete)},this)},_delete:function(t){null!=this._parent&&this._parent.remove(this,!1,!0),this.put()},kill:function(){return this.put(),this},put:function(){},__class__:ft});var mt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_HealthItemFx"]=mt,mt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_HealthItemFx"],mt.__interfaces__=[lt],mt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:mt};var vt=function(){ft.call(this),C.loadGraphicFromTexture(this,X.t,"heartItemFx0001.png"),this.animation.addByNames("1",["heartItemFx0001.png","heartItemFx0002.png","heartItemFx0003.png","heartItemFx0004.png","heartItemFx0005.png","heartItemFx0006.png","heartItemFx0007.png"],20)};e["com.drderico.towerd.game.fx.HealthItemFx"]=vt,vt.__name__=["com","drderico","towerd","game","fx","HealthItemFx"],vt.get=function(){return vt.pool.get()},vt.__super__=ft,vt.prototype=s(ft.prototype,{put:function(){vt.pool.put(this)},__class__:vt});var yt=function(){et.call(this,0,0,30),this.createParticles()};e["com.drderico.towerd.game.fx.HeroDeadPartsFx"]=yt,yt.__name__=["com","drderico","towerd","game","fx","HeroDeadPartsFx"],yt.get=function(){return null==yt.instance&&(yt.instance=new yt),yt.instance},yt.__super__=et,yt.prototype=s(et.prototype,{createParticles:function(){var t;null==yt.t&&(yt.t=X.getBitmapData(12,12,"#FFFFFF","HeroDeadPartsFx",!0));for(var e=0;e<30;){e++;(t=new Ji(0,0)).loadTexture(yt.t),t.exists=!1,this.add(t)}this.setXSpeed(-500,500),this.setYSpeed(-150,-400),this.setScale(.5,1),this.setRotation(0,0),this.gravity=600,this.setSize(39,36)},show:function(t,e){Q._fxDead.add(this);for(var i=0,s=this.children;i<s.length;){var n=s[i];++i,Es.__cast(n,Ji).body.enable=!0,Es.__cast(n,Ji).exists=!1}this.setPosition(t,e),this.start(!0,0,null,30,!1)},updateColorOfSkin:function(){for(var t=0,e=this.children;t<e.length;){var i=e[t];++t,Es.__cast(i,Ji).tint=zi.random.getObject_Float(H.SKIN_DEATH_COLORS[z.heroSkin.get_value()])}},destroy:function(t,e){},__class__:yt});var xt=function(){this.aliveParticles=0,et.call(this,20),this.createParticles()};e["com.drderico.towerd.game.fx.KittyPickUpFx"]=xt,xt.__name__=["com","drderico","towerd","game","fx","KittyPickUpFx"],xt.get=function(){return xt.pool.get()},xt.cleanGarbage=function(){xt.callSuperDestroy=!0,xt.pool.cleanAndDestroy(1),xt.callSuperDestroy=!1},xt.__super__=et,xt.prototype=s(et.prototype,{createParticles:function(){this.setAlpha(1,0,1e3),this.setXSpeed(-200,200),this.setYSpeed(-200,200),this.setScale(.25);for(var t=0;t<20;){t++;var e=new Ji(0,0);C.loadGraphicFromTexture(e,X.t,"starParticle.png"),e.exists=!1,e.events.onKilled.add(Ms(this,this.onParticleKilled),this),this.add(e)}this.gravity=0,this.setRotation(0,0),this.setSize(10,10)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e,i,s){null==s&&(s=1),this._parent=i,this._parent.add(this);for(var n=0,o=this.children;n<o.length;){var r=o[n];++n,Es.__cast(r,Ji).fixedToCamera=0==s}this.setPosition(t-this.width/2,e-this.height/2),this.start(!0,1e3,0,20),this.aliveParticles=20},put:function(){xt.pool.put(this)},kill:function(){return et.prototype.kill.call(this),null!=this._parent&&this._parent.remove(this,!1,!0),this.put(),this},destroy:function(t,e){xt.callSuperDestroy&&et.prototype.destroy.call(this,t,e),this._parent=null},__class__:xt});var wt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_MagnetItemFx"]=wt,wt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_MagnetItemFx"],wt.__interfaces__=[lt],wt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:wt};var bt=function(){ft.call(this),C.loadGraphicFromTexture(this,X.t,"magnetItemFx0001.png"),this.animation.addByNames("1",["magnetItemFx0001.png","magnetItemFx0002.png","magnetItemFx0003.png","magnetItemFx0004.png","magnetItemFx0005.png","magnetItemFx0006.png","magnetItemFx0007.png"],20)};e["com.drderico.towerd.game.fx.MagnetItemFx"]=bt,bt.__name__=["com","drderico","towerd","game","fx","MagnetItemFx"],bt.get=function(){return bt.pool.get()},bt.__super__=ft,bt.prototype=s(ft.prototype,{put:function(){bt.pool.put(this)},__class__:bt});var Tt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_ShieldItemFx"]=Tt,Tt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_ShieldItemFx"],Tt.__interfaces__=[lt],Tt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Tt};var St=function(){ft.call(this),C.loadGraphicFromTexture(this,X.t,"shieldItemFx0001.png"),this.animation.addByNames("1",["shieldItemFx0001.png","shieldItemFx0002.png","shieldItemFx0003.png","shieldItemFx0004.png","shieldItemFx0005.png","shieldItemFx0006.png","shieldItemFx0007.png"],20)};e["com.drderico.towerd.game.fx.ShieldItemFx"]=St,St.__name__=["com","drderico","towerd","game","fx","ShieldItemFx"],St.get=function(){return St.pool.get()},St.__super__=ft,St.prototype=s(ft.prototype,{put:function(){St.pool.put(this)},__class__:St});var It=function(){this.aliveParticles=0,et.call(this,0,0,20),this.createParticles()};e["com.drderico.towerd.game.fx.WaterDropsFx"]=It,It.__name__=["com","drderico","towerd","game","fx","WaterDropsFx"],It.get=function(){return It.pool.get()},It.cleanGarbage=function(){It.callSuperDestroy=!0,It.pool.cleanAndDestroy(1),It.callSuperDestroy=!1},It.__super__=et,It.prototype=s(et.prototype,{createParticles:function(){var t;null==It.t&&(It.t=X.getBitmapData(6,6,"#0099FF","WaterDropsFx",!0));for(var e=0;e<20;){e++;(t=new Ji(0,0)).loadTexture(It.t),t.exists=!1,this.add(t),t.events.onKilled.add(Ms(this,this.onParticleKilled),this)}this.setXSpeed(-200,200),this.setYSpeed(-150,-250),this.setScale(.25,1,.25,1),this.setRotation(0,0),this.gravity=600,this.setSize(30,10)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e){Q._fx.add(this),this.setPosition(t-this.width,e-this.height),this.start(!0,1500,0,20,!1),this.aliveParticles=20},put:function(){It.pool.put(this)},kill:function(){return et.prototype.kill.call(this),this.put(),Q._fx.remove(this,!1,!0),this},destroy:function(t,e){It.callSuperDestroy&&et.prototype.destroy.call(this,t,e)},__class__:It});var kt=function(){this.aliveParticles=0,et.call(this,0,0,20),this.createParticles()};e["com.drderico.towerd.game.fx.WaterRedDropsFx"]=kt,kt.__name__=["com","drderico","towerd","game","fx","WaterRedDropsFx"],kt.get=function(){return kt.pool.get()},kt.cleanGarbage=function(){kt.callSuperDestroy=!0,kt.pool.cleanAndDestroy(1),kt.callSuperDestroy=!1},kt.__super__=et,kt.prototype=s(et.prototype,{createParticles:function(){var t;null==kt.t&&(kt.t=X.getBitmapData(6,6,"#FF3700","WaterRedDropsFx",!0));for(var e=0;e<20;){e++;(t=new Ji(0,0)).loadTexture(kt.t),t.exists=!1,this.add(t),t.events.onKilled.add(Ms(this,this.onParticleKilled),this)}this.setXSpeed(-200,200),this.setYSpeed(-150,-250),this.setScale(.25,1,.25,1),this.gravity=600,this.setRotation(0,0),this.setSize(30,10)},onParticleKilled:function(){this.aliveParticles--,0==this.aliveParticles&&this.kill()},show:function(t,e){Q._fx.add(this),this.setPosition(t-this.width,e-this.height),this.start(!0,1500,0,20,!1),this.aliveParticles=20},put:function(){kt.pool.put(this)},kill:function(){return et.prototype.kill.call(this),this.put(),Q._fx.remove(this,!1,!0),this},destroy:function(t,e){kt.callSuperDestroy&&et.prototype.destroy.call(this,t,e)},__class__:kt});var Ft=function(){at.call(this),this.set_moves(!1)};e["com.drderico.towerd.game.fx.dustForHero.HeroDustFxClass"]=Ft,Ft.__name__=["com","drderico","towerd","game","fx","dustForHero","HeroDustFxClass"],Ft.__super__=at,Ft.prototype=s(at.prototype,{onShow:function(){this.animations.currentAnim.onComplete.addOnce(Ms(this,this.onAnimationComplete))},onAnimationComplete:function(t){this.kill(),this._parent.remove(this,!1,!0)},destroy:function(t){},put:function(){},kill:function(){return at.prototype.kill.call(this),this.put(),this},__class__:Ft});var Pt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroJumpedSideDustFx"]=Pt,Pt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroJumpedSideDustFx"],Pt.__interfaces__=[lt],Pt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Pt};var Ct=function(){Ft.call(this),C.loadGraphicFromTexture(this,X.t,"jumpUpSideDustFx0001.png"),this.animation.addByNames("1",["jumpUpSideDustFx0001.png","jumpUpSideDustFx0002.png","jumpUpSideDustFx0003.png","jumpUpSideDustFx0004.png","jumpUpSideDustFx0005.png","jumpUpSideDustFx0006.png","jumpUpSideDustFx0006.png","jumpUpSideDustFx0007.png","jumpUpSideDustFx0007.png","jumpUpSideDustFx0008.png","jumpUpSideDustFx0008.png","jumpUpSideDustFx0009.png"],24,!1),X.setScale(this)};e["com.drderico.towerd.game.fx.dustForHero.HeroJumpedSideDustFx"]=Ct,Ct.__name__=["com","drderico","towerd","game","fx","dustForHero","HeroJumpedSideDustFx"],Ct.show=function(t,e){var i=Ct.pool.get();i._parent=t,i.set_flipX(Q.hero.skin.flipX),i.flipX?i.reset_(Q.hero.body.x+80,e-48):i.reset_(Q.hero.body.x-44,e-48),i.animation.play("1",!0),i.onShow(),i._parent.add(i)},Ct.__super__=Ft,Ct.prototype=s(Ft.prototype,{put:function(){Ct.pool.put(this)},__class__:Ct});var Et=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroLandedDustFx"]=Et,Et.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroLandedDustFx"],Et.__interfaces__=[lt],Et.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Et};var Bt=function(){Ft.call(this),C.loadGraphicFromTexture(this,X.t,"jumpDustFx0001.png"),this.animation.addByNames("1",["jumpDustFx0001.png","jumpDustFx0002.png","jumpDustFx0003.png","jumpDustFx0004.png","jumpDustFx0005.png","jumpDustFx0006.png","jumpDustFx0007.png","jumpDustFx0008.png"],13,!1),X.setScale(this,null,!0)};e["com.drderico.towerd.game.fx.dustForHero.HeroLandedDustFx"]=Bt,Bt.__name__=["com","drderico","towerd","game","fx","dustForHero","HeroLandedDustFx"],Bt.show=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1);var n=Bt.pool.get();return n._parent=t,i?(n.set_flipY(s),n.reset_(e+(s?-11:11),Q.hero.body.y)):(n.set_flipX(Q.hero.skin.flipX),n.set_flipY(!1),n.angle=0,n.reset_(Q.hero.body.center.x-(42-n.offsetX*n.scale.x),e-Math.floor(n.offsetY))),n.animation.play("1",!0),n.onShow(),n._parent.add(n),n},Bt.__super__=Ft,Bt.prototype=s(Ft.prototype,{put:function(){Bt.pool.put(this)},__class__:Bt});var Lt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroRunDustFx"]=Lt,Lt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_fx_dustForHero_HeroRunDustFx"],Lt.__interfaces__=[lt],Lt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Lt};var At=function(){Ft.call(this),C.loadGraphicFromTexture(this,X.t,"runDustFx0001.png"),this.animation.addByNames("1",["runDustFx0001.png","runDustFx0002.png","runDustFx0003.png","runDustFx0004.png","runDustFx0005.png"],8,!1),X.setScale(this)};e["com.drderico.towerd.game.fx.dustForHero.HeroRunDustFx"]=At,At.__name__=["com","drderico","towerd","game","fx","dustForHero","HeroRunDustFx"],At.show=function(t,e){var i=At.pool.get();i._parent=t,i.set_flipX(Q.hero.skin.flipX),At._offsetY=zi.random.int(-6,3),At._offsetX=zi.random.int(-10,10),i.flipX?i.reset_(Q.hero.x-(-19.5-At._offsetX),e-1*(11+At._offsetY)):i.reset_(Q.hero.x-(-11.5+At._offsetX),e-1*(11+At._offsetY)),i.animation.play("1",!0,!1,-1),i._parent.add(i),i.onShow(),At._timerEnded=!1},At.updateTimer=function(t){At._timer<=0?(At._timer=.05,At._timerEnded=!0):At._timer-=t},At.__super__=Ft,At.prototype=s(Ft.prototype,{put:function(){At.pool.put(this),At._timerEnded=!0},__class__:At});var Ot=function(){this.pointerRect=new Phaser.Rectangle(0,0,8,8),this.speedSumFrame=0,this.speedSum=0,this.inAir=!1,this.speed=0,rt.call(this),this.skin=new Mt,X.enableBody(this),this.renderable=!1,this.body.gravity.y=1600,this.body.drag.x=2e4,this.body.friction.set(0,0),this.body.collideWorldBounds=!1,this.body.allowRotation=!1,this.body.setSize(36,34),this.magnetArea=new rt,this.magnetArea.renderable=!1,X.enableBody(this.magnetArea),this.magnetArea.set_moves(!1),this.magnetArea.body.allowGravity=!1,this.magnetArea.body.setSize(7*this.body.width|0,7*this.body.width|0),this.spaceKey=zi.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)};e["com.drderico.towerd.game.hero.Hero"]=Ot,Ot.__name__=["com","drderico","towerd","game","hero","Hero"],Ot.__super__=rt,Ot.prototype=s(rt.prototype,{init:function(t,e,i){yt.get().updateColorOfSkin(),this.skin.updateSkinView(),this.skin.revive(),X.cancelTween(this.angleTween),X.cancelTween(this.onLadderTween),this.onAngleComplete(),D.stopFlickering(this.skin),this.speed=-630*(1==i?-1:1),this.changeDir(),this.unhurtable=!1,this.inAir=!0,this.isJump=!1,this.onLadder=!1,this.set_moves(!0),Ot.canJump=!0,this.needJump=!1,this.skin.angle=0,this.skin.playWalk(),this.noJumpDust=!0,this.reset(t-this.width/2,e-this.height),this.deactivateGemMagnet(),this.skin.setPosition(this.x+this.skin.offsetX/2,this.y+this.skin.offsetY/2),this.speedSum=0,this.speedSumFrame=0},update:function(){Ot.canMove&&(this.checkJump(),this.inAir||this.isJump||this.body.wasTouching.down||(this.inAir=!0,this.isJump=!1,this._floor=null),this.onLadder||(this.body.velocity.x=this.speed)),rt.prototype.update.call(this),this.onLadder&&(this.body.prev.y=this.body.y),Ot.canMove&&!this.onLadder&&(this.speedSumFrame++,this.speedSum+=Math.abs(this.body.x-this.body.prev.x),this.speedSumFrame>=5&&(this.speedSumFrame=0,this.speedSum<10&&this.body.velocity.y>25&&this.body.velocity.y<28&&this.bounceUp(),this.speedSum=0)),$._items[0]&&this.magnetArea.body.position.set(this.body.center.x-this.magnetArea.body.width/2,this.body.center.y-this.magnetArea.body.height/2)},onAngleComplete:function(t){this.skin.angle=0,this.angleTween=null},changeDir:function(t){if(this.speed=-this.speed,this.skin.set_flipX(this.speed>0),this.body.touching.left?this.body.x+=1:this.body.touching.right&&(this.body.x-=1),null!=this.angleTween){var e=this.angleTween.timeline[0].percent;X.cancelTween(this.angleTween);var i=0;!this.prevFlipX&&this.skin.angle<0?i=360:!this.prevFlipX&&this.skin.angle>=0?i=0:this.prevFlipX&&this.skin.angle<0?i=0:this.prevFlipX&&this.skin.angle>=0&&(i=-360),this.skin.angle=-this.skin.angle,this.angleTween=rs.tween(this.skin,{angle:i},.619*(1-e),{onComplete:Ms(this,this.onAngleComplete)},this),null!=t&&t.body.height>=128&&(Bt.show(Q._fxUnderHero,this.speed<0?t.body.x:t.body.right,!0,this.speed<0).angle=90),this.prevFlipX=this.skin.flipX}},onFloorTouch:function(t){this.inAir&&(this.inAir=!1,this.isJump=!1,!this.noJumpDust&&this.body.deltaY()>0?(j.touchFloor(),Bt.show(Q._fxUnderHero,t.body.y),tt.active&&tt.onHeroTouchedFloor()):this.noJumpDust=!1,this._floor=t,Ot.canJump=!0,this.checkJump())},climbOnLadder:function(t){if(!this.onLadder){this.ladder=t,this.ladder.trigger.deactivate(),this.needJump=!1,this.onLadder=!0,this.isJump=!1,Ot.canJump=!1,this.body.velocity.set(0,0);var e=this.ladder.toY-this.body.height+16;this.set_moves(!1),D.stopFlickering(this.skin),this.unhurtable=!1,Ot.climbOnLadderDuration=Math.abs(e-this.y)/200,rs.tween(this,{x:t.x+2},.2,{onComplete:Ms(this,this.onClimbXComplete)},this),this.onLadderTween=rs.tween(this,{y:e},Ot.climbOnLadderDuration,{onComplete:Ms(this,this.onClimbComplete)},this),X.delay(Ot.climbOnLadderDuration/2,Ms(this,this.onClimbPreComplete),null,this),$.pauseItems()}},onClimbXComplete:function(t){Ue.show("+100",Q._fx,this.body.center.x,this.body.y),tt.active&&tt.onHeroTouchedLadder()},onClimbPreComplete:function(t){Ot.canJump=!0,Q.forceShowFireBeams(),W.changeBgColor(),W.changeCssBgColor()},die:function(){X.cancelTween(this.tween),D.stopFlickering(this.skin),this.kill(),this.skin.kill(),yt.get().show(this.body.center.x,this.body.center.y),J.setNeedToGameOver(),this.onLadder&&(X.cancelTween(this.onLadderTween),X.cancelTween(Q.onLadderTween),X.cancelTween(Q.cameraTween1),X.cancelTween(Q.cameraTween2))},onHurt:function(){this.unhurtable=!0,this.needJump=!1,D.stopFlickering(this.skin),this.skin.playHurt(),this.tween=X.delay(.1,Ms(this,this._flash),null,this),j.hero_hurt()},_flash:function(t){X.cancelTween(this.tween),this.skin.playWalk(),D.flicker(this.skin,1,.02,!0,Ms(this,this.onFlashComplete))},onFlashComplete:function(){this.unhurtable=!1},bounceUp:function(t){null==t&&(t=1),this.body.velocity.y<0||(this.body.velocity.y=-530*t,this.isJump=!0,this.inAir=!0,this.needJump=!1,this.body.y-=2,this.body.prev.y=this.body.y)},onClimbComplete:function(t){this.onLadder=!1,this.isJump=!1,this.inAir=!1,this.set_moves(!0),this.ladder=null,this.unhurtable=!1,Q.hideLadder(),Q.onClimbComplete(),$.unpauseItems(),this.checkJump()},checkJump:function(){this.body.velocity.y>=0&&Ot.canJump&&(this.spaceKey.isDown&&this.spaceKey.downDuration()?this.needJump=!0:zi.game.input.activePointer.justPressed()&&(null==this.btnRect&&(this.btnRect=new Phaser.Rectangle(Nt._pauseBtn.cameraOffset.x,Nt._pauseBtn.cameraOffset.y,Nt._pauseBtn.width,Nt._pauseBtn.height)),this.pointerRect.x=zi.game.input.activePointer.x,this.pointerRect.y=zi.game.input.activePointer.y,this.btnRect.intersects(this.pointerRect,0)||(this.needJump=!0))),this.inAir||this.onLadder||!this.needJump||this.isJump||(this.body.velocity.y=-530,this.inAir=!0,this.isJump=!0,this.needJump=!1,null!=this._floor&&Ct.show(Q._fxUnderHero,this._floor.body.y),X.cancelTween(this.angleTween),this.skin.angle=0,this.angleTween=rs.tween(this.skin,{angle:this.skin.flipX?360:-360},.619,{onComplete:Ms(this,this.onAngleComplete)},this),this.prevFlipX=this.skin.flipX,this._floor=null,j.hero_jump())},updateAfterColliding:function(){this.skin.setPosition(this.x+this.skin.offsetX*this.skin.scale.x,this.y+this.skin.offsetY),0!=this.body.velocity.x&&this.alive},activateGemMagnet:function(){this.magnetArea.exists=!0,this.magnetArea.alive=!0},deactivateGemMagnet:function(){this.magnetArea.exists=!1,this.magnetArea.alive=!1},activateInvulnerability:function(){},deactivateInvulnerability:function(){},__class__:Ot});var Mt=function(){this._offsetY=0,this._offsetX2=0,this._offsetX1=0,at.call(this),C.loadGraphicFromTexture(this,X.t,H.HERO_SKIN_TEXTURES[0][1][0]),X.setScale(this,1,!0)};e["com.drderico.towerd.game.hero.HeroSkin"]=Mt,Mt.__name__=["com","drderico","towerd","game","hero","HeroSkin"],Mt.__super__=at,Mt.prototype=s(at.prototype,{destroy:function(t){},updateSkinView:function(){this.animation.remove("1");var t=z.heroSkin.get_value();this.animation.addByNames("1",[H.HERO_SKIN_TEXTURES[t][1][0],H.HERO_SKIN_TEXTURES[t][1][1],H.HERO_SKIN_TEXTURES[t][1][0],H.HERO_SKIN_TEXTURES[t][1][1],H.HERO_SKIN_TEXTURES[t][1][0],H.HERO_SKIN_TEXTURES[t][1][1],H.HERO_SKIN_TEXTURES[t][1][0],H.HERO_SKIN_TEXTURES[t][1][2]],8),this.setWalkOffsets(),this.blendMode=10==t?PIXI.blendModes.ADD:PIXI.blendModes.NORMAL},playWalk:function(){this.setWalkOffsets(),this.animation.play("1",!0)},playHurt:function(){},setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),at.prototype.setPosition.call(this,t+(this.flipX?this._offsetX2:this._offsetX1),e+this._offsetY)},setWalkOffsets:function(){this._offsetX1=1*Mt.offsetsWalk[z.heroSkin.get_value()][0],this._offsetX2=1*Mt.offsetsWalk[z.heroSkin.get_value()][1],this._offsetY=1*Mt.offsetsWalk[z.heroSkin.get_value()][2]},__class__:Mt});var Gt=function(){this.cameraOffset=new ts,this.coin=new at(0,-1),C.loadGraphicFromTexture(this.coin,X.t,"coin0001.png"),this.coin.animation.addByNames("1",["coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0001.png","coin0002.png","coin0003.png","coin0004.png","coin0005.png","coin0006.png","coin0007.png","coin0008.png","coin0009.png"],10),X.setScale(this.coin),this.coin.animation.play("1"),this.txt=X.getText(H.DEFAULT_TEXT_SIZE),this.txt.text="1234",this.txt.setPosition(this.coin.width+12,-12),this.coin.fixedToCamera=!0,this.txt.fixedToCamera=!0};e["com.drderico.towerd.game.hud.CoinsHud"]=Gt,Gt.__name__=["com","drderico","towerd","game","hud","CoinsHud"],Gt.prototype={updateText:function(t){null==t&&(t=!0);var e=z.coins.get_value();this.txt.text=h.string(e),X.setScale(this.txt),t&&this.bounce()},setPosition:function(t,e){this.cameraOffset.set(t,e),this.txt.cameraOffset.x=this.coin.width+12+t,this.txt.cameraOffset.y=-6+e,this.coin.cameraOffset.x=t,this.coin.cameraOffset.y=-7+e},bounce:function(){X.cancelTween(this._tween),this._tween=M.scaleUpDown(this.txt,null,1.2,.05)},__class__:Gt};var Ht=function(){this.cameraOffset=new ts,this.gem=new at(0,-3),this.gem.set_moves(!1),C.loadGraphicFromTexture(this.gem,X.t,"gem2_0001.png"),this.gem.animation.addByNames("1",["gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0002.png","gem2_0003.png","gem2_0004.png","gem2_0005.png","gem2_0006.png","gem2_0007.png","gem2_0008.png"],12),X.setScale(this.gem),this.gem.animation.play("1"),this.txt=X.getText(H.DEFAULT_TEXT_SIZE),this.txt.text="1234",this.txt.setPosition(this.gem.width+13,-6),this.gem.fixedToCamera=!0,this.txt.fixedToCamera=!0};e["com.drderico.towerd.game.hud.GemsHud"]=Ht,Ht.__name__=["com","drderico","towerd","game","hud","GemsHud"],Ht.prototype={setPosition:function(t,e){this.cameraOffset.set(t,e),this.txt.cameraOffset.x=this.gem.width+13+t,this.txt.cameraOffset.y=-6+e,this.gem.cameraOffset.x=t,this.gem.cameraOffset.y=-3+e},updateText:function(t){null==t&&(t=!0);var e=z.gems.get_value();this.txt.text=h.string(e),X.setScale(this.txt),t&&this.bounce()},bounce:function(){X.cancelTween(this._tween),this._tween=M.scaleUpDown(this.txt,null,1.2,.05)},__class__:Ht};var Dt=function(){};e["com.drderico.towerd.ui.BackBtnListener"]=Dt,Dt.__name__=["com","drderico","towerd","ui","BackBtnListener"],Dt.prototype={__class__:Dt};var Nt=function(){V.call(this),Nt.THIS=this,K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),Nt.bg=new at(X.screenOffsetX-2,0*X.screenOffsetY-2),Nt.bg.set_active(!1),Nt.bg.fixedToCamera=!0,this.add(Nt.bg),Nt.HEIGHT_TOP=1*Nt.HEIGHT_TOP|0,Nt.HEIGHT_BOTTOM=1*Nt.HEIGHT_BOTTOM|0,Nt._pauseBtn=new Ye(0,0,Ms(this,this.onPauseBtnPressed),this),C.loadGraphicFromTexture(Nt._pauseBtn,X.t,"hud_pause_btn.png"),X.setScale(Nt._pauseBtn,null,!0);Nt._pauseBtn;Nt._pauseBtn.fixedToCamera=!0,this.add(Nt._pauseBtn),Nt.scoreHud=new Xt,Nt.coinsHud=new Gt,Nt.levelHud=new Wt,Nt.gemsHud=new Ht,Nt.livesHud=new Ut,Nt.itemsHud=new Rt,this.add(Nt.coinsHud.coin),Nt.livesHud.addHeartsTo(this),this.add(Nt.gemsHud.gem),Nt.itemsHud.addGfxTo(this),this.add(Nt.coinsHud.txt),this.add(Nt.scoreHud.txt),this.add(Nt.livesHud.txt),this.add(Nt.levelHud.txt),this.add(Nt.gemsHud.txt),this.add(Nt.levelHud.staticTxt),this.add(Nt.scoreHud.staticTxt),Nt.itemsHud.addTxtTo(this),Nt.tapText=X.getText(48,"center"),Nt.tapText.font=X.font48_white,zi.game.device.desktop?Nt.tapText.text=X.tongue.get("$CLICK_TO_START"):Nt.tapText.text=X.tongue.get("$TAP_TO_START"),X.setScale(Nt.tapText),Nt.tapText.fixedToCamera=!0,this.add(Nt.tapText),Nt.hideTapText(),this.flyingItems=new V,this.add(this.flyingItems),this.onGameResize()};e["com.drderico.towerd.game.hud.HUD"]=Nt,Nt.__name__=["com","drderico","towerd","game","hud","HUD"],Nt.__interfaces__=[Dt],Nt.hideTapText=function(){D.stopFlickering(Nt.tapText),Nt.tapText.visible=!1,Ot.canMove=!0,Nt.isWaitingForTap=!1},Nt.showTapText=function(t){Nt.tapText.visible=!0,D.flicker(Nt.tapText,0,.5),Ot.canMove=!1,Nt.isWaitingForTap=!0},Nt.init=function(){Nt.itemsHud.hideAll(),X.setScale(Nt._pauseBtn),Nt.THIS.flyingItems.removeAll()},Nt.onExitConfirmed=function(){z.gameOver=!1,J.onEndGame(),W.sceneManager.showTitleScreen()},Nt.showFx=function(t){Nt.THIS.add(t)},Nt.removeFx=function(t){Nt.THIS.remove(t,!1,!0)},Nt.changeBg=function(){null!=Nt.bg&&Nt.bg.makeGraphic(0|Nt.bg.width,0|Nt.bg.height,H.BG_COLORS[z.envSetting.get_value()])},Nt.hidePauseBtn=function(){Nt._pauseBtn.visible=!1,Nt._pauseBtn.disable()},Nt.showPauseBtn=function(){Nt._pauseBtn.visible=!0,Nt._pauseBtn.enable()},Nt.__super__=V,Nt.prototype=s(V.prototype,{onGameResize:function(){Nt._pauseBtn.fixedToCamera=!1,Nt._pauseBtn.x=zi.game.width-10-X.screenOffsetX-Nt._pauseBtn.width/2|0,Nt._pauseBtn.y=zi.game.height-10-X.screenOffsetY-Nt._pauseBtn.height/2|0,Nt._pauseBtn.fixedToCamera=!0,Nt.levelHud.setPosition(Ei.levelHud.cameraOffset.x,Ei.levelHud.cameraOffset.y),Nt.scoreHud.setPosition(Nt.levelHud.cameraOffset.x+170,Nt.levelHud.cameraOffset.y),Nt.coinsHud.setPosition(Ei.coinsHud.cameraOffset.x,Nt.levelHud.cameraOffset.y),Nt.gemsHud.setPosition(Ei.gemsHud.cameraOffset.x,Nt.levelHud.cameraOffset.y),Nt.livesHud.setPosition(Ei.livesHud.cameraOffset.x,Nt.levelHud.cameraOffset.y+2),Nt.itemsHud.setPosition(X.screenOffsetX+9,zi.game.height-X.screenOffsetY-70),Nt.bg.makeGraphic(zi.get_width()+4,2+(2*Nt.HEIGHT_TOP*1|0),H.BG_COLORS[0],!0,"HUD_bg"),Nt.tapText.fixedToCamera=!1,X.setPosUsingCenter(Nt.tapText,zi.game.width/2,zi.game.height/2),Nt.tapText.fixedToCamera=!0},onPauseBtnPressed:function(t){!J.isLevelRunning||J.isGameOver||tt.active||X.onBtnClicked(Nt._pauseBtn,Ms(As=W.sceneManager,As.showPause))},onBackBtnPressed:function(t){null==t&&(t=!1),t&&j.click(),Nt._pauseBtn.disable(),W.sceneManager.showPause()},__class__:Nt});var Rt=function(){this.timersTxtSrcPos=[[0,0],[0,0]],this.itemSrcPos=[[0,0],[0,0]],this.cameraOffset=new ts,this.slots=[],this.items=[],this.itemSlotId=[0,0],this.timersTxt=[],this.items[0]=new at,C.loadGraphicFromTexture(this.items[0],X.t,"magnet_hud.png"),X.setScale(this.items[0]),this.items[0].set_active(!1),this.items[1]=new at,C.loadGraphicFromTexture(this.items[1],X.t,"shield_hud.png"),X.setScale(this.items[1]),this.items[1].set_active(!1);for(var t=0;t<2;){var e=t++;this.timersTxt[e]=new Re(0,0,X.font16_white,"20",12,"center"),X.setScale(this.timersTxt[e],null,!0),X.setPosUsingCenter(this.timersTxt[e],1*(56+77*e),14),this.timersTxt[e].set_active(!1),this.timersTxt[e].tint=16777215,this.timersTxt[e].fixedToCamera=!0,this.timersTxtSrcPos[e][0]=this.timersTxt[e].x,this.timersTxtSrcPos[e][1]=this.timersTxt[e].y}this.items[0].fixedToCamera=!0,this.items[1].fixedToCamera=!0};e["com.drderico.towerd.game.hud.ItemsHud"]=Rt,Rt.__name__=["com","drderico","towerd","game","hud","ItemsHud"],Rt.prototype={setPosition:function(t,e){this.cameraOffset.set(t,e);for(var i=0;i<2;){var s=i++;this.timersTxt[s].cameraOffset.x=this.timersTxtSrcPos[s][0]+t,this.timersTxt[s].cameraOffset.y=this.timersTxtSrcPos[s][1]+e}this.items[0].cameraOffset.x=this.itemSrcPos[0][0]+t,this.items[0].cameraOffset.y=this.itemSrcPos[0][1]+e,this.items[1].cameraOffset.x=this.itemSrcPos[1][0]+t,this.items[1].cameraOffset.y=this.itemSrcPos[1][1]+e},activateItem:function(t){null==this.slots[0]||this.slots[0]==this.items[t]?this.activateInSlot(this.items[t],0,t):this.activateInSlot(this.items[t],1,t),this.itemSlotId[t]=this.slots.indexOf(this.items[t]),0==t?this.timersTxt[this.itemSlotId[t]].tint=13947204:1==t&&(this.timersTxt[this.itemSlotId[t]].tint=3269886)},activateInSlot:function(t,e,i){this.slots[e]=t,t.visible=!0,X.setScale(t),M.scaleUpDown(t,null,1.1),this.timersTxt[e].visible=!0,this.itemSrcPos[i][0]=77*e*1|0,t.cameraOffset.x=this.cameraOffset.x+(77*e*1|0)},deactivateBonus:function(t){var e=this.slots.indexOf(t);e<0||(this.slots[e]=null,t.visible=!1,this.timersTxt[e].visible=!1)},hideAll:function(){this.items[0].visible=!1,this.items[1].visible=!1,this.slots[0]=null,this.slots[1]=null,this.timersTxt[0].visible=!1,this.timersTxt[1].visible=!1},deactivateItem:function(t){this.deactivateBonus(this.items[t])},getEmptySlotX:function(t){return null==this.slots[0]&&null==this.slots[1]?this.cameraOffset.x+38:null==this.slots[0]&&null!=this.slots[1]?this.slots[1]==this.items[t]?this.cameraOffset.x+115:this.cameraOffset.x+38:null==this.slots[1]&&null!=this.slots[0]?this.slots[0]==this.items[t]?this.cameraOffset.x+38:this.cameraOffset.x+115:this.cameraOffset.x+38},updateTimer:function(t,e){this.timersTxt[this.itemSlotId[t]].text=null==e?"null":""+e},addGfxTo:function(t){t.add(this.items[0]),t.add(this.items[1])},addTxtTo:function(t){for(var e=0;e<2;){var i=e++;t.add(this.timersTxt[i])}},__class__:Rt};var Wt=function(t){null==t&&(t=!1),this.cameraOffset=new ts,this.staticTxt=X.getText(H.DEFAULT_TEXT_SIZE),this.staticTxt.text=X.tongue.get("$STAGE"),X.setScale(this.staticTxt),this.staticTxt.y=-6,this.staticTxt.anchor.x=0,this.staticTxt.width>86&&(this.staticTxt.width=86),this.txt=X.getText(H.DEFAULT_TEXT_SIZE),X.setScale(this.txt),this.txt.text="1234",this.txt.tint=3269886,this.txt.setPosition(this.staticTxt.width+10,-6),this.staticTxt.fixedToCamera=!0,this.txt.fixedToCamera=!0};e["com.drderico.towerd.game.hud.LevelHud"]=Wt,Wt.__name__=["com","drderico","towerd","game","hud","LevelHud"],Wt.prototype={setPosition:function(t,e){this.cameraOffset.set(t,e),this.txt.cameraOffset.x=this.staticTxt.width+10+t,this.txt.cameraOffset.y=-6+e,this.staticTxt.cameraOffset.x=t,this.staticTxt.cameraOffset.y=-6+e},updateText:function(t){null==t&&(t=z.level.get_value()),this.txt.text=h.string(t+1)},__class__:Wt};var Ut=function(){this.cameraOffset=new ts,this.hearts=[],this.hideStack=[],this.heartTweens=[];for(var t=0;t<4;){var e=t++;this.hearts[e]=new at(28*e*1,1),this.hearts[e].set_active(!1),this.hearts[e].visible=!1,C.loadGraphicFromTexture(this.hearts[e],X.t,"heart.png"),X.setScale(this.hearts[e]),this.hearts[e].fixedToCamera=!0,this.heartTweens[e]=[]}this.txt=X.getText(H.DEFAULT_TEXT_SIZE),this.txt.text="99",this.txt.setPosition(this.hearts[2].x+this.hearts[2].width+10,-7),this.txt.fixedToCamera=!0};e["com.drderico.towerd.game.hud.LivesHud"]=Ut,Ut.__name__=["com","drderico","towerd","game","hud","LivesHud"],Ut.prototype={setPosition:function(t,e){this.cameraOffset.set(t,e);for(var i=0;i<4;){var s=i++;this.hearts[s].cameraOffset.x=28*s*1+t,this.hearts[s].cameraOffset.y=1+e}this.txt.cameraOffset.x=this.hearts[2].cameraOffset.x+this.hearts[2].width+10,this.txt.cameraOffset.y=-7+e},addHeartsTo:function(t){for(var e=0;e<4;){var i=e++;t.add(this.hearts[i])}},updateLives:function(t,e){if(null==t&&(t=!1),null==e&&(e=z.heroLives.get_value()),t&&(this.hideStack.length=0),e>4){for(var i=0;i<4;){var s=i++;X.setScale(this.hearts[s]),this.hearts[s].visible=!1}this.hearts[2].alpha=1,this.hearts[2].visible=!0,this.txt.visible=!0,this.txt.text=null==e?"null":""+e,X.setScale(this.txt)}else{this.txt.visible=!1;for(var n=0;n<4;){var o=n++;o<4-e?!t&&this.hearts[o].visible?(this.cancelTweens(o),this.heartTweens[o].push(rs.tween(this.hearts[o],{alpha:0},.4,null,this)),this.heartTweens[o].push(rs.tween(this.hearts[o].scale,{x:2,y:2},.4,{onComplete:Ms(this,this.hideHeart)},this)),this.hideStack.push(o)):this.hearts[o].visible=!1:(X.setScale(this.hearts[o]),t||this.hearts[o].visible||(this.cancelTweens(o),this.heartTweens[o].push(M.scaleUpDown(this.hearts[o]))),this.hearts[o].alpha=1,this.hearts[o].visible=!0)}}},hideHeart:function(t){this.hideStack.length>0&&(this.hearts[this.hideStack.shift()].visible=!1)},cancelTweens:function(t){for(var e=0,i=this.heartTweens[t];e<i.length;){var s=i[e];++e,null!=s&&s.stop(!1)}this.heartTweens[t].length=0},__class__:Ut};var Xt=function(t){null==t&&(t=!1),this.cameraOffset=new ts,this.staticTxt=X.getText(H.DEFAULT_TEXT_SIZE),this.staticTxt.text=X.tongue.get("$SCORE"),X.setScale(this.staticTxt),this.staticTxt.y=-6,this.staticTxt.anchor.x=0,this.staticTxt.width>85&&(this.staticTxt.scale.x*=85/this.staticTxt.width),this.txt=X.getText(H.DEFAULT_TEXT_SIZE),this.txt.text="1234",this.txt.tint=3269886,this.txt.setPosition(108,-6),this.staticTxt.fixedToCamera=!0,this.txt.fixedToCamera=!0};e["com.drderico.towerd.game.hud.ScoreHud"]=Xt,Xt.__name__=["com","drderico","towerd","game","hud","ScoreHud"],Xt.prototype={setPosition:function(t,e){this.cameraOffset.set(t,e),this.txt.cameraOffset.x=108+t,this.txt.cameraOffset.y=-6+e,this.staticTxt.cameraOffset.x=t,this.staticTxt.cameraOffset.y=-6+e},updateText:function(t,e){null==e&&(e=!1),null==t&&(t=!0);var i=e?z.bestScore.get_value():z.score.get_value();this.txt.text=h.string(i),X.setScale(this.txt),t&&this.bounce()},bounce:function(){X.cancelTween(this._tween),this._tween=M.scaleUpDown(this.txt,null,1.2,.05)},__class__:Xt};var Yt=function(){};e["com.drderico.towerd.game.interfaces.IPoolable"]=Yt,Yt.__name__=["com","drderico","towerd","game","interfaces","IPoolable"],Yt.prototype={__class__:Yt};var Vt=function(){this._type=0,this._initY=0,at.call(this),X.enableBody(this),this.set_moves(!1),this.listeners=[]};e["com.drderico.towerd.game.items.Item"]=Vt,Vt.__name__=["com","drderico","towerd","game","items","Item"],Vt.__interfaces__=[Z,Yt],Vt.__super__=at,Vt.prototype=s(at.prototype,{destroy:function(t){this.disableBody(),this.stopTween(),this.listeners.length=0},kill:function(){return at.prototype.kill.call(this),this.put(),this},put:function(){},pickUp:function(){},touchedByMagnetArea:function(){},reset_:function(t,e){X.setScale(this),this.alpha=1,this.stopTween(),this.pickedUp=!1,this.enableBody(),at.prototype.reset_.call(this,0|t,Math.round(e)-Math.floor(this.height)),this.body.setSize(Math.abs(this.width),Math.abs(this.height)),this._initY=this.y},stopTween:function(){null!=this._tween&&(this._tween.stop(),this._tween=null)},_moveUp:function(){this._tween=rs.tween(this,{y:this._initY+10},zi.random.float(.8,1.2),{type:5},null)},onTriggerTouched:function(){this.stopTween(),this.pickedUp=!0,this.pickUp(),J.onBonusPickedUp(this),this.disableBody()},onTriggerHurted:function(){},update:function(){if(at.prototype.update.call(this),null!=this.trailFx){if(!this.trailFx.alive)return void this.killTrailFx();this.trailFx.setPos(this.cameraOffset.x+this.width/2,this.cameraOffset.y+this.height/2)}},callBack:function(t){this.onMoveFinishedCallback(),this._moveUp()},killTrailFx:function(){null!=this.trailFx&&(this.trailFx.kill(),this.trailFx=null)},createTrailFx:function(){null!=this.trailFx&&this.trailFx.alive||(this.killTrailFx(),this.trailFx=dt.get(),null!=this.trailFx&&(this.trailFx.show(this.world.x+this.width/2,this.world.y+this.height/2),K.hud.flyingItems.add(this.trailFx)))},onTouched:function(){for(var t=0,e=this.listeners;t<e.length;){var i=e[t];++t,null!=i&&i.onTriggerTouched()}this.onTriggerTouched()},addListener:function(t){this.listeners.push(t)},__class__:Vt});var Kt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_Chest"]=Kt,Kt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_Chest"],Kt.__interfaces__=[lt],Kt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Kt};var zt=function(){Vt.call(this),this.set_active(!0),this._type=5,C.loadGraphicFromTexture(this,X.t,"chest_closed_ready0001.png"),this.animation.addByNames("closed",["chest_closed_ready0001.png","chest_closed_ready0002.png","chest_closed_ready0003.png","chest_closed_ready0004.png","chest_closed_ready0005.png","chest_closed_ready0006.png","chest_closed_ready0007.png","chest_closed_ready0008.png","chest_closed_ready0009.png","chest_closed_ready0010.png","chest_closed_ready0011.png","chest_closed_ready0012.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png","chest_closed_ready0001.png"],12,!0),this.animation.addByNames("opened",["chest0002.png"],0,!1),X.setScale(this)};e["com.drderico.towerd.game.items.Chest"]=zt,zt.__name__=["com","drderico","towerd","game","items","Chest"],zt.get=function(t,e){var i=zt.pool.get();return i.reset_(t,e),i},zt.__super__=Vt,zt.prototype=s(Vt.prototype,{put:function(){zt.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,t,e),this.visible=!0,this.animation.play("closed")},pickUp:function(){Vt.prototype.pickUp.call(this),nt.get().show(this.body.center.x,this.body.y),this.animation.play("opened"),oi.startDelay=0;for(var t=0,e=zi.random.int(1,3);t<e;){t++;oi.get().reset_(this.worldPosition.x+this.width/2+1*zi.random.int(-5,5),this.worldPosition.y+1*zi.random.int(-10,10)),oi.startDelay+=.1}},killBonus:function(t){this.kill()},__class__:zt});var jt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_CoinItem"]=jt,jt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_CoinItem"],jt.__interfaces__=[lt],jt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:jt};var Qt=function(){this.isMagnetActivated=!1,Vt.call(this),this.set_active(!0),this._type=7,C.loadGraphicFromTexture(this,X.t,"coin0001.png"),X.setScale(this),this.animation.addByNames("1",["coin0001.png","coin0002.png","coin0003.png","coin0004.png","coin0005.png","coin0006.png","coin0007.png","coin0008.png","coin0009.png"],16)};e["com.drderico.towerd.game.items.CoinItem"]=Qt,Qt.__name__=["com","drderico","towerd","game","items","CoinItem"],Qt.get=function(t,e){var i=Qt.pool.get();return i.fixedToCamera=!1,i.reset_(t,e),i.isMagnetActivated=!1,i},Qt.__super__=Vt,Qt.prototype=s(Vt.prototype,{put:function(){Qt.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,0|t,Math.round(e)),this.animation.play("1",!0,!1,-1),this.killTrailFx(),X.setScale(this,.8)},pickUp:function(){this.createTrailFx(),this.isMagnetActivated=!1,j.coin_pickup(),oi.coinsToAdd++,this._tween=rs.tween(this,{y:this.y-100},.3,{ease:Phaser.Easing.Sinusoidal.Out,onComplete:Ms(this,this._hideCoin)},this)},_hideCoin:function(t){Q.levels[J.curLevelIdx].gfx.remove(this,!1,!0),this.fixedToCamera=!0,this.cameraOffset.set(this.worldPosition.x,this.worldPosition.y),this._tween=rs.tween(this.cameraOffset,{x:Nt.coinsHud.cameraOffset.x,y:Nt.coinsHud.cameraOffset.y},.6,{onComplete:Ms(this,this._hideCoin2)},this),K.hud.flyingItems.add(this)},_hideCoin2:function(t){K.hud.flyingItems.remove(this,!1,!0),this.kill(),J.addCoin(),oi.coinsToAdd--,null!=this.trailFx&&this.trailFx.stop()},killBonus:function(t){this.kill()},touchedByMagnetArea:function(){this.isMagnetActivated||(this.isMagnetActivated=!0,this.stopTween(),this.createTrailFx())},update:function(){Vt.prototype.update.call(this),this.isMagnetActivated&&Q.hero.visible&&(Q.hero.body.center.x<this.body.center.x?this.x-=400*zi.game.time.elapsedMS/1e3:this.x+=400*zi.game.time.elapsedMS/1e3,Q.hero.body.center.y+5<this.body.center.y?this.y-=400*zi.game.time.elapsedMS/1e3:Q.hero.body.center.y-5>this.body.center.y&&(this.y+=400*zi.game.time.elapsedMS/1e3))},__class__:Qt});var Jt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_Gem"]=Jt,Jt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_Gem"],Jt.__interfaces__=[lt],Jt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Jt};var $t=function(){this.id=0,this.isMagnetActivated=!1,Vt.call(this),this.set_active(!0),this._type=4,C.loadGraphicFromTexture(this,X.t,$t.frameNames[0]),X.setScale(this),this.animation.addByNames("0",["gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0001.png","gem1_0002.png","gem1_0003.png","gem1_0004.png","gem1_0005.png","gem1_0006.png","gem1_0007.png","gem1_0008.png"],12),this.animation.addByNames("1",["gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0001.png","gem2_0002.png","gem2_0003.png","gem2_0004.png","gem2_0005.png","gem2_0006.png","gem2_0007.png","gem2_0008.png"],12),this.animation.addByNames("2",["gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0001.png","gem3_0002.png","gem3_0003.png","gem3_0004.png","gem3_0005.png","gem3_0006.png","gem3_0007.png","gem3_0008.png"],12),this.animation.addByNames("3",["gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0001.png","gem4_0002.png","gem4_0003.png","gem4_0004.png","gem4_0005.png","gem4_0006.png","gem4_0007.png","gem4_0008.png"],12)};e["com.drderico.towerd.game.items.Gem"]=$t,$t.__name__=["com","drderico","towerd","game","items","Gem"],$t.get=function(t,e){var i=$t.pool.get();return i.reset_(t,e),i.fixedToCamera=!1,i.isMagnetActivated=!1,i.id=$t.ids++,i},$t.__super__=Vt,$t.prototype=s(Vt.prototype,{put:function(){$t.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,0|t,Math.round(e)-Math.floor(this.height));for(var i=$t.prevIdx;i==$t.prevIdx;)i=zi.random.int(0,3);this.animation.play(null==i?"null":""+i,!0,!1,-1),$t.prevIdx=i,this._moveUp(),this.killTrailFx()},pickUp:function(){this.createTrailFx(),this.isMagnetActivated=!1,j.gem_pickup();var t=pt.get();null!=t&&t.show(this.body.center.x,this.body.center.y,Q._fxUnderHero),Ue.show("+25",Q._fx,this.world.x+this.width/2,this.world.y+0*this.height/2),Q.levels[J.curLevelIdx].gfx.remove(this,!1,!0),this.fixedToCamera=!0,this.cameraOffset.set(this.worldPosition.x,this.worldPosition.y),rs.tween(this.cameraOffset,{x:Nt.gemsHud.cameraOffset.x,y:Nt.gemsHud.cameraOffset.y},.6,{onComplete:Ms(this,this._hideGem)},this),K.hud.flyingItems.add(this),J.addGem()},_hideGem:function(t){K.hud.flyingItems.remove(this,!1,!0),this.kill(),Nt.gemsHud.updateText(),null!=this.trailFx&&this.trailFx.stop()},killBonus:function(t){this.kill()},touchedByMagnetArea:function(){if(!this.isMagnetActivated){this.isMagnetActivated=!0,this.stopTween(),this.createTrailFx(),24==z.ach_gems_collected_by_magnet.get_value()?O.unlock("CgkI_f7-8JsKEAIQBQ"):49==z.ach_gems_collected_by_magnet.get_value()?O.unlock("CgkI_f7-8JsKEAIQBg"):74==z.ach_gems_collected_by_magnet.get_value()?O.unlock("CgkI_f7-8JsKEAIQBw"):99==z.ach_gems_collected_by_magnet.get_value()&&O.unlock("CgkI_f7-8JsKEAIQCA");var t=z.ach_gems_collected_by_magnet,e=t.get_value();t.set_value(e+1)}},update:function(){Vt.prototype.update.call(this),this.isMagnetActivated&&Q.hero.visible&&(Q.hero.body.center.x<this.body.center.x?this.x-=400*zi.game.time.elapsedMS/1e3:this.x+=400*zi.game.time.elapsedMS/1e3,Q.hero.body.center.y+5<this.body.center.y?this.y-=400*zi.game.time.elapsedMS/1e3:Q.hero.body.center.y-5>this.body.center.y&&(this.y+=400*zi.game.time.elapsedMS/1e3))},__class__:$t});var qt=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_GemMagnetItem"]=qt,qt.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_GemMagnetItem"],qt.__interfaces__=[lt],qt.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:qt};var Zt=function(){Vt.call(this),this.set_active(!0),this._type=0,C.loadGraphicFromTexture(this,X.t,"magnetItem_.png"),this.animation.addByNames("1",["magnetItem_.png"],0),X.setScale(this)};e["com.drderico.towerd.game.items.GemMagnetItem"]=Zt,Zt.__name__=["com","drderico","towerd","game","items","GemMagnetItem"],Zt.get=function(t,e,i){var s=Zt.pool.get();return s.fixedToCamera=!1,s.reset_(zi.random.float(t,t+i-s.width),e),s.animation.play("1"),s.itemFx=bt.get(),s},Zt.__super__=Vt,Zt.prototype=s(Vt.prototype,{put:function(){Zt.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,t,Math.round(e)-Math.floor(this.height+20)),this._moveUp()},pickUp:function(){null!=this.itemFx&&(this.itemFx.fadeOut(),this.itemFx=null),this.createTrailFx();var t=pt.get();null!=t&&t.show(this.body.center.x,this.body.center.y,Q._fxUnderHero),Q.levels[J.curLevelIdx].gfx.remove(this,!1,!0),this.fixedToCamera=!0,this.cameraOffset.set(this.worldPosition.x,this.worldPosition.y),rs.tween(this.cameraOffset,{x:Nt.itemsHud.getEmptySlotX(0)-this.width/2,y:Nt.itemsHud.cameraOffset.y+this.height/2+26},.6,{onComplete:Ms(this,this._hideItem),ease:Phaser.Easing.Back.In},this),K.hud.flyingItems.add(this)},_hideItem:function(t){Nt.itemsHud.activateItem(0),K.hud.flyingItems.remove(this,!1,!0),this.kill(),null!=this.trailFx&&this.trailFx.stop()},killBonus:function(t){this.kill()},update:function(){if(Vt.prototype.update.call(this),null!=this.trailFx){if(!this.trailFx.alive)return void(this.trailFx=null);this.trailFx.setPos(this.cameraOffset.x+this.width/2,this.cameraOffset.y+this.height/2)}null!=this.itemFx&&this.itemFx.setPosition(this.x+12,this.y+15)},__class__:Zt});var te=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_GraveItem"]=te,te.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_GraveItem"],te.__interfaces__=[lt],te.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:te};var ee=function(){this.environmentValue=0,Vt.call(this),this.set_active(!0),this._type=8,C.loadGraphicFromTexture(this,X.t,"grave_blue.png"),X.setScale(this)};e["com.drderico.towerd.game.items.GraveItem"]=ee,ee.__name__=["com","drderico","towerd","game","items","GraveItem"],ee.get=function(t,e,i,s){var n=ee.pool.get();return n.frameName=ee.textures[s],n.reset_(zi.random.float(t,t+i-n.width),e),n.fixedToCamera=!1,n.environmentValue=s,n},ee.__super__=Vt,ee.prototype=s(Vt.prototype,{put:function(){ee.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,Math.round(t),e)},pickUp:function(){gt.get().show(this.body.center.x,this.body.center.y,this.environmentValue),this.y+=this.height,this.frameName=ee.texturesDestroyed[this.environmentValue],this.x+=1*ee.texturesDestroyedOffsetX[this.environmentValue],this.y-=this.height,o.remove(z.deathLevels,z.level.get_value()),j.tombExplosion(),oi.startDelay=0;for(var t=0,e=zi.random.int(2,6);t<e;){t++;oi.get().reset_(this.worldPosition.x+this.width/2+1*zi.random.int(-5,5),this.worldPosition.y+25+1*zi.random.int(-10,10)),oi.startDelay+=.1}},killBonus:function(t){this.kill()},__class__:ee});var ie=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_HealthItem"]=ie,ie.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_HealthItem"],ie.__interfaces__=[lt],ie.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ie};var se=function(){Vt.call(this),this.set_active(!0),this._type=2,C.loadGraphicFromTexture(this,X.t,"heartItem0001.png"),this.animation.addByNames("1",["heartItem0001.png","heartItem0002.png","heartItem0001.png","heartItem0001.png","heartItem0001.png"],16),X.setScale(this)};e["com.drderico.towerd.game.items.HealthItem"]=se,se.__name__=["com","drderico","towerd","game","items","HealthItem"],se.get=function(t,e,i){var s=se.pool.get();return s.reset_(zi.random.float(t,t+i-s.width),e),s.fixedToCamera=!1,s.animation.play("1"),s.itemFx=vt.get(),s},se.__super__=Vt,se.prototype=s(Vt.prototype,{put:function(){se.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,Math.round(t),Math.round(e)-Math.floor(this.height+20)),this._moveUp()},pickUp:function(){null!=this.itemFx&&(this.itemFx.fadeOut(),this.itemFx=null),this.createTrailFx(),j.powerup_pickup();var t=pt.get();null!=t&&t.show(this.body.center.x,this.body.center.y,Q._fxUnderHero),Q.levels[J.curLevelIdx].gfx.remove(this,!1,!0),this.fixedToCamera=!0,this.cameraOffset.set(this.worldPosition.x,this.worldPosition.y),rs.tween(this.cameraOffset,{x:Nt.livesHud.cameraOffset.x,y:Nt.livesHud.cameraOffset.y},.6,{onComplete:Ms(this,this._hideItem),ease:Phaser.Easing.Back.In},this),K.hud.flyingItems.add(this),J.addHealth(1,!1)},_hideItem:function(t){J.addHealth(0),K.hud.flyingItems.remove(this,!1,!0),this.kill(),null!=this.trailFx&&this.trailFx.stop()},killBonus:function(t){this.kill()},update:function(){if(Vt.prototype.update.call(this),null!=this.trailFx){if(!this.trailFx.alive)return void(this.trailFx=null);this.trailFx.setPos(this.cameraOffset.x+this.width/2,this.cameraOffset.y+this.height/2)}null!=this.itemFx&&this.itemFx.setPosition(this.x+13,this.y+13)},__class__:se});var ne=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_ShieldItem"]=ne,ne.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_ShieldItem"],ne.__interfaces__=[lt],ne.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ne};var oe=function(){Vt.call(this),this.set_active(!0),this._type=1,C.loadGraphicFromTexture(this,X.t,"shieldItem_0001.png"),this.animation.addByNames("1",["shieldItem_0001.png","shieldItem_0001.png","shieldItem_0001.png","shieldItem_0001.png","shieldItem_0002.png","shieldItem_0003.png","shieldItem_0004.png","shieldItem_0005.png"],8),X.setScale(this)};e["com.drderico.towerd.game.items.ShieldItem"]=oe,oe.__name__=["com","drderico","towerd","game","items","ShieldItem"],oe.get=function(t,e,i){var s=oe.pool.get();return s.reset_(zi.random.float(t,t+i-s.width),e),s.fixedToCamera=!1,s.animation.play("1"),s.itemFx=St.get(),s},oe.__super__=Vt,oe.prototype=s(Vt.prototype,{put:function(){oe.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,t,Math.round(e)-Math.floor(this.height+20)),this._moveUp()},pickUp:function(){null!=this.itemFx&&(this.itemFx.fadeOut(),this.itemFx=null),this.createTrailFx();var t=pt.get();null!=t&&t.show(this.body.center.x,this.body.center.y,Q._fxUnderHero),Q.levels[J.curLevelIdx].gfx.remove(this,!1,!0),this.fixedToCamera=!0,this.cameraOffset.set(this.worldPosition.x,this.worldPosition.y),rs.tween(this.cameraOffset,{x:Nt.itemsHud.getEmptySlotX(1)-this.width/2,y:Nt.itemsHud.cameraOffset.y+this.height/2+26},.6,{onComplete:Ms(this,this._hideItem),ease:Phaser.Easing.Back.In},this),K.hud.flyingItems.add(this)},_hideItem:function(t){Nt.itemsHud.activateItem(1),K.hud.flyingItems.remove(this,!1,!0),this.kill(),null!=this.trailFx&&this.trailFx.stop()},killBonus:function(t){this.kill()},update:function(){if(Vt.prototype.update.call(this),null!=this.trailFx){if(!this.trailFx.alive)return void(this.trailFx=null);this.trailFx.setPos(this.cameraOffset.x+this.width/2,this.cameraOffset.y+this.height/2)}null!=this.itemFx&&this.itemFx.setPosition(this.x+14,this.y+15)},__class__:oe});var re=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_items_kitty_Kitty"]=re,re.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_items_kitty_Kitty"],re.__interfaces__=[lt],re.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:re};var ae=function(){Vt.call(this),this.set_active(!0),this._type=6,C.loadGraphicFromTexture(this,X.t,"kitty1_body_anim_0001.png"),this.animation.addByNames("1",["kitty1_body_anim_0001.png","kitty1_body_anim_0002.png","kitty1_body_anim_0003.png","kitty1_body_anim_0004.png"],8),this.animation.addByNames("2",["kitty2_body_anim_0001.png","kitty2_body_anim_0002.png","kitty2_body_anim_0003.png","kitty2_body_anim_0004.png"],8),this.animation.addByNames("3",["kitty3_body_anim_0001.png","kitty3_body_anim_0002.png","kitty3_body_anim_0003.png","kitty3_body_anim_0004.png"],8),this.animation.addByNames("4",["kitty4_body_anim_0001.png","kitty4_body_anim_0002.png","kitty4_body_anim_0003.png","kitty4_body_anim_0004.png"],8),X.setScale(this),this.head=new le};e["com.drderico.towerd.game.items.kitty.Kitty"]=ae,ae.__name__=["com","drderico","towerd","game","items","kitty","Kitty"],ae.get=function(t,e,i){var s=ae.pool.get();return s.reset_(zi.random.float(t,t+i-s.width),e),s},ae.__super__=Vt,ae.prototype=s(Vt.prototype,{put:function(){ae.pool.put(this)},reset_:function(t,e){Vt.prototype.reset_.call(this,t,e),this.head.animName=zi.random.getObject_String(ae.t),this.animation.play(this.head.animName,!0),this.head.reset_(this.x+this.width/2-this.head.width/2-8|0,this.y-this.head.height+8|0),this._moveUp()},_moveUp:function(){this._tween=X.delay(zi.random.float(1,2),Ms(this,this.changeHeadAnim),null,this)},changeHeadAnim:function(t){this.head.changeHeadAngle(),this._moveUp(),this.inCamera&&(Ue.show(X.tongue.get("$MEOW"),Q._fx,this.head.world.x+30,this.head.world.y-6),j.meow())},pickUp:function(){j.get_kitty(),Ue.show("+250",Q._fx,this.head.world.x+this.head.body.width/2,this.head.world.y),J.addScore(250),xt.get().show(this.head.world.x+30,this.world.y-10,Q._fxUnderHero),this.kill(),this.head.kill()},killBonus:function(){this.kill(),this.head.kill()},__class__:ae});var le=function(){this.animName="",at.call(this),X.enableBody(this),this.set_moves(!1),this.set_immovable(!0),C.loadGraphicFromTexture(this,X.t,"kitty1_head_anim_0001.png"),this.animation.addByNames("lr1",["kitty1_head_anim_0002.png","kitty1_head_anim_0001.png","kitty1_head_anim_0003.png"],8,!1),this.animation.addByNames("rl1",["kitty1_head_anim_0003.png","kitty1_head_anim_0001.png","kitty1_head_anim_0002.png"],8,!1),this.animation.addByNames("lr2",["kitty2_head_anim_0002.png","kitty2_head_anim_0001.png","kitty2_head_anim_0003.png"],8,!1),this.animation.addByNames("rl2",["kitty2_head_anim_0003.png","kitty2_head_anim_0001.png","kitty2_head_anim_0002.png"],8,!1),this.animation.addByNames("lr3",["kitty3_head_anim_0002.png","kitty3_head_anim_0001.png","kitty3_head_anim_0003.png"],8,!1),this.animation.addByNames("rl3",["kitty3_head_anim_0003.png","kitty3_head_anim_0001.png","kitty3_head_anim_0002.png"],8,!1),this.animation.addByNames("lr4",["kitty4_head_anim_0002.png","kitty4_head_anim_0001.png","kitty4_head_anim_0003.png"],8,!1),this.animation.addByNames("rl4",["kitty4_head_anim_0003.png","kitty4_head_anim_0001.png","kitty4_head_anim_0002.png"],8,!1),X.setScale(this)};e["com.drderico.towerd.game.items.kitty.KittyHead"]=le,le.__name__=["com","drderico","towerd","game","items","kitty","KittyHead"],le.__super__=at,le.prototype=s(at.prototype,{destroy:function(t){},reset_:function(t,e){this.animation.play("rl"+this.animName),at.prototype.reset_.call(this,t,e)},changeHeadAngle:function(){this.animations.currentAnim.name=="lr"+this.animName?this.animation.play("rl"+this.animName):this.animation.play("lr"+this.animName)},__class__:le});var he=function(){};e["com.drderico.towerd.game.levelGen.LCV"]=he,he.__name__=["com","drderico","towerd","game","levelGen","LCV"];var ce=function(){};e["com.drderico.towerd.game.levelGen.LG"]=ce,ce.__name__=["com","drderico","towerd","game","levelGen","LG"],ce.create=function(){ce.levels=[],ce.levelSimple1=new de,ce.levelSimple2=new de,ce.levelSimple3=new de,ce.levelTall=new ue,ce.levels[0]=ce.levelSimple1,ce.levels[1]=ce.levelSimple2,ce.levels[2]=ce.levelSimple3;for(var t=0,e=H.MAX_ENV_AMOUNT;t<e;){var i=t++;ce.envShuffle[i]=i}ce.curLevelEnv=z.envSetting.get_value(),ce.shuffleEnvValues()},ce.createLevel=function(t,e,i){if(null==i&&(i=!1),null==e&&(e=!1),null==t&&(t=!1),!t&&ce.get_prevLevel()==ce.levelTall&&!i)return ce.curLevelNum--,void ce.goToNextLevel();var s=ce.curLevelNum<10||ce.simpleLevelsCnt<6||tt.active||t||zi.random.float(0,100)<60;ce.curLevelNum>=10&&ce.simpleLevelsCnt>=8&&!e&&!t&&(s=!1),tt.active&&t&&zi.game.rnd.sow([8]),i||(s?(ce.levels[0]=ce.levelSimple1,ce.levels[1]=ce.levelSimple2,ce.levels[2]=ce.levelSimple3,ce.simpleLevelsCnt++):(ce.levels[0]=ce.levelSimple1,ce.levels[1]=ce.levelSimple2,ce.levels[2]=ce.levelSimple3,ce.levels[ce.curLevelIdx]=ce.levelTall,ce.simpleLevelsCnt=0)),e||t?ce.get_curLevel().generate(null,t,e):ce.get_curLevel().generate(ce.get_prevLevel(),t,e),ce.setLevelGfxHeight(),ce.get_prevLevel()==ce.levelTall&&(ce.curLevelIdx--,-1==ce.curLevelIdx&&(ce.curLevelIdx=2)),i||ce.goToNextLevel()},ce.setLevelGfxHeight=function(){var t=16*(ce.get_curLevel().H+6);ce.get_curLevel().gfxHeight=Math.floor(t)},ce.shuffleEnvValues=function(){for(;zi.random.shuffle_Int(ce.envShuffle),ce.envShuffleIdx=ce.envShuffle.indexOf(ce.curLevelEnv),ce.envShuffleIdx==ce.envShuffle.length-1;);},ce.goToNextLevel=function(){ce.curLevelNum++,ce.curLevelIdx++,ce.curLevelIdx=ce.curLevelIdx%3,ce.curLevelNum%25+1==25&&(ce.envShuffleIdx++,ce.envShuffleIdx==H.MAX_ENV_AMOUNT&&(ce.curLevelEnv=ce.envShuffle[0],ce.shuffleEnvValues()),ce.curLevelEnv=ce.envShuffle[ce.envShuffleIdx])},ce.get_prevLevel=function(){return ce.curLevelIdx<0?null:0==ce.curLevelIdx?ce.levels[2]:ce.levels[ce.curLevelIdx-1]},ce.get_curLevel=function(){return ce.levels[ce.curLevelIdx]},ce.get_nextLevel=function(){return 2==ce.curLevelIdx?ce.levels[0]:ce.levels[ce.curLevelIdx+1]};var _e=function(){this.isWide=!1,this.myEnvValue=0,this.levelHasBlocks=!1,this.lookId=0,this.futureXBoundMax=0,this.futureXBoundMin=0,this.futureXtiled=0,this.Xtiled=0,this.hasLiquid=!1,this.type=0,this.fireBallOrFlyingEnemyLevel=!1,this.pits=[],this.gems=[],this.coins=[],this.ceilPits=[],this.floorParts=[],this.canPlaceItemsParts=[],this.collisions=[],this.ceilParts=[],this.grid=[],this.platforms=[],this.walls=[],this.prevLevelSaws=[],this.prevLevelPits=[]};e["com.drderico.towerd.game.levelGen.Level"]=_e,_e.__name__=["com","drderico","towerd","game","levelGen","Level"],_e.prototype={createGridArray:function(){for(var t=0,e=this.H;t<e;){var i=t++;null==this.grid[i]&&(this.grid[i]=[]);for(var s=0,n=this.W;s<n;){var o=s++;this.grid[i][o]=0}}},clear:function(){this.recycleBeforeRegeneration(),this.canPlaceItemsParts.length=0,this.floorParts.length=0,this.pits.length=0,this.ceilPits.length=0,this.gems.length=0,this.coins.length=0,this.ceilParts.length=0,this.platforms.length=0,this.walls.length=0,this.collisions.length=0,this.goal=null,this.item=null},recycleBeforeRegeneration:function(){for(var t=0,e=this.floorParts;t<e.length;){var i=e[t];++t,i.put()}for(var s=0,n=this.ceilParts;s<n.length;){var o=n[s];++s,o.put()}null!=this.ladder&&(this.ladder.put(),this.ladder=null);for(var r=0,a=this.pits;r<a.length;){var l=a[r];++r,l.put()}for(var h=0,c=this.ceilPits;h<c.length;){var _=c[h];++h,_.put()}for(var u=0,d=this.gems;u<d.length;){var p=d[u];++u,p.put()}for(var g=0,f=this.coins;g<f.length;){var m=f[g];++g,m.put()}for(var v=0,y=this.walls;v<y.length;){var x=y[v];++v,x._inPool||(x._inPool=!0,x._weak=!1,is._pool.putUnsafe(x))}for(var w=0,b=this.collisions;w<b.length;){var T=b[w];++w,T.put()}null!=this.goal&&this.goal.put(),null!=this.item&&this.item.put()},setX:function(){this.Xtiled=this.futureXtiled,this.X=16*this.Xtiled|0},makeCollisions:function(t,e,i,s){null==s&&(s=!0),null==i&&(i=273);for(var n=0,o=0,r=1==this.grid[t][0],a=0,l=this.W+1;a<l;){var h=a++;if(r)if(h!=this.W&&1==this.grid[t][h])++n;else{0!=o&&++n;var c=di.get();c.isFloor=!0,c.canPlaceLadder=s,c.x=o,c.width=n,c.height=1,c.y=t,c.type=-1,c.allowCollisions=i,e.push(c),o=h,r=!1,n=0}else 1!=this.grid[t][h]?++o:(++o,r=!0)}},createGrid:function(){},drawOnGrid:function(t,e,i,s,n){null==n&&(n=1);for(var o=e,r=e+s;o<r;)for(var a=o++,l=t,h=t+i;l<h;){var c=l++;this.grid[a][c]=n}},getFloorY:function(){return this.H-4-1},afterWork:function(){},createWalls:function(){},drawCeil:function(){for(var t=0,e=this.ceilPits;t<e.length;){var i=e[t];++t,6==i.type?(this.drawOnGrid(i.x,i.y,i.width,i.height,-1),this.drawOnGrid(i.x,i.y+i.height,i.width,1),this.drawOnGrid(i.x,i.y,1,i.height),this.drawOnGrid(i.x+i.width-1,i.y,1,i.height)):(this.drawOnGrid(i.x,i.y-i.height,i.width,i.height+1,0),this.drawOnGrid(i.x-1,i.y-i.height,1,i.height),this.drawOnGrid(i.x+i.width,i.y-i.height,1,i.height),this.drawOnGrid(i.x-1,i.y-i.height-1,i.width+2,1))}},drawFloor:function(t){null==t&&(t=!0);for(var e=0,i=this.pits;e<i.length;){var s=i[e];switch(++e,s.type){case 0:this.drawOnGrid(s.x,s.y,s.width,s.height,0),this.drawOnGrid(s.x,s.y+1,s.width,s.height-1,4);break;case 1:this.drawOnGrid(s.x,s.y,s.width,s.height,0),this.drawOnGrid(s.x,s.y+1,s.width,s.height-1,3);break;case 2:this.drawOnGrid(s.x,s.y,s.width,s.height,0),this.drawOnGrid(s.x,s.y+s.height-1,s.width,1,2);break;case 3:this.drawOnGrid(s.x,s.y-1,s.width,1,2);break;case 6:this.drawOnGrid(s.x,s.y-s.height,s.width,s.height+1,-1),this.drawOnGrid(s.x,s.y-s.height,s.width,1),this.drawOnGrid(s.x,s.y-s.height,1,s.height+1),this.drawOnGrid(s.x+s.width-1,s.y-s.height,1,s.height+1);break;case 12:this.drawOnGrid(s.x,s.y,s.width,s.height,0)}di.isPit(s)&&(this.drawOnGrid(s.x-1,s.y+1,1,s.height),this.drawOnGrid(s.x+s.width,s.y+1,1,s.height),this.drawOnGrid(s.x,s.y+s.height,s.width,1))}},generate:function(t,e,i){if(null==i&&(i=!1),this.myEnvValue=ce.curLevelEnv,this.prevLevel=t,this.chestFloorPart=null,this.prevLevelSaws.length=0,this.prevLevelPits.length=0,null!=t)for(var s=0,n=this.prevLevel.pits;s<n.length;){var o=n[s];++s,5==o.type&&o.y<=this.getFloorY()-3&&this.prevLevelSaws.push(o),this.prevLevelPits.push(o)}},getCeilY:function(){return 3},placeItems:function(t){if(null==t&&(t=-1),(z.level.get_value()+1)%3==0||-1!=t){he.itemId=t,he.placeItemsPartsArray.length=0,-1==he.itemId&&(z.heroLives.get_value()==z.heroLivesMax.get_value()?he.itemId=$.getNewItemType(2):he.itemId=$.getNewItemType());for(var e=0,i=this.canPlaceItemsParts;e<i.length;){var s=i[e];++e,s!=this.ladderFloorPart&&s!=this.chestFloorPart&&he.placeItemsPartsArray.push(s)}for(var n=0,o=this.pits;n<o.length;){var r=o[n];if(++n,r!=this.chestFloorPart&&6==r.type){for(var a=!0,l=0,h=this.pits;l<h.length;){var c=h[l];if(++l,c!=r&&3==c.type&&c.x==r.x){a=!1;break}}a&&he.placeItemsPartsArray.push(r)}}0!=he.placeItemsPartsArray.length&&(he.itemPart=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(he.placeItemsPartsArray),this.item=di.get(),this.item.type=11,this.item.itemType=he.itemId,this.item.x=he.itemPart.x+1,this.item.width=he.itemPart.width-2,this.item.y=he.itemPart.y,6==he.itemPart.type&&(this.item.y-=he.itemPart.height))}},placeEnemies:function(){for(var t=this.fireBallOrFlyingEnemyLevel,e=this.fireBallOrFlyingEnemyLevel,i=[],s=!1,n=[],r=!1,a=0,l=this.pits;a<l.length;){var h=l[a];++a,6==h.type&&(r=!0,n.push(h))}r||(t=!1);var c=di.get();c.x=0,c.width=0,n.push(c),(c=di.get()).x=this.W,c.width=0,n.push(c);for(var _=[],u=0,d=this.canPlaceItemsParts;u<d.length;){var p=d[u];if(++u,p!=this.ladderFloorPart&&p!=this.chestFloorPart&&p!=he.itemPart)for(var g=0;g<n.length;){var f=n[g];if(++g,f.x==p.x+p.width||p.x==f.x+f.width){if(p.x==f.x+f.width)for(var m=0,v=this.pits;m<v.length;){var y=v[m];if(++m,(di.isPit(y)||6==y.type)&&(y.x==p.x+p.width||p.x+p.width==this.W)){s=!0,6==y.type&&y.hasSaw&&(s=!1),s&&p.width>=1&&_.push(p);break}}else for(var x=0,w=this.pits;x<w.length;){var b=w[x];if(++x,(di.isPit(b)||6==b.type)&&(0==p.x||p.x==b.x+b.width)){s=!0,6==b.type&&b.hasSaw&&(s=!1),s&&p.width>=1&&_.push(p);break}}break}}}if(this.isWide)for(var T=0;T<n.length;){var S=n[T];++T,S!=this.ladderFloorPart&&S!=this.chestFloorPart&&S!=he.itemPart&&(S.width>8&&!S.hasSaw&&!S.hasSpikes&&_.push(S))}if(0==_.length)!1;else for(var I=0,k=this.isWide?2:1;I<k;){I++;if(0==_.length)break;var F=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(_),P=di.get();P.x=F.x,P.width=F.width,6==F.type?P.y=F.y-F.height:P.y=F.y,P.type=8,i.push(P),o.remove(_,F)}if(t){for(var C=0,E=this.pits;C<E.length;){var B=E[C];if(++C,5==B.type&&this.getFloorY()-B.y>=5){t=!1,e=!1;break}}if(t){var L=di.get();L.x=0,L.width=this.W,L.y=this.getFloorY()-zi.random.int(5,6),L.type=9,i.push(L)}}if(e){var A=di.get();A.x=0,A.width=this.W,A.y=this.getFloorY()-zi.random.int(5,7),A.type=10,i.push(A)}if(0!=i.length){var O=null;if(i.length>=2&&zi.random.float(0,100)<30&&(O=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(i),o.remove(i,O),this.pits.push(O)),O=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(i),o.remove(i,O),this.pits.push(O),i.length>0)for(var M=0;M<i.length;){var G=i[M];++M,G.put()}i.length=0}},placeHero:function(){for(var t=[],e=0,i=this.canPlaceItemsParts;e<i.length;){var s=i[e];++e,s!=this.chestFloorPart&&t.push(s)}for(var n=t[0],o=n.width,r=0;r<t.length;){var a=t[r];++r,a.width>o&&(n=a,o=a.width)}this.heroX=n.x+n.width/2|0,this.heroFace=this.heroX>=this.W-this.heroX?1:16},placeGems:function(t,e,i){if(null==i&&(i=4),null==e&&(e=3),null==t&&(t=0),he.gem=null,he.prevGemX=2147483647,0==t&&(t=zi.random.int(0,2)),t>0){he.parts.length=0;for(var s=0,n=this.pits;s<n.length;){var r=n[s];++s,r!=this.chestFloorPart&&r!=this.ladderFloorPart&&(5==r.type||r.hasSaw||he.parts.push(r))}for(var a=0,l=this.canPlaceItemsParts;a<l.length;){var h=l[a];++a,h!=this.chestFloorPart&&h!=this.ladderFloorPart&&he.parts.push(h)}for(he.parts.length<t&&(t=he.parts.length);0!=t&&0!=he.parts.length;){var c=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(he.parts);if(c.isFloor){for(he.gem=di.get(),he.tries=5;he.gem.x=zi.random.int(16*c.x,16*(c.x+c.width-2)),!(Math.abs(he.gem.x-he.prevGemX)>=60);)if(he.tries--,0==he.tries){he.gem.put(),he.gem=null;break}if(null!=he.gem){var _=c.y-zi.random.int(e,i);he.gem.y=16*_,this.gems.push(he.gem),--t}}else if(6==c.type){for(he.gem=di.get(),he.tries=5;he.gem.x=zi.random.int(16*c.x,16*(c.x+c.width-2)),!(Math.abs(he.gem.x-he.prevGemX)>60);)if(he.tries--,0==he.tries){he.gem.put(),he.gem=null;break}if(null!=he.gem){he.gem.x<16?he.gem.x=16:he.gem.x>16*(this.W-1)&&(he.gem.x=16*(this.W-2));var u=16*(c.y-c.height-zi.random.int(e,i))|0;he.gem.y=u,this.gems.push(he.gem),--t}}else{he.gem=di.get(),he.gem.x=16*(c.x+c.width/2)|0;var d=c.y-zi.random.int(e,i);he.gem.y=16*d,this.gems.push(he.gem),--t}null!=he.gem&&(he.gem.x+=4,he.prevGemX=he.gem.x),o.remove(he.parts,c)}}},placeCoins:function(t){null==t&&(t=0),he.coin=null,he.coinsPerPlatform=0,he.parts.length=0;for(var e=0,i=this.canPlaceItemsParts;e<i.length;){var s=i[e];++e,s!=this.chestFloorPart&&s!=this.ladderFloorPart&&he.parts.push(s)}for(var n=0,o=he.parts;n<o.length;){var r=o[n];if(++n,he.coinsPerPlatform=0==t?zi.random.int(1,5):t,he.coinsPerPlatform>0){he.maxCoins=(16*r.width/24|0)-1;var a=he.coinsPerPlatform,l=he.maxCoins;he.coinsPerPlatform=a>l?l:a,he.deltaX=(16*r.width-24)/he.coinsPerPlatform;for(var h=0,c=he.coinsPerPlatform;h<c;){var _=h++;zi.random.float(0,100)<70&&(he.coin=di.get(),he.coin.x=16*r.x+he.deltaX/2+_*he.deltaX|0,r.isFloor||6!=r.type?he.coin.y=16*r.y:he.coin.y=16*(r.y-r.height),this.coins.push(he.coin))}}}he.coin=null},createCeilPits:function(){if(!(this.ceilParts.length<2))for(he.blockChance=50,this.fireBallOrFlyingEnemyLevel||this.levelHasBlocks||(he.blockChance=80);;){for(var t=0,e=this.ceilParts.length-1;t<e;){var i=t++;if(he.p1=this.ceilParts[i],he.p2=this.ceilParts[i+1],he.p2.y==he.p1.y){var s;he.pit=di.get(),he.pit.x=he.p1.x+he.p1.width,he.pit.y=he.p1.y,he.pit.width=he.p2.x-(he.p1.x+he.p1.width),he.pit.type=0;var n=he.blockChance;s=zi.random.float(0,100)<n?0:zi.random.int(1,2),he.pit.height=s,this.ceilPits.push(he.pit),0==he.pit.height&&(he.pit.type=6,this.fireBallOrFlyingEnemyLevel||this.levelHasBlocks||0!=this.type?he.pit.height=zi.random.int(1,1):he.pit.height=zi.random.int(1,4))}}if(this.ceilPits.length>0)break}},createCeil:function(t,e,i){for(null==i&&(i=-1),null==e&&(e=-1),null==t&&(t=0),he.prevPlatfMadeLong=!1,he.wallGapsNum=0,he.startX=t,he.floorWidth=e,-1==e&&(he.floorWidth=this.W),-1==i&&(i=3),he.prevFloor=null;he.floorWidth>0;){if(he.partWidth=zi.random.int(4,12),he.partWidth>he.floorWidth){if(he.floorWidth<8){he.prevFloor.width+=he.floorWidth;break}he.partWidth=he.floorWidth}if(he.prevPlatfMadeLong=!1,null!=he.prevFloor&&he.startX==he.prevFloor.x+he.prevFloor.width&&(he.prevFloor.width+=he.partWidth,he.prevPlatfMadeLong=!0),he.prevPlatfMadeLong||(he.prevFloor=di.get(),he.prevFloor.x=he.startX,he.prevFloor.y=i,he.prevFloor.width=he.partWidth,he.prevFloor.height=1,he.prevFloor.isFloor=!0,this.ceilParts.push(he.prevFloor)),he.startX+=he.partWidth,he.floorWidth-=he.partWidth,he.gapWidth=zi.random.int(3,12),he.gapWidth>he.floorWidth-8){he.prevFloor.width+=he.floorWidth;break}he.floorWidth-=he.gapWidth,he.startX+=he.gapWidth}},placeGoal:function(){if(null==this.goal){if(this.goal=di.get(),tt.active){var t=this.getFloorY();return this.goal.y=16*t,void(this.goal.x=16*(this.W-6))}if(he.placed=!1,zi.random.float(0,100)<50)for(var e=0,i=this.pits;e<i.length;){var s=i[e];if(++e,6==s.type&&0==this.grid[s.y-s.height-1][s.x])return he.placed=!0,this.goal.x=zi.random.int(16*s.x+4|0,16*(s.x+s.width-3)),this.goal.y=16*(s.y-s.height),void(this.chestFloorPart=s)}if(!he.placed){if(he.maxP=null,he.maxDist=0,he.placeX=0,this.canPlaceItemsParts.length>1&&zi.random.float(0,100)<50){for(;he.maxP=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(this.canPlaceItemsParts),he.maxP==this.ladderFloorPart;);he.placeX=zi.random.int(16*he.maxP.x+4|0,16*(he.maxP.x+he.maxP.width-3))}else for(var n=0,o=this.canPlaceItemsParts;n<o.length;){var r=o[n];++n,Math.abs(r.x-this.ladder.x)>he.maxDist&&(he.maxP=r,he.maxDist=Math.abs(r.x-this.ladder.x),he.placeX=r.x),Math.abs(r.x+r.width-this.ladder.x)>he.maxDist&&(he.maxP=r,he.maxDist=Math.abs(r.x+r.width-this.ladder.x),he.placeX=r.x+r.width-3)}he.placeX=zi.random.float(16*he.maxP.x+4,16*(he.maxP.x+he.maxP.width-3)),he.placeX=Math.min(16*(this.W-3),he.placeX),this.goal.x=0|he.placeX,this.goal.y=16*he.maxP.y,this.chestFloorPart=he.maxP,he.maxP=null}}},createFloorPits:function(t,e){if(null==e&&(e=!1),null==t&&(t=!1),!(this.floorParts.length<2)){this.levelHasBlocks=!1,he.prevPitH=0;for(var i=0,s=this.floorParts.length-1;i<s;){var n=i++;if(he.p1=this.floorParts[n],he.p2=this.floorParts[n+1],he.p2.y==he.p1.y&&he.p2.x-(he.p1.x+he.p1.width)>=4){if(he.pit=di.get(),he.pit.x=he.p1.x+he.p1.width,he.pit.y=he.p1.y,he.pit.width=he.p2.x-(he.p1.x+he.p1.width),this.fireBallOrFlyingEnemyLevel)he.pit.height=0;else if(he.pit.width>8)he.pit.height=0;else{var o=zi.random.float(0,100)<50?0:zi.random.int(2,4);he.pit.height=o}if(this.pits.push(he.pit),0==he.pit.height)switch(this.drawOnGrid(he.pit.x,he.pit.y,he.pit.width,1),he.pitContentArray.length=0,this.fireBallOrFlyingEnemyLevel||(e||he.pitContentArray.push(3),he.pitContentArray.push(5)),t||he.pitContentArray.push(6),he.pit.width>8?he.pit.type=6:he.pit.type=zi.random.getObject_Int(he.pitContentArray),he.pit.type){case 3:var r=zi.random.int(2,6),a=he.pit.width;he.pit.width=r>a?a:r;break;case 5:he.pit.y-=t&&!e?3:3+(zi.random.float(0,100)<50?zi.random.int(2,5):0);break;case 6:for(this.levelHasBlocks=!0;he.pit.height=zi.random.int(1,3),he.pit.height==he.prevPitH;);if(he.prevPitH=he.pit.height,he.spikesPlaced=!1,he.pit.height<=2&&he.pit.width<=4&&(he.pit.hasSpikes=!0,he.pit1=di.get(),he.pit1.type=3,he.pit1.x=he.pit.x,he.pit1.y=he.pit.y-he.pit.height,he.pit1.width=he.pit.width,this.pits.push(he.pit1),he.spikesPlaced=!0),he.pit.height>=3&&zi.random.float(0,100)<50){he.pit.hasSaw=!0,he.pit1=di.get(),he.pit1.type=5,he.pit1.x=zi.random.int(he.pit.x-1,he.pit.x+he.pit.width);var l=he.pit.y-he.pit.height-zi.random.int(4,5);he.pit1.y=l-3,this.pits.push(he.pit1)}3!=ce.curLevelEnv&&!he.spikesPlaced&&!he.pit.hasSaw&&ce.curLevelNum>=15&&zi.random.float(0,100)<30&&(he.pit.hasSaw=!0,he.pit1=di.get(),he.pit1.type=13,he.pit1.x=he.pit.x,he.pit1.y=he.pit.y-he.pit.height,he.pit1.width=he.pit.width,this.pits.push(he.pit1))}else this.setPitContent(he.pit)}}}},placeLadder:function(t){he.tries=0;var e=0,i=!1,s=null!=this.prevLevel;for(this.futureXtiled=0,null!=this.prevLevel&&0==this.prevLevel.type&&0==this.type&&3!=this.prevLevel.lookId&&3!=this.lookId&&(s=!1,this.futureXtiled=this.prevLevel.Xtiled);;)if(this.ladderFloorPart=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(t),this.ladderFloorPart.canPlaceLadder&&!(this.ladderFloorPart.width<6)){s&&(this.futureXBoundMax=this.prevLevel.Xtiled+this.prevLevel.W-this.ladderFloorPart.x-this.ladderFloorPart.width,this.futureXBoundMin=this.prevLevel.Xtiled-this.ladderFloorPart.x,this.futureXtiled=zi.random.int(this.futureXBoundMin,this.futureXBoundMax)),e=this.futureXtiled+zi.random.int(this.ladderFloorPart.x+2,this.ladderFloorPart.x+this.ladderFloorPart.width-2-2),i=!1;for(var n=0,o=this.prevLevelSaws;n<o.length;){var r=o[n];if(++n,!(e>=this.prevLevel.Xtiled+r.x+3||e+2<this.prevLevel.Xtiled+r.x)){i=!0;break}}for(var a=0,l=this.pits;a<l.length;){var h=l[a];if(++a,5==h.type&&h.y==this.getFloorY()-3||3==h.type){if(this.futureXtiled+h.x>=e+2+2||this.futureXtiled+h.x+h.width+2<=e-2)continue;i=!0;break}}if(!i){if(this.ladder=di.get(),this.ladder.x=e,this.ladder.y=this.getFloorY(),this.ladder.height=0,null!=this.prevLevel)if(1==this.prevLevel.type&&0==this.prevLevel.lookId)this.ladder.height=-2;else for(var c=0,_=this.prevLevelPits;c<_.length;){var u=_[c];if(++c,6==u.type&&!u.hasSaw&&!u.hasSpikes&&this.ladder.x+2>=this.prevLevel.Xtiled+u.x-4&&this.ladder.x<this.prevLevel.Xtiled+u.x+u.width+4){var d=!0;if(this.ladder.x==u.x+1&&4==u.width&&(d=!1),d){var p=this.ladder.height,g=u.height;this.ladder.height=p>g?p:g}}}break}if(he.tries++,5==he.tries)return!1}return this.ladder.x-=this.futureXtiled,!0},createFloors:function(t,e,i,s){for(null==s&&(s=!0),null==i&&(i=-1),null==e&&(e=-1),null==t&&(t=0),-1==e&&(e=this.W),-1==i&&(i=this.getFloorY()),he.gapChance=50,this.isWide&&(he.gapChance=100),he.tries=5,he.parts.length=0;;){for(he.prevPlatfMadeLong=!1,he.wallGapsNum=0,he.startX=t,he.floorWidth=e,he.prevFloor=null;he.floorWidth>0;){if(he.partWidth=zi.random.int(8,12),he.partWidth>he.floorWidth){if(he.floorWidth<8){he.prevFloor.width+=he.floorWidth;break}he.partWidth=he.floorWidth}he.prevPlatfMadeLong=!1,null!=he.prevFloor&&he.startX==he.prevFloor.x+he.prevFloor.width&&(he.prevFloor.width+=he.partWidth,he.prevPlatfMadeLong=!0),he.prevPlatfMadeLong||(he.prevFloor=di.get(),he.prevFloor.x=he.startX,he.prevFloor.y=i,he.prevFloor.width=he.partWidth,he.prevFloor.height=1,he.prevFloor.allowCollisions=273,he.prevFloor.isFloor=!0,he.prevFloor.type=-1,he.parts.push(he.prevFloor)),he.startX+=he.partWidth,he.floorWidth-=he.partWidth;var n=he.gapChance;if(zi.random.float(0,100)<n){if(this.isWide&&zi.random.float(0,100)<70?he.gapWidth=zi.random.int(8,16):he.gapWidth=zi.random.int(4,8),4>he.floorWidth-8){he.prevFloor.width+=he.floorWidth;break}he.gapWidth>he.floorWidth-8&&(he.gapWidth=4),he.floorWidth-=he.gapWidth,he.startX+=he.gapWidth}}if(!(he.tries>=0&&he.parts.length<3||he.parts.length<2))break;for(var o=0,r=he.parts;o<r.length;){var a=r[o];++o,a.put()}he.parts.length=0,he.tries--}for(var l=0,h=he.parts;l<h.length;){var c=h[l];++l,this.floorParts.push(c),he.placeItemPart=di.get(),he.placeItemPart.x=c.x,he.placeItemPart.y=c.y,he.placeItemPart.width=c.width,he.placeItemPart.type=c.type,he.placeItemPart.canPlaceLadder=s,this.canPlaceItemsParts.push(he.placeItemPart)}he.placeItemPart=null},placeGraves:function(){if(-1!=z.deathLevels.indexOf(ce.curLevelNum)){he.placeItemsPartsArray.length=0;for(var t=0,e=this.canPlaceItemsParts;t<e.length;){var i=e[t];++t,i!=this.ladderFloorPart&&i!=this.chestFloorPart&&he.placeItemsPartsArray.push(i)}for(var s=0,n=this.pits;s<n.length;){var o=n[s];++s,o==this.chestFloorPart||6!=o.type&&3!=o.type||he.placeItemsPartsArray.push(o)}0!=he.placeItemsPartsArray.length&&(he.itemPart=zi.random.getObject_com_drderico_towerd_game_stuff_LgObject(he.placeItemsPartsArray),this.item=di.get(),this.item.type=11,this.item.itemType=8,this.item.x=he.itemPart.x+1,this.item.width=he.itemPart.width-2,this.item.y=he.itemPart.y,6==he.itemPart.type&&(this.item.y-=he.itemPart.height))}},setPitContent:function(t){zi.random.float(0,100)<50?t.type=2:4==this.myEnvValue?t.type=12:t.type=zi.random.float(0,100)<50?0:1},__class__:_e};var ue=function(){this.prevLookId=-1,_e.call(this),this.type=1};e["com.drderico.towerd.game.levelGen.LevelComplex"]=ue,ue.__name__=["com","drderico","towerd","game","levelGen","LevelComplex"],ue.__super__=_e,ue.prototype=s(_e.prototype,{generate:function(t,e,i){for(null==i&&(i=!1),_e.prototype.generate.call(this,t,e,i),this.fireBallOrFlyingEnemyLevel=!1;this.clear(),this.gen1(),2==this.lookId?(this.createCeil(),this.isMirrorLevel?this.createFloors(0,this.W-18,this.getFloorY()-15,!1):this.createFloors(18,this.W-18,this.getFloorY()-15,!1),this.createCeilPits(),this.createFloorPits(!0)):3==this.lookId?(this.createCeil(),this.isMirrorLevel?(this.createCeil(0,this.W-15,this.getFloorY()-9),this.createCeil(16,this.W-16,this.getFloorY()-9-19),this.createFloors(0,this.W-15),this.createFloors(0,this.W-15,this.getFloorY()-19,!1),this.createFloors(16,this.W-15,this.getFloorY()-19-19,!1)):(this.createCeil(16,this.W-15,this.getFloorY()-9),this.createCeil(0,this.W-16,this.getFloorY()-9-19),this.createFloors(16,this.W-15),this.createFloors(16,this.W-15,this.getFloorY()-19,!1),this.createFloors(0,this.W-15,this.getFloorY()-19-19,!1)),this.createCeilPits(),this.createFloorPits(!0)):4!=this.lookId&&5!=this.lookId||(this.createCeil(),this.createFloors(0,this.W),this.createCeilPits(),4==this.lookId&&this.createFloorPits(!0)),this.gen2(),!this.placeLadder(null););this.setX(),3==this.lookId?this.placeCoins(1):this.placeCoins(),this.placeGems(0,1,1),2==this.lookId?this.placeItems(6):this.placeItems(),ce.goToNextLevel(),ce.createLevel(!1,!1,!0)},gen1:function(){for(this.isMirrorLevel=zi.random.float(0,100)<50;this.lookId=zi.random.int(0,5),this.lookId==this.prevLookId;);switch(this.prevLookId=this.lookId,this.lookId){case 0:this.W=22,this.H=46;break;case 1:this.W=30,this.H=46;break;case 2:this.W=48,this.H=35;break;case 3:this.W=48,this.H=58;break;case 4:this.W=38,this.H=46;break;case 5:this.W=42,this.H=60}switch(this.createGridArray(),this.lookId){case 2:for(var t=this.H-20,e=this.H;t<e;)for(var i=t++,s=this.W-30,n=this.W;s<n;){var o=s++,r=this.isMirrorLevel?this.W-1-o:o;this.grid[i][r]=-1}this.drawOnGrid(this.isMirrorLevel?0:18,this.getFloorY()-15,this.W-18,1),this.drawOnGrid(this.isMirrorLevel?this.W-18:0,this.getFloorY(),18,1);break;case 3:this.isMirrorLevel?(this.drawOnGrid(0,this.getFloorY()-19,this.W-15,11,-1),this.drawOnGrid(15,this.getFloorY()-19-19,this.W-15,11,-1),this.drawOnGrid(0,this.getFloorY()-9,this.W-15,1),this.drawOnGrid(15,this.getFloorY()-9-19,this.W-15,1),this.drawOnGrid(0,this.getFloorY()-19,this.W-15,1),this.drawOnGrid(15,this.getFloorY()-19-19,this.W-15,1)):(this.drawOnGrid(15,this.getFloorY()-19,this.W-15,11,-1),this.drawOnGrid(0,this.getFloorY()-19-19,this.W-15,11,-1),this.drawOnGrid(15,this.getFloorY()-9,this.W-15,1),this.drawOnGrid(0,this.getFloorY()-9-19,this.W-15,1),this.drawOnGrid(15,this.getFloorY()-19,this.W-15,1),this.drawOnGrid(0,this.getFloorY()-19-19,this.W-15,1))}},gen2:function(){if(this.createGrid(),0==this.lookId)zi.random.float(0,100)<50?(this.addPlatform(0,this.getFloorY()-5,8,2),this.addPlatform(this.W-8,this.getFloorY()-10,8,2),this.addPlatform(0,this.getFloorY()-15,8,2),this.addPlatform(this.W-8,this.getFloorY()-20,8,2)):(this.addPlatform(this.W-8,this.getFloorY()-5,8,2),this.addPlatform(0,this.getFloorY()-10,8,2),this.addPlatform(this.W-8,this.getFloorY()-15,8,2),this.addPlatform(0,this.getFloorY()-20,8,2)),this.addPlatform(6,this.getFloorY()-25,12,2);else if(1==this.lookId)zi.random.float(0,100)<50?(this.addPlatform(0,this.getFloorY()-5,8,2),this.addPlatform(10,this.getFloorY()-10,8,2),this.addPlatform(this.W-8,this.getFloorY()-15,8,2),this.addPlatform(10,this.getFloorY()-20,8,2),this.addPlatform(0,this.getFloorY()-25,8,2),this.addPlatform(10,this.getFloorY()-30,8,2)):(this.addPlatform(this.W-8,this.getFloorY()-5,8,2),this.addPlatform(10,this.getFloorY()-10,8,2),this.addPlatform(0,this.getFloorY()-15,8,2),this.addPlatform(10,this.getFloorY()-20,8,2),this.addPlatform(this.W-8,this.getFloorY()-25,8,2),this.addPlatform(10,this.getFloorY()-30,8,2));else if(2==this.lookId){this.addPlatform(this.isMirrorLevel?this.W-18:10,this.getFloorY()-5,8,2),this.addPlatform(this.isMirrorLevel?this.W-8:0,this.getFloorY()-10,8,2),this.addPlatform(this.isMirrorLevel?this.W-18:10,this.getFloorY()-15,8,2),this.makeCollisions(this.getFloorY()-15,this.floorParts,256,!1),this.makeCollisions(this.getFloorY(),this.floorParts,256),this.drawOnGrid(this.isMirrorLevel?this.W-1-18:18,this.getFloorY()-15,1,16);var t=di.get();t.isFloor=!1,t.isWall=!0,t.x=this.isMirrorLevel?this.W-1-18:18,t.width=1,t.height=15,t.y=this.getFloorY()-15,t.type=6,t.allowCollisions=4369,this.collisions.push(t)}else if(3==this.lookId)if(this.isMirrorLevel){this.addPlatform(this.W-6,this.getFloorY()-5,6,2),this.addPlatform(this.W-6-9,this.getFloorY()-10,6,2),this.addPlatform(this.W-6,this.getFloorY()-15,6,2),this.addPlatform(this.W-6-9,this.getFloorY()-19,6,2),this.addPlatform(0,this.getFloorY()-5-19,6,2),this.addPlatform(9,this.getFloorY()-10-19,6,2),this.addPlatform(0,this.getFloorY()-15-19,6,2),this.addPlatform(9,this.getFloorY()-19-19,6,2),this.drawOnGrid(this.W-16,this.getFloorY()-19,1,11),this.drawOnGrid(15,this.getFloorY()-19-19,1,11);var e=di.get();e.isFloor=!1,e.isWall=!0,e.x=this.W-16,e.width=1,e.height=7,e.y=this.getFloorY()-19,e.type=6,e.allowCollisions=4369,this.collisions.push(e);var i=di.get();i.isFloor=!1,i.isWall=!0,i.x=15,i.width=1,i.height=7,i.y=this.getFloorY()-19-19,i.type=6,i.allowCollisions=4369,this.collisions.push(i)}else{this.addPlatform(0,this.getFloorY()-5,6,2),this.addPlatform(9,this.getFloorY()-10,6,2),this.addPlatform(0,this.getFloorY()-15,6,2),this.addPlatform(9,this.getFloorY()-19,6,2),this.addPlatform(this.W-6,this.getFloorY()-5-19,6,2),this.addPlatform(this.W-6-9,this.getFloorY()-10-19,6,2),this.addPlatform(this.W-6,this.getFloorY()-15-19,6,2),this.addPlatform(this.W-6-9,this.getFloorY()-19-19,6,2),this.drawOnGrid(15,this.getFloorY()-19,1,11),this.drawOnGrid(this.W-16,this.getFloorY()-19-19,1,11);var s=di.get();s.isFloor=!1,s.isWall=!0,s.x=15,s.width=1,s.height=7,s.y=this.getFloorY()-19,s.type=6,s.allowCollisions=4369,this.collisions.push(s);var n=di.get();n.isFloor=!1,n.isWall=!0,n.x=this.W-16,n.width=1,n.height=7,n.y=this.getFloorY()-19-19,n.type=6,n.allowCollisions=4369,this.collisions.push(n)}else if(4==this.lookId)this.addPlatform(0,this.getFloorY()-5,6,2),this.addPlatform(11,this.getFloorY()-10,5,2),this.addPlatform(this.W-6-10,this.getFloorY()-10,5,2),this.addPlatform(this.W-6,this.getFloorY()-5,6,2),this.addPlatform(16,this.getFloorY()-15,6,2),this.addPlatform(0,this.getFloorY()-15,8,2),this.addPlatform(this.W-8,this.getFloorY()-15,8,2),this.addPlatform(6,this.getFloorY()-20,6,2),this.addPlatform(this.W-6-6,this.getFloorY()-20,6,2),this.addPlatform(11,this.getFloorY()-25,16,2),this.addPlatform(3,this.getFloorY()-30,6,2),this.addPlatform(this.W-3-6,this.getFloorY()-30,6,2);else if(5==this.lookId)if(this.isMirrorLevel){this.addPlatform(36,this.getFloorY()-5,6,2),this.addPlatform(24,this.getFloorY()-10,6,2),this.addPlatform(12,this.getFloorY()-15,6,2),this.addPlatform(0,this.getFloorY()-20,6,2),this.addPlatform(12,this.getFloorY()-25,6,2),this.addPlatform(24,this.getFloorY()-30,6,2),this.addPlatform(36,this.getFloorY()-35,6,2),this.addPlatform(0,this.getFloorY()-40,this.W-12,2),this.addPlatform(this.W-16,this.getFloorY()-20,16,2,!1);var o=di.get();o.type=3,o.x=this.W-16,o.y=this.getFloorY()-20,o.height=1,o.width=16,this.pits.push(o),this.drawOnGrid(o.x,o.y-1,o.width,1,2)}else{this.addPlatform(0,this.getFloorY()-5,6,2),this.addPlatform(12,this.getFloorY()-10,6,2),this.addPlatform(24,this.getFloorY()-15,6,2),this.addPlatform(36,this.getFloorY()-20,6,2),this.addPlatform(24,this.getFloorY()-25,6,2),this.addPlatform(12,this.getFloorY()-30,6,2),this.addPlatform(0,this.getFloorY()-35,6,2),this.addPlatform(12,this.getFloorY()-40,this.W-12,2),this.addPlatform(0,this.getFloorY()-20,16,2,!1);var r=di.get();r.type=3,r.x=0,r.y=this.getFloorY()-20,r.height=1,r.width=16,this.pits.push(r),this.drawOnGrid(r.x,r.y-1,r.width,1,2)}},addPlatform:function(t,e,i,s,n){null==n&&(n=!0),this.drawOnGrid(t,e,i,s);var o=di.get();o.isFloor=!0,o.x=t,o.width=i,o.height=s,o.y=e,o.allowCollisions=256,o.type=-1,o.canPlaceLadder=!1,this.platforms.push(o),n&&this.canPlaceItemsParts.push(o)},createGrid:function(){if(this.drawOnGrid(0,this.getFloorY()+1,this.W,4,-1),2!=this.lookId&&this.drawOnGrid(0,this.getFloorY(),this.W,1),2!=this.lookId&&3!=this.lookId&&4!=this.lookId&&5!=this.lookId||this.drawFloor(),this.drawOnGrid(0,0,this.W,3,-1),this.drawOnGrid(0,3,this.W,1),2!=this.lookId&&3!=this.lookId&&4!=this.lookId&&5!=this.lookId||this.drawCeil(),2!=this.lookId){for(var t=0,e=this.floorParts;t<e.length;){var i=e[t];++t,i.put()}this.floorParts.length=0,this.makeCollisions(this.getFloorY(),this.floorParts),3==this.lookId&&(this.makeCollisions(this.getFloorY()-19,this.floorParts),this.makeCollisions(this.getFloorY()-19-19,this.floorParts))}this.createWalls()},afterWork:function(){},createWalls:function(){if(0==this.lookId||1==this.lookId||4==this.lookId||5==this.lookId){var t=this.walls,e=this.H-3-4,i=is._pool.get();i.setTo(-1,3,1,e),i._inPool=!1,t.push(i);var s=this.walls,n=this.W,o=this.H-3-4,r=is._pool.get();r.setTo(n,3,1,o),r._inPool=!1,s.push(r)}else if(2==this.lookId)if(this.isMirrorLevel){var a=this.walls,l=this.W,h=this.H-3-4,c=is._pool.get();c.setTo(l,3,1,h),c._inPool=!1,a.push(c);var _=this.walls,u=this.H-15-3-4,d=is._pool.get();d.setTo(-1,3,1,u),d._inPool=!1,_.push(d)}else{var p=this.walls,g=this.H-3-4,f=is._pool.get();f.setTo(-1,3,1,g),f._inPool=!1,p.push(f);var m=this.walls,v=this.W,y=this.H-15-3-4,x=is._pool.get();x.setTo(v,3,1,y),x._inPool=!1,m.push(x)}else if(3==this.lookId)if(this.isMirrorLevel){var w=this.walls,b=this.W,T=this.H-3-4-19-19,S=is._pool.get();S.setTo(b,3,1,T),S._inPool=!1,w.push(S);var I=this.walls,k=this.H-3-4-19,F=is._pool.get();F.setTo(-1,3,1,k),F._inPool=!1,I.push(F);var P=this.walls,C=this.W,E=this.getFloorY()-19-9,B=is._pool.get();B.setTo(C,E,1,29),B._inPool=!1,P.push(B);var L=this.walls,A=this.getFloorY()-9,O=is._pool.get();O.setTo(-1,A,1,10),O._inPool=!1,L.push(O)}else{var M=this.walls,G=this.H-3-4-19-19,H=is._pool.get();H.setTo(-1,3,1,G),H._inPool=!1,M.push(H);var D=this.walls,N=this.W,R=this.H-3-4-19,W=is._pool.get();W.setTo(N,3,1,R),W._inPool=!1,D.push(W);var U=this.walls,X=this.getFloorY()-19-9,Y=is._pool.get();Y.setTo(-1,X,1,29),Y._inPool=!1,U.push(Y);var V=this.walls,K=this.W,z=this.getFloorY()-9,j=is._pool.get();j.setTo(K,z,1,10),j._inPool=!1,V.push(j)}},placeLadder:function(t){if(1==this.lookId||2==this.lookId||0==this.lookId){for(var e=[],i=0,s=this.floorParts;i<s.length;){var n=s[i];++i,n.y==this.getFloorY()&&n.canPlaceLadder&&e.push(n)}return _e.prototype.placeLadder.call(this,e)}return _e.prototype.placeLadder.call(this,this.canPlaceItemsParts)},__class__:ue});var de=function(){_e.call(this),this.H=22,this.type=0,this.Xtiled=0};e["com.drderico.towerd.game.levelGen.LevelSimple"]=de,de.__name__=["com","drderico","towerd","game","levelGen","LevelSimple"],de.__super__=_e,de.prototype=s(_e.prototype,{generate:function(t,e,i){for(null==i&&(i=!1),_e.prototype.generate.call(this,t,e,i),e&&(this.lookId=0);;){for(;;){if(!e&&ce.curLevelNum>10&&zi.random.float(0,100)<40&&null!=t&&1!=t.lookId&&2!=t.lookId&&3!=t.lookId){for(de.newLook=0;de.newLook=zi.random.int(1,2),de.prevComplexLook==de.newLook;);this.lookId=de.newLook,de.prevComplexLook=de.newLook}else this.lookId=0;if(3==this.lookId?(this.W=48+zi.random.int(10,48),this.isWide=!0):(this.W=48,this.isWide=!1),this.needToRegenarate=!1,this.createGridArray(),this.clear(),this.fireBallOrFlyingEnemyLevel=0==this.lookId&&zi.random.float(0,100)<50,this.createFloors(),!this.needToRegenarate){e&&tt.active&&!i||(2!=this.lookId?this.createFloorPits(1==this.lookId,e||i):this.createFloorPits2());break}}if(this.createCeil(),this.createCeilPits(),this.createGrid(),this.placeLadder(this.canPlaceItemsParts))break}this.setX(),this.placeGoal(),this.placeGems(),e&&tt.active||(e||this.placeItems(),0!=this.lookId&&3!=this.lookId||e||this.placeEnemies()),this.placeGraves(),e&&this.placeHero()},createFloorPits2:function(){var t=di.get();t.x=1,t.y=this.getFloorY(),t.width=this.W-2,this.setPitContent(t),t.height=4,this.pits.push(t)},createGrid:function(){if(this.drawOnGrid(0,this.getFloorY(),this.W,5,-1),2!=this.lookId&&this.drawOnGrid(0,this.getFloorY(),this.W,1),this.drawFloor(2!=this.lookId),2==this.lookId)for(var t=0,e=this.floorParts;t<e.length;){var i=e[t];++t,this.drawOnGrid(i.x,i.y,i.width,2)}this.drawOnGrid(0,0,this.W,3,-1),this.drawOnGrid(0,3,this.W,1),this.drawCeil();for(var s=0,n=this.floorParts;s<n.length;){var o=n[s];++s,o.put()}this.floorParts.length=0,this.makeCollisions(this.getFloorY(),this.floorParts),this.createWalls()},createWalls:function(){var t=this.walls,e=this.H-3-4,i=is._pool.get();i.setTo(-1,3,1,e),i._inPool=!1,t.push(i);var s=this.walls,n=this.W,o=this.H-3-4,r=is._pool.get();r.setTo(n,3,1,o),r._inPool=!1,s.push(r)},createFloors:function(t,e,i,s){switch(null==s&&(s=!0),null==i&&(i=-1),null==e&&(e=-1),null==t&&(t=0),this.lookId){case 0:_e.prototype.createFloors.call(this,t,e,i,s);break;case 1:this.createFloorsHardLevel(t,e,i,s);break;case 2:this.createFloorsHardLevel(t,e,-1,s);break;case 3:_e.prototype.createFloors.call(this,t,e,i,s)}},createFloorsHardLevel:function(t,e,i,s){for(null==s&&(s=!0),null==i&&(i=-1),null==e&&(e=-1),null==t&&(t=0),-1==e&&(e=this.W),-1==i&&(i=this.getFloorY()),he.parts.length=0;;){for(he.prevPlatfMadeLong=!1,he.wallGapsNum=0,he.startX=t,he.floorWidth=e,he.prevFloor=null;he.floorWidth>0;){if(2==this.lookId?he.partWidth=zi.random.int(5,6):he.partWidth=zi.random.int(6,8),he.partWidth>he.floorWidth){if(he.floorWidth<6){he.prevFloor.width+=he.floorWidth;break}he.partWidth=he.floorWidth}if(he.prevPlatfMadeLong=!1,null!=he.prevFloor&&he.startX==he.prevFloor.x+he.prevFloor.width&&(he.prevFloor.width+=he.partWidth,he.prevPlatfMadeLong=!0),he.prevPlatfMadeLong||(he.prevFloor=di.get(),he.prevFloor.x=he.startX,he.prevFloor.y=i,he.prevFloor.width=he.partWidth,he.prevFloor.height=1,he.prevFloor.allowCollisions=273,he.prevFloor.isFloor=!0,he.prevFloor.type=-1,he.parts.push(he.prevFloor)),he.startX+=he.partWidth,he.floorWidth-=he.partWidth,2==this.lookId?he.gapWidth=zi.random.int(6,8):he.gapWidth=zi.random.int(4,6),4>he.floorWidth-6){he.prevFloor.width+=he.floorWidth;break}he.gapWidth>he.floorWidth-6&&(he.gapWidth=4),he.floorWidth-=he.gapWidth,he.startX+=he.gapWidth}break}for(var n=0,o=he.parts;n<o.length;){var r=o[n];++n,this.floorParts.push(r),2==this.lookId&&this.platforms.push(r),he.placeItemPart=di.get(),he.placeItemPart.x=r.x,he.placeItemPart.y=r.y,he.placeItemPart.width=r.width,he.placeItemPart.type=r.type,he.placeItemPart.canPlaceLadder=s,this.canPlaceItemsParts.push(he.placeItemPart)}he.placeItemPart=null},__class__:de});var pe=function(){this.initScaleY=0,this.initScaleX=0,this.animName="",this.diedFromHero=!1,this.hurtable=!0,this.canHurtHero=!0,at.call(this),X.enableBody(this),this.set_moves(!1),this.set_immovable(!0),this.body.allowRotation=!1,this.score=50};e["com.drderico.towerd.game.npcs.NPC"]=pe,pe.__name__=["com","drderico","towerd","game","npcs","NPC"],pe.__interfaces__=[Z],pe.__super__=at,pe.prototype=s(at.prototype,{destroy:function(t){this.deactivateTrigger(),this.set_moves(!1),this.healthBar=null,X.cancelTween(this._tween),X.cancelTween(this._tweenNotHurtHero),X.cancelTween(this._tween2),X.cancelTween(this._tween3),this._tween=null,this._tween2=null,this._tween3=null,this._tweenNotHurtHero=null},onTriggerHurted:function(){},deactivateTrigger:function(){this.disableBody()},onTriggerTouched:function(){Q.hero.onLadder||(this.hurtable&&Q.hero.body.bottom<=this.body.y+this.body.height/2&&Q.hero.body.velocity.y>=0?this.damage(1):this.canHurtHero&&J.hurtHero(this._type),this.canHurtHero=!1,this._tweenNotHurtHero=X.delay(.2,Ms(this,this._allowHurtHero),null,this))},_allowHurtHero:function(t){this.canHurtHero=!0,this._tweenNotHurtHero=null},damage:function(t){if(this.health-=t,Q.hero.bounceUp(.7),this.health<=0){j.npcDie(),this.diedFromHero=!0,this.kill(),ut.show(this.body.center.x,this.body.center.y,Q._fx),J.addScore(this.score),24==z.ach_killed_npcs.get_value()?O.unlock("CgkI_f7-8JsKEAIQDQ"):49==z.ach_killed_npcs.get_value()?O.unlock("CgkI_f7-8JsKEAIQDg"):74==z.ach_killed_npcs.get_value()?O.unlock("CgkI_f7-8JsKEAIQDw"):99==z.ach_killed_npcs.get_value()&&O.unlock("CgkI_f7-8JsKEAIQEA");var e=z.ach_killed_npcs,i=e.get_value();e.set_value(i+1)}else this.onHurtFromHero();return this},onHurtFromHero:function(){},createHeathBar:function(t,e){this.healthBar=Ne.get(this,t,e)},kill:function(){return at.prototype.kill.call(this),this.diedFromHero&&null!=this.healthBar&&this.healthBar.kill(),this},onTouched:function(){this.onTriggerTouched()},__class__:pe});var ge=function(t,e,i){null==i&&(i=!0),null==e&&(e=!0),this.speed=0,this.needToFlip=!0,pe.call(this),this.set_moves(!1),this.speed=1*t,this.needToFlip=e,this.hurtable=i,this.type=8,this.animName="1"};e["com.drderico.towerd.game.npcs.MovingNpc"]=ge,ge.__name__=["com","drderico","towerd","game","npcs","MovingNpc"],ge.__super__=pe,ge.prototype=s(pe.prototype,{put:function(){},place:function(t,e,i){X.setScale(this,1,!0),this.dir=zi.random.float(0,100)<50?1:16,this.needToFlip&&this.set_flipX(1==this.dir),t+=this.offsetX*this.scale.x,this.startX=0|t,this.endX=Math.floor(t+i-Math.abs(this.width)),this.animation.play(this.animName,!0),this.reset_(zi.random.int(this.startX+5,this.endX-5),Math.round(e-this.height)+this.offsetY),this.angle=0,this.set_moves(!1),this.diedFromHero=!1,this.body.velocity.set(0,0),this.body.gravity.set(0,0),this.enableBody(),this.health=1,this.createTrigger(),this.startMove(),this.initScaleX=this.scale.x,this.initScaleY=this.scale.y},startMove:function(){1==this.dir?(this._tween=rs.tween(this,{x:this.startX},Math.abs(this.x-this.startX)/this.speed,{onComplete:Ms(this,this.onStartXCompleted)},this),this.needToFlip&&this.set_flipX(!1)):(this._tween=rs.tween(this,{x:this.endX},Math.abs(this.x-this.endX)/this.speed,{onComplete:Ms(this,this.onEndXCompleted)},this),this.needToFlip&&this.set_flipX(!0))},onEndXCompleted:function(t){this.dir=1,this.startMove()},onStartXCompleted:function(t){this.dir=16,this.startMove()},createTrigger:function(){this.body.setSize(Math.abs(this.width)-6|0,0|this.height,3,0)},kill:function(){return pe.prototype.kill.call(this),this.put(),this},__class__:ge});var fe=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_FireBallNpc"]=fe,fe.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_FireBallNpc"],fe.__interfaces__=[lt],fe.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:fe};var me=function(){this.explOffset=0,this.envValue=0,ge.call(this,400,!1,!1),C.loadGraphicFromTexture(this,X.t,"fireBall_0001.png"),this.animation.addByNames("1",["fireBall_0001.png","fireBall_0002.png"],8),this.animation.addByNames("3",["fireBall_green0001.png","fireBall_green0002.png"],8),this.animation.addByNames("2",["fireBall_ice.png"],0),X.setScale(this,null,!0),this.cannon=new Le};e["com.drderico.towerd.game.npcs.FireBallNpc"]=me,me.__name__=["com","drderico","towerd","game","npcs","FireBallNpc"],me.get=function(t){var e=me.pool.get();return e.envValue=t,e},me.__super__=ge,me.prototype=s(ge.prototype,{place:function(t,e,i){switch(t+=16,this.dir=zi.random.float(0,100)<50?1:16,this.cannon.setView(this.envValue),1==this.dir?(this.startX=t+i-24|0,this.endX=t-12|0,this.set_flipX(!1),this.cannon.reset_(Math.round(this.startX-17),e-this.cannon.height/2-this.offsetY-5|0),this.cannon.set_flipX(!1)):(this.startX=t-16|0,this.endX=t+i-16|0,this.set_flipX(!0),this.cannon.reset_(Math.round(t+9),e-this.cannon.height/2-this.offsetY-5|0),this.cannon.set_flipX(!0)),this.speed=0|zi.random.float(400,600),this.reset_(this.startX,e-this.height/2|0),this.envValue){case 2:this.animation.play("3",!0),this.explOffset=1==this.dir?34:-34;break;case 3:this.animation.play("2",!0),this.explOffset=1==this.dir?24:-34;break;default:this.animation.play("1",!0),this.explOffset=1==this.dir?40:-36}this.body.setSize(Math.abs(this.width)-6|0,0|this.height,-Math.abs(this.offsetX),0),this.startMove()},startMove:function(){X.cancelTween(this._tween),this.x=this.startX,this.visible=!0,this.enableBody(),this._tween=rs.tween(this,{x:this.endX},Math.abs(this.x-this.endX)/this.speed,{onComplete:Ms(this,this.onEndXCompleted)},this),this.inCamera&&j.fireball_spawn()},onEndXCompleted:function(t){this.showExplosion(this.explOffset),this.startMove()},onStartXCompleted:function(t){},put:function(){me.pool.put(this)},onTriggerTouched:function(){J.hurtHero(this._type),this.showExplosion(),this.visible=!1,this.disableBody(),this.x=this.startX,X.cancelTween(this._tween),this._tween=X.delay(1,Ms(this,this.startMove_),null,this),j.hero_hurt_by_fireball()},showExplosion:function(t){null==t&&(t=0),ct.show(t+(1==this.dir?this.body.x-this.body.width/2:this.body.x+38),this.body.y+this.height,Q._fx,this.animations.currentAnim.name)},startMove_:function(t){this.startMove()},__class__:me});var ve=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_FireBeam"]=ve,ve.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_FireBeam"],ve.__interfaces__=[lt],ve.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ve};var ye=function(){this.state=0,this.touchedTimer=0,this.delayBetweenShows=0,at.call(this),X.enableBody(this),C.loadGraphicFromTexture(this,X.t,"firebeam0001.png"),this.animation.addByNames("1",["firebeam0001.png","firebeam0002.png","firebeam0003.png","firebeam0004.png","firebeam0005.png","firebeam0006.png","firebeam0003.png","firebeam0004.png","firebeam0005.png","firebeam0006.png","firebeam0003.png","firebeam0004.png","firebeam0005.png","firebeam0006.png","firebeam0002.png","firebeam0001.png"],16,!1),this.animation.addByNames("2",["firebeam0001.png","firebeam0002.png","firebeam0003.png","firebeam0004.png","firebeam0005.png","firebeam0006.png","firebeam0003.png","firebeam0004.png","firebeam0005.png","firebeam0006.png","firebeam0002.png","firebeam0001.png"],16,!1),this.animations.getAnimation("1").onComplete.add(Ms(this,this.onAnimationFinished)),this.animations.getAnimation("2").onComplete.add(Ms(this,this.onAnimationFinished)),this.set_moves(!1),this.set_immovable(!0),X.setScale(this)};e["com.drderico.towerd.game.npcs.FireBeam"]=ye,ye.__name__=["com","drderico","towerd","game","npcs","FireBeam"],ye.__interfaces__=[Z],ye.get=function(){return ye.pool.get()},ye.__super__=at,ye.prototype=s(at.prototype,{onAnimationFinished:function(t){this.hide()},place:function(t,e,i){this.reset(0|zi.random.float(t,t+i-Math.abs(this.width)),Math.round(e)-110),this.blendMode=PIXI.blendModes.ADD,this.hide(),this.delayBetweenShows=zi.random.float(1.5,2.5),this.touchedTimer=0,this.createTrigger()},createTrigger:function(){this.body.setSize(Math.abs(this.width)/2|0,0|this.height,10,6)},hide:function(){this.state=1,this.touchedTimer=this.delayBetweenShows,this.visible=!1,this.disableBody()},kill:function(){return at.prototype.kill.call(this),this.put(),this},put:function(){ye.pool.put(this)},destroy:function(t){},update:function(){1==this.state&&this.downTimer(zi.game.time.elapsedMS/1e3)&&(this.visible=!0,this.enableBody(),this.state=0,this.touchedTimer=.5,this.animation.play(zi.random.float(0,100)<50?"1":"2",!0)),at.prototype.update.call(this)},onTriggerTouched:function(){Q.hero.onLadder||1!=this.state&&J.hurtHero(13)},onTriggerHurted:function(){},onTouched:function(){this.onTriggerTouched()},downTimer:function(t){return this.touchedTimer-=t,this.touchedTimer<=0},forceShow:function(){this.touchedTimer=0,this.state=1},__class__:ye});var xe=function(t,e,i){this.speedX=0,ge.call(this,t,e,i)};e["com.drderico.towerd.game.npcs.MovingNpcOnFloor"]=xe,xe.__name__=["com","drderico","towerd","game","npcs","MovingNpcOnFloor"],xe.__super__=ge,xe.prototype=s(ge.prototype,{kill:function(){return this.diedFromHero?(this.centerOrigin(),X.cancelTween(this._tween),X.cancelTween(this._tween2),X.cancelTween(this._tween3),this.x=this.world.x,this.y=this.world.y,Ue.show("+"+h.string(this.score),Q._fx,this.x+this.body.width/2,this.y),Q.levels[J.curLevelIdx].enemies.remove(this,!1,!0),Q._fx.add(this,!0),this.set_moves(!0),this.body.gravity.y=1600,this.body.velocity.y=-600,this.speedX=1*zi.random.int(-50,50),this.body.velocity.x=this.speedX,this.set_flipX(this.speedX>0),rs.tween(this,{angle:this.speedX<0?-720:720},1,{type:2},null),rs.tween(this.scale,{x:2*this.scale.x,y:2*this.scale.y},1,null,null),this.animations.stop(),null!=this.healthBar&&this.healthBar.kill()):this.get_moves()||ge.prototype.kill.call(this),this},update:function(){this.get_moves()&&(this.body.velocity.x=this.speedX),ge.prototype.update.call(this),this.get_moves()&&!this.inCamera&&(Q._fx.remove(this,!1,!0),ge.prototype.kill.call(this))},onHurtFromHero:function(){j.hero_hurt_by_fireball(),this._tween.pause(),this.initScaleX=this.scale.x,this._tween2=rs.tween(this.scale,{y:.6*this.initScaleY,x:1.2*this.initScaleX},.06,{onComplete:Ms(this,this._onHurtFromHero)},this),this.animations.paused=!0,ut.show(this.x+this.width/2,this.y,Q._fx),Ue.show("+15",Q._fx,this.x+this.width/2,this.y+this.height/2),J.addScore(15)},_onHurtFromHero:function(t){this._tween2=rs.tween(this.scale,{y:this.initScaleY,x:this.initScaleX},.06,{onComplete:Ms(this,this._onHurtFromHero2)},this)},_onHurtFromHero2:function(t){this._tween2=X.delay(1,Ms(this,this._onHurtFromHero3),null,this)},_onHurtFromHero3:function(t){this.centerOrigin(),this._tween.resume(),this.animations.paused=!1},__class__:xe});var we=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_FlyingNpc"]=we,we.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_FlyingNpc"],we.__interfaces__=[lt],we.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:we};var be=function(){xe.call(this,100),C.loadGraphicFromTexture(this,X.t,"bat_0001.png"),this.animation.addByNames("1",["bat_0001.png","bat_0002.png","bat_0003.png","bat_0002.png"],10),this.animation.addByNames("2",["bat2_0001.png","bat2_0002.png","bat2_0003.png","bat2_0002.png"],10),this.animation.addByNames("3",["bat3_0001.png","bat3_0002.png","bat3_0003.png","bat3_0002.png"],10),this.animation.addByNames("4",["bat4_0001.png","bat4_0002.png","bat4_0003.png","bat4_0002.png"],10),X.setScale(this,1,!0),this.score=1e3};e["com.drderico.towerd.game.npcs.FlyingNpc"]=be,be.__name__=["com","drderico","towerd","game","npcs","FlyingNpc"],be.get=function(){return be.pool.get()},be.__super__=xe,be.prototype=s(xe.prototype,{place:function(t,e,i){this.animName=zi.random.getObject_String(be.t),X.setScale(this,1,!0),xe.prototype.place.call(this,t,e,i),this._tween2=rs.tween(this,{y:this.y-24},zi.random.float(.5,.8),{type:5},null)},createTrigger:function(){this.body.setSize(Math.abs(this.width)-6|0,this.height-12|0,3,9)},kill:function(){return xe.prototype.kill.call(this),this.diedFromHero&&X.cancelTween(this._tween2),this},destroy:function(t){xe.prototype.destroy.call(this),X.cancelTween(this._tween2),this._tween2=null},put:function(){be.pool.put(this)},__class__:be});var Te=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_Npc1"]=Te,Te.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_Npc1"],Te.__interfaces__=[lt],Te.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Te};var Se=function(){xe.call(this,40),C.loadGraphicFromTexture(this,X.t,"enemy1_0001.png"),this.animation.addByNames("1",["enemy1_0001.png","enemy1_0002.png"],4),this.animation.addByNames("2",["enemy1_1_0001.png","enemy1_1_0002.png"],4),this.animation.addByNames("3",["enemy1_2_0001.png","enemy1_2_0002.png"],4),X.setScale(this,null,!0)};e["com.drderico.towerd.game.npcs.Npc1"]=Se,Se.__name__=["com","drderico","towerd","game","npcs","Npc1"],Se.get=function(){return Se.pool.get()},Se.__super__=xe,Se.prototype=s(xe.prototype,{createTrigger:function(){this.body.setSize(Math.abs(this.width)-10|0,0|this.height,5,2==Se.view?14:0)},place:function(t,e,i){for(;Se.view=ce.curLevelNum>=15&&zi.random.float(0,100)<25?2:zi.random.int(0,1),Se.view==Se.prevView;);Se.prevView=Se.view,this.animName=Se.t[Se.view],2==Se.view?this.score=500:this.score=50,xe.prototype.place.call(this,t,e,i)},put:function(){Se.pool.put(this)},__class__:Se});var Ie=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_Npc2"]=Ie,Ie.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_Npc2"],Ie.__interfaces__=[lt],Ie.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Ie};var ke=function(){xe.call(this,40),C.loadGraphicFromTexture(this,X.t,"enemy2_0001.png"),this.animation.addByNames("1",["enemy2_0001.png","enemy2_0002.png"],4),this.animation.addByNames("2",["enemy2_2_0001.png","enemy2_2_0002.png"],4),this.animation.addByNames("3",["enemy2_1_0001.png","enemy2_1_0002.png"],4),X.setScale(this,null,!0)};e["com.drderico.towerd.game.npcs.Npc2"]=ke,ke.__name__=["com","drderico","towerd","game","npcs","Npc2"],ke.get=function(){return ke.pool.get()},ke.__super__=xe,ke.prototype=s(xe.prototype,{place:function(t,e,i){for(;ke.view=ce.curLevelNum>=15&&zi.random.float(0,100)<25?2:zi.random.int(0,1),ke.view==ke.prevView;);ke.prevView=ke.view,this.animName=ke.t[ke.view],2==ke.view?this.score=500:this.score=50,xe.prototype.place.call(this,t,e+1,i)},put:function(){ke.pool.put(this)},createTrigger:function(){this.body.setSize(Math.abs(this.width)-10|0,0|(2==ke.view?this.height-23:this.height),5,2==ke.view?23:0)},__class__:ke});var Fe=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_Npc3"]=Fe,Fe.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_Npc3"],Fe.__interfaces__=[lt],Fe.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Fe};var Pe=function(){xe.call(this,60),C.loadGraphicFromTexture(this,X.t,"enemy3_0001.png"),this.animation.addByNames("1",["enemy3_0001.png","enemy3_0002.png"],4),this.animation.addByNames("2",["enemy3_1_0001.png","enemy3_1_0002.png"],4),this.animation.addByNames("3",["enemy3_3_0001.png","enemy3_3_0002.png"],4),this.animation.addByNames("4",["enemy3_2_0001.png","enemy3_2_0002.png"],4),X.setScale(this,null,!0)};e["com.drderico.towerd.game.npcs.Npc3"]=Pe,Pe.__name__=["com","drderico","towerd","game","npcs","Npc3"],Pe.get=function(){return Pe.pool.get()},Pe.__super__=xe,Pe.prototype=s(xe.prototype,{createTrigger:function(){this.body.setSize(0|(3==Pe.view?Math.abs(this.width)-16:Math.abs(this.width)-8),0|(3==Pe.view?this.height-15:this.height),this.flipX?Pe.offX1:Pe.offX2,Pe.offY)},place:function(t,e,i){for(;Pe.view=ce.curLevelNum>=15&&zi.random.float(0,100)<25?3:zi.random.int(0,2),Pe.view==Pe.prevView;);Pe.prevView=Pe.view,this.animName=Pe.t[Pe.view],3==Pe.view?(this.score=500,Pe.offY=15,Pe.offX1=5,Pe.offX2=10):(this.score=50,Pe.offY=2,Pe.offX1=5,Pe.offX2=5),xe.prototype.place.call(this,t,e,i),this._tween3=rs.tween(this,{y:this.y-10},zi.random.float(.8,1.2),{type:5},null)},put:function(){Pe.pool.put(this)},__class__:Pe});var Ce=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_npcs_Npc4"]=Ce,Ce.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_npcs_Npc4"],Ce.__interfaces__=[lt],Ce.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Ce};var Ee=function(){xe.call(this,20),C.loadGraphicFromTexture(this,X.t,"snail0001.png"),this.animation.addByNames("1",["snail0001.png","snail0002.png"],4),this.animation.addByNames("2",["snail2_0001.png","snail2_0002.png"],4),this.animation.addByNames("3",["snail3_0001.png","snail3_0002.png"],4),X.setScale(this,null,!0)};e["com.drderico.towerd.game.npcs.Npc4"]=Ee,Ee.__name__=["com","drderico","towerd","game","npcs","Npc4"],Ee.get=function(){return Ee.pool.get()},Ee.__super__=xe,Ee.prototype=s(xe.prototype,{place:function(t,e,i){for(;Ee.view=zi.random.int(0,2),Ee.view==Ee.prevView;);Ee.prevView=Ee.view,this.animName=Ee.t[Ee.view],xe.prototype.place.call(this,t,e,i)},put:function(){Ee.pool.put(this)},__class__:Ee});var Be=function(){};e["com.drderico.towerd.game.other.AcidTouchListener"]=Be,Be.__name__=["com","drderico","towerd","game","other","AcidTouchListener"],Be.__interfaces__=[Z],Be.getInstance=function(){return null==Be.instance&&(Be.instance=new Be),Be.instance},Be.prototype={onTriggerTouched:function(){Q.onPitAcidTriggerTouched()},onTriggerHurted:function(){},__class__:Be};var Le=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"fireCannon_green.png"),X.setScale(this),this.set_active(!1)};e["com.drderico.towerd.game.other.CannonForFireball"]=Le,Le.__name__=["com","drderico","towerd","game","other","CannonForFireball"],Le.__super__=at,Le.prototype=s(at.prototype,{setView:function(t){switch(t){case 0:this.frameName="fireCannon_red.png";break;case 1:this.frameName="fireCannon_blue.png";break;case 2:this.frameName="fireCannon_green.png";break;case 3:this.frameName="fireCannon_ice.png";break;case 4:this.frameName="fireCannon_hell.png"}},destroy:function(t){},__class__:Le});var Ae=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_other_CollideBlock"]=Ae,Ae.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_other_CollideBlock"],Ae.__interfaces__=[lt],Ae.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Ae};var Oe=function(){this.isFloor=!1,this.isWall=!1,rt.call(this),X.enableBody(this),this.set_immovable(!0),this.set_moves(!1),this.renderable=!1,this.body.allowGravity=!1,this.body.allowRotation=!1};e["com.drderico.towerd.game.other.CollideBlock"]=Oe,Oe.__name__=["com","drderico","towerd","game","other","CollideBlock"],Oe.get=function(t,e,i,s,n){null==n&&(n=4369),null==s&&(s=1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0);var o=Oe.pool.get();return o.exists=!0,o.alive=!0,o.reset(0|t,0|e),o.isWall=!1,o.isFloor=!1,o.body.setSize(i,s),o.body.position.set(0|t,0|e),o.set_allowCollisions(n),o},Oe.__super__=rt,Oe.prototype=s(rt.prototype,{kill:function(){return Oe.pool.put(this),this},destroy:function(t){},setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.body.x=t,this.body.y=e,this.body.prev.set(t,e)},__class__:Oe});var Me=function(){V.call(this),this.fixedToCamera=!0,this.set_active(!1),this.bg=new at,this.bg.makeGraphic(350,56,H.BG_COLORS[0]),X.setScale(this.bg),X.setPosUsingCenter(this.bg),this.bg.x=0,this.bg.alpha=1,this.add(this.bg),this.text=X.getText(36,"center"),this.text.font=X.font48_white,X.setScale(this.text),this.text.y=-22,this.add(this.text)};e["com.drderico.towerd.game.other.ComboText"]=Me,Me.__name__=["com","drderico","towerd","game","other","ComboText"],Me.getInstance=function(){return null==Me.INSTANCE&&(Me.INSTANCE=new Me),Me.INSTANCE},Me.__super__=V,Me.prototype=s(V.prototype,{show:function(t,e,i,s){null==i&&(i=0),this.onCompleteCallback=s,this.text.text!=t&&(this.text.text=t,this.text.x=this.bg.width/2-this.text.width/2),this._layer=e,e.add(this),0==i?(X.setPosUsingCenter(this.cameraOffset,zi.game.width/2,0),this.cameraOffset.y=-100,rs.tween(this.cameraOffset,{y:X.screenOffsetY},.8,{onComplete:Ms(this,this.startTween2),ease:Phaser.Easing.Back.Out},this)):1==i&&(this.cameraOffset.y=X.screenOffsetY+200,M.showFromRightToLeft(this.cameraOffset,this.width,Ms(this,this._onComplete)))},startTween2:function(t){var e=this.cameraOffset,i=Phaser.Easing.Back.In;rs.tween(e,{y:-100},.8,{startDelay:.2,onComplete:Ms(this,this.onComplete),ease:i},this)},onComplete:function(t){this._onComplete()},_onComplete:function(){null!=this.onCompleteCallback&&this.onCompleteCallback(),this.kill()},kill:function(){null!=this._layer&&this._layer.remove(this,!1,!0),this._layer=null},destroy:function(t,e){this.onCompleteCallback=null},__class__:Me});var Ge=function(){};e["com.drderico.towerd.game.other.FireTouchListener"]=Ge,Ge.__name__=["com","drderico","towerd","game","other","FireTouchListener"],Ge.__interfaces__=[Z],Ge.getInstance=function(){return null==Ge.instance&&(Ge.instance=new Ge),Ge.instance},Ge.prototype={onTriggerTouched:function(){Q.onPitFireTriggerTouched()},onTriggerHurted:function(){},__class__:Ge};var He=function(){at.call(this),this.set_active(!1),this.g=new V;this.map=new os(null,64,64,1,1),this.mapLayer=this.map.create("0",13,16,64,64,this.g),this.mapLayer.resize(832,1024),this.mapLayer.renderSettings.enableScrollDelta=!1,this.mapLayer.fixedToCamera=!1,this.layerTexure=new Phaser.RenderTexture(zi.game,this.map.widthInPixels,this.map.heightInPixels),this.loadTexture(this.layerTexure),this.scale.set(1,1)};e["com.drderico.towerd.game.other.GameBG"]=He,He.__name__=["com","drderico","towerd","game","other","GameBG"],He.__super__=at,He.prototype=s(at.prototype,{change:function(t,e,i){this.map.addTilesetImage("tileset",zi.random.getObject_haxe_extern_EitherType_String_phaser_BitmapData(H.BG_TILES[i]),64,64);for(var s=1+(t/4|0),n=1+(e/4|0),o=0,r=0|this.map.height;o<r;)for(var a=o++,l=0,h=0|this.map.width;l<h;){var c=l++;this.map.layers[0].data[a][c].index=c>=s||a>=n?-1:0}this.map.layers[0].dirty=!0,this.layerTexure.renderRawXY(this.mapLayer,0,0,!0)},destroy:function(t){},__class__:He});var De=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_other_HealthBar"]=De,De.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_other_HealthBar"],De.__interfaces__=[lt],De.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:De};var Ne=function(){at.call(this)};e["com.drderico.towerd.game.other.HealthBar"]=Ne,Ne.__name__=["com","drderico","towerd","game","other","HealthBar"],Ne.__interfaces__=[Yt],Ne.get=function(t,e,i){return Ne.pool.get()},Ne.__super__=at,Ne.prototype=s(at.prototype,{kill:function(){return at.prototype.kill.call(this),this.put(),this},put:function(){Ne.pool.put(this)},destroy:function(t){},__class__:Ne});var Re=function(t,e,i,s,n,o){Phaser.BitmapText.call(this,zi.game,t,e,i,s,n,o)};e["flixel.text.FlxText"]=Re,Re.__name__=["flixel","text","FlxText"],Re.__interfaces__=[ot],Re.__super__=Phaser.BitmapText,Re.prototype=s(Phaser.BitmapText.prototype,{destroy:function(t){Phaser.BitmapText.prototype.destroy.call(this,t)},setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},get_active:function(){return this.exists},set_active:function(t){var e=this.visible;return this.exists=t,this.visible=e,t},__class__:Re});var We=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_other_HitPoints"]=We,We.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_other_HitPoints"],We.__interfaces__=[lt],We.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:We};var Ue=function(){Re.call(this,0,0,X.font24_white,"",20,"center"),this.text="1",this.tint=16501556,this.set_active(!1)};e["com.drderico.towerd.game.other.HitPoints"]=Ue,Ue.__name__=["com","drderico","towerd","game","other","HitPoints"],Ue.show=function(t,e,i,s){var n=Ue.pool.get();n.text=t,n._show(e,i,s)},Ue.__super__=Re,Ue.prototype=s(Re.prototype,{_show:function(t,e,i){X.setScale(this),this._layer=t,t.add(this),this.reset(e-this.width/2,i),rs.tween(this,{y:i-50},.8,{onComplete:Ms(this,this.onComplete)},this)},onComplete:function(t){this.kill()},kill:function(){Re.prototype.kill.call(this),null!=this._layer&&this._layer.remove(this,!1,!0),Ue.pool.put(this),this._layer=null},destroy:function(t){},__class__:Ue});var Xe=function(t,e,i,s){this.ID=0,Phaser.Button.call(this,zi.game,t,e,null,i,s),null!=i&&(this.onInputUp.removeAll(),this.onInputUp.add(i,s,0,[this]))};e["flixel.ui.FlxButton"]=Xe,Xe.__name__=["flixel","ui","FlxButton"],Xe.__super__=Phaser.Button,Xe.prototype=s(Phaser.Button.prototype,{disable:function(){this.input.enabled=!1},enable:function(){this.input.enabled=!0},__class__:Xe});var Ye=function(t,e,i,s){null==e&&(e=0),null==t&&(t=0),Xe.call(this,t,e,i,s)};e["com.drderico.towerd.game.other.MyButton"]=Ye,Ye.__name__=["com","drderico","towerd","game","other","MyButton"],Ye.setupStates=function(t,e,i,s){null==s&&(s=""),null==i&&(i=""),null==e&&(e="")},Ye.__super__=Xe,Ye.prototype=s(Xe.prototype,{get_disabled:function(){return!this.input.enabled},set_disabled:function(t){return this.input.enabled=!t},__class__:Ye});var Ve=function(){};e["com.drderico.towerd.game.other.SawListener"]=Ve,Ve.__name__=["com","drderico","towerd","game","other","SawListener"],Ve.__interfaces__=[Z],Ve.getInstance=function(){return null==Ve.instance&&(Ve.instance=new Ve),Ve.instance},Ve.prototype={onTriggerTouched:function(){Q.hero.onLadder||Q.onSawTriggerTouched()},onTriggerHurted:function(){},__class__:Ve};var Ke=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.midX=0,rt.call(this),this.x=t,this.y=e,this.width=i,this.height=s,this.set_moves(!1)};e["com.drderico.towerd.game.other.SimpleObject"]=Ke,Ke.__name__=["com","drderico","towerd","game","other","SimpleObject"],Ke.__super__=rt,Ke.prototype=s(rt.prototype,{setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),rt.prototype.setPosition.call(this,t,e),this.midX=this.x+this.width/2},__class__:Ke});var ze=function(){};e["com.drderico.towerd.game.other.SpikesInPitListener"]=ze,ze.__name__=["com","drderico","towerd","game","other","SpikesInPitListener"],ze.__interfaces__=[Z],ze.getInstance=function(){return null==ze.instance&&(ze.instance=new ze),ze.instance},ze.prototype={onTriggerTouched:function(){Q.onSpikesInPitTriggerTouched()},onTriggerHurted:function(){},__class__:ze};var je=function(){};e["com.drderico.towerd.game.other.SpikesListener"]=je,je.__name__=["com","drderico","towerd","game","other","SpikesListener"],je.__interfaces__=[Z],je.getInstance=function(){return null==je.instance&&(je.instance=new je),je.instance},je.prototype={onTriggerTouched:function(){Q.onSpikesTriggerTouched()},onTriggerHurted:function(){},__class__:je};var Qe=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_other_Trigger"]=Qe,Qe.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_other_Trigger"],Qe.__interfaces__=[lt],Qe.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Qe};var Je=function(){this.type_=0,rt.call(this),this.listeners=[],X.enableBody(this),this.set_immovable(!0),this.set_moves(!1),this.renderable=!1,this.body.allowGravity=!1,this.body.allowRotation=!1};e["com.drderico.towerd.game.other.Trigger"]=Je,Je.__name__=["com","drderico","towerd","game","other","Trigger"],Je.get=function(){return Je.pool.get()},Je.__super__=rt,Je.prototype=s(rt.prototype,{init:function(t,e,i,s,n,o,r){null==r&&(r=4369),null==o&&(o=3),this.addListener(n),this.reset_(t,e),this.activate(),this.body.setSize(i,s),this.body.position.set(t,e),this.set_allowCollisions(r),this.type_=o},addListener:function(t){this.listeners.push(t)},onTouched:function(){for(var t=0,e=this.listeners;t<e.length;){var i=e[t];++t,null!=i&&i.onTriggerTouched()}},onHurtedByHero:function(){for(var t=0,e=this.listeners;t<e.length;){var i=e[t];++t,null!=i&&i.onTriggerHurted()}},onNpcTouchedHero:function(){},kill:function(){return rt.prototype.kill.call(this),this.put(),this},put:function(){Je.pool.put(this)},deactivate:function(){this.exists=!1,this.alive=!1},activate:function(){this.exists=!0,this.alive=!0},destroy:function(t){this.listeners.length=0,this.linkedObject=null},__class__:Je});var $e=function(){};e["com.drderico.towerd.game.other.WaterTouchListener"]=$e,$e.__name__=["com","drderico","towerd","game","other","WaterTouchListener"],$e.__interfaces__=[Z],$e.getInstance=function(){return null==$e.instance&&($e.instance=new $e),$e.instance},$e.prototype={onTriggerTouched:function(){Q.onPitWaterTriggerTouched()},onTriggerHurted:function(){},__class__:$e};var qe=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_AcidPart"]=qe,qe.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_AcidPart"],qe.__interfaces__=[lt],qe.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:qe};var Ze=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"acid_wave0001.png"),this.animation.addByNames("1",["acid_wave0001.png","acid_wave0002.png","acid_wave0003.png","acid_wave0004.png","acid_wave0005.png","acid_wave0006.png","acid_wave0007.png","acid_wave0008.png"],12,!0),this.set_moves(!1),X.setScale(this)};e["com.drderico.towerd.game.stuff.AcidPart"]=Ze,Ze.__name__=["com","drderico","towerd","game","stuff","AcidPart"],Ze.__interfaces__=[Yt],Ze.get=function(t){var e=Ze.pool.get();return e.animation.play("1",!0,t),e},Ze.__super__=at,Ze.prototype=s(at.prototype,{put:function(){Ze.pool.put(this)},destroy:function(t){},kill:function(){return this.put(),this},__class__:Ze});var ti=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_BlackArea"]=ti,ti.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_BlackArea"],ti.__interfaces__=[lt],ti.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ti};var ei=function(){this._key="",this.currentColor="",this._globalY=0,at.call(this),this._key="BlackAreaSprite"+h.string(ei._id++)};e["com.drderico.towerd.game.stuff.BlackArea"]=ei,ei.__name__=["com","drderico","towerd","game","stuff","BlackArea"],ei.get=function(t,e){var i=ei.pool.get();return i.currentColor!=H.BG_COLORS[z.envSetting.get_value()]&&(i.currentColor=H.BG_COLORS[z.envSetting.get_value()],i.makeGraphic(t,e,i.currentColor,!0,i._key)),i.alpha=1,i.visible=!0,i},ei.__super__=at,ei.prototype=s(at.prototype,{reset_:function(t,e){this.x=zi.get_camera().view.x,this.y=e,this.currentColor=H.BG_COLORS[z.envSetting.get_value()],this.makeGraphic(0|this.width,0|this.height,this.currentColor,!0,this._key)},hide:function(t){null==t&&(t=!0),t?rs.tween(this,{alpha:0},.2,{onComplete:Ms(this,this._hide)},this):(this.visible=!1,this.alpha=0)},postUpdate:function(){this.x=zi.game.camera.view.x/zi.game.camera.scale.x},_hide:function(t){this.visible=!1},show:function(){this.visible=!0,rs.tween(this,{alpha:1},Ot.climbOnLadderDuration/4,{onComplete:Q.createNextLevel,startDelay:.7},this)},kill:function(){return ei.pool.put(this),this},destroy:function(t){},changeSize:function(t,e){this.currentColor=H.BG_COLORS[z.envSetting.get_value()],this.makeGraphic(t,e,this.currentColor,!0,this._key)},__class__:ei});var ii=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_Chain"]=ii,ii.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_Chain"],ii.__interfaces__=[lt],ii.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ii};var si=function(){this.envValue=0,at.call(this),C.loadGraphicFromTexture(this,X.t,"chain1.png"),X.setScale(this,null,!0)};e["com.drderico.towerd.game.stuff.Chain"]=si,si.__name__=["com","drderico","towerd","game","stuff","Chain"],si.get=function(t){var e=si.pool.get();return e.envValue=t,e},si.__super__=at,si.prototype=s(at.prototype,{reset_:function(t,e){at.prototype.reset_.call(this,t,e),this.changeLook(this.envValue)},changeLook:function(t){this.resetFrame(),this.frameName=zi.random.getObject_String(si.textures[t]),4==t&&(this.x-=Math.abs(this.width)/2+10,this.set_flipX(zi.random.float(0,100)<50))},kill:function(){return si.pool.put(this),this},destroy:function(t){},__class__:si});var ni=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_CoinSprite"]=ni,ni.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_CoinSprite"],ni.__interfaces__=[lt],ni.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ni};var oi=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"coin0001.png"),this.fixedToCamera=!0,this.animation.addByNames("1",["coin0001.png","coin0002.png","coin0003.png","coin0004.png","coin0005.png","coin0006.png","coin0007.png","coin0008.png"],16),X.setScale(this,.8)};e["com.drderico.towerd.game.stuff.CoinSprite"]=oi,oi.__name__=["com","drderico","towerd","game","stuff","CoinSprite"],oi.get=function(){return oi.pool.get()},oi.__super__=at,oi.prototype=s(at.prototype,{reset_:function(t,e){at.prototype.reset_.call(this,t,e),this.cameraOffset.set(t,e),this.animation.play("1",!0,!1,-1),this._tween=rs.tween(this.cameraOffset,{y:this.cameraOffset.y-100},.3,{startDelay:oi.startDelay,ease:Phaser.Easing.Sinusoidal.Out,onComplete:Ms(this,this._hideCoin)},this),K.hud.flyingItems.add(this),oi.coinsToAdd++},_hideCoin:function(t){this._tween=rs.tween(this.cameraOffset,{x:Nt.coinsHud.cameraOffset.x,y:Nt.coinsHud.cameraOffset.y},.6,{onComplete:Ms(this,this._hideCoin2)},this)},_hideCoin2:function(t){K.hud.flyingItems.remove(this,!1,!0),this.kill(),J.addCoin(),oi.coinsToAdd--},kill:function(){return X.cancelTween(this._tween),this._tween=null,oi.pool.put(this),this},destroy:function(t){},__class__:oi});var ri=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_FirePart"]=ri,ri.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_FirePart"],ri.__interfaces__=[lt],ri.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ri};var ai=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"fire_wave0001.png"),this.animation.addByNames("1",["fire_wave0001.png","fire_wave0002.png","fire_wave0003.png","fire_wave0004.png"],12,!0),this.set_moves(!1),X.setScale(this)};e["com.drderico.towerd.game.stuff.FirePart"]=ai,ai.__name__=["com","drderico","towerd","game","stuff","FirePart"],ai.__interfaces__=[Yt],ai.get=function(){var t=ai.pool.get();return t.animation.play("1",!0,!1,ai.startFrame),ai.startFrame++,ai.startFrame%=4,t},ai.__super__=at,ai.prototype=s(at.prototype,{put:function(){ai.pool.put(this)},destroy:function(t){},kill:function(){return this.put(),this},__class__:ai});var li=function(){};e["com.drderico.towerd.game.stuff.GfxTile"]=li,li.__name__=["com","drderico","towerd","game","stuff","GfxTile"];var hi=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_Heart"]=hi,hi.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_Heart"],hi.__interfaces__=[lt],hi.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:hi};var ci=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"heart.png"),X.setScale(this)};e["com.drderico.towerd.game.stuff.Heart"]=ci,ci.__name__=["com","drderico","towerd","game","stuff","Heart"],ci.get=function(){return ci.pool.get()},ci.__super__=at,ci.prototype=s(at.prototype,{reset_:function(t,e){at.prototype.reset_.call(this,t,e),this.alpha=1,rs.tween(this,{y:this.y-100},.8,{ease:Phaser.Easing.Sinusoidal.Out,onComplete:Ms(this,this._hideHeart)},this),rs.tween(this,{alpha:0},.3,{startDelay:.5},null),Q._fxUnderHero.add(this)},_hideHeart:function(t){Q._fxUnderHero.remove(this,!1,!0),this.kill()},kill:function(){return ci.pool.put(this),this},destroy:function(t){},__class__:ci});var _i=function(){this.toY=0,this.wasTouchedAlready=!1,this.stageID=0,V.call(this);var t=new at;t.set_active(!1),C.loadGraphicFromTexture(t,X.t,"ladder_ready.png"),X.setScale(t),this.add(t),_i.oneLadderSpriteHeight=t.height,(t=new at).set_active(!1),C.loadGraphicFromTexture(t,X.t,"ladder_ready.png"),X.setScale(t),this.add(t)};e["com.drderico.towerd.game.stuff.Ladder"]=_i,_i.__name__=["com","drderico","towerd","game","stuff","Ladder"],_i.__interfaces__=[Z],_i.get=function(t){var e=_i.pool.get();return e.init(t),e},_i.__super__=V,_i.prototype=s(V.prototype,{init:function(t){this.wasTouchedAlready=!1,this.visible=!0,Es.__cast(this.children[0],at).setPosition(),Es.__cast(this.children[1],at).setPosition(0,_i.oneLadderSpriteHeight-1*(80+16*t))},kill:function(){this.put()},destroy:function(t,e){null!=this.trigger&&this.trigger.kill(),this.trigger=null},put:function(){_i.pool.put(this)},onTriggerTouched:function(){this.trigger.deactivate(),Q.onHeroTouchedLadder(this)},onTriggerHurted:function(){},show:function(t){null==t&&(t=!1),this.set_active(!0),this.visible=!0,this.alpha=1,t||(this.y=this.toY-this.height,rs.tween(this,{y:this.toY},1,{ease:Phaser.Easing.Back.Out},null),j.ladder_show()),this.trigger.activate(),this.trigger.body.y=this.toY,this.trigger.body.x=this.x},update:function(){V.prototype.update.call(this),null!=this.trigger&&this.trigger.setBodyPos(this.x,this.y)},hide:function(){this.set_active(!1),rs.tween(this,{alpha:0},.3,{onComplete:Ms(this,this._hide)},this)},_hide:function(t){this.put()},setPosition:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.toY=this.y},__class__:_i});var ui=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_LgObject"]=ui,ui.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_LgObject"],ui.__interfaces__=[lt],ui.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ui};var di=function(){this.canPlaceLadder=!0,this.hasSpikes=!1,this.hasSaw=!1,this.allowCollisions=0,this.itemType=0,this.type=0,this.isFloor=!1,this.isWall=!1,this.stageID=0,this.height=0,this.width=0,this.y=0,this.x=0};e["com.drderico.towerd.game.stuff.LgObject"]=di,di.__name__=["com","drderico","towerd","game","stuff","LgObject"],di.__interfaces__=[ot,Yt],di.get=function(){var t=di.pool.get();return t.canPlaceLadder=!0,t.hasSaw=!1,t.hasSpikes=!1,t},di.isPit=function(t){return 0==t.type||1==t.type||2==t.type||12==t.type},di.prototype={put:function(){di.pool.put(this)},destroy:function(t){},__class__:di};var pi=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_Saw"]=pi,pi.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_Saw"],pi.__interfaces__=[lt],pi.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:pi};var gi=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"blockSaw_0001.png"),this.animation.addByNames("1",["blockSaw_0001.png","blockSaw_0002.png","blockSaw_0003.png","blockSaw_0004.png","blockSaw_0005.png","blockSaw_0006.png"],36),this.animation.addByNames("2",["blockSawBlue_0001.png","blockSawBlue_0002.png","blockSawBlue_0003.png","blockSawBlue_0004.png","blockSawBlue_0005.png","blockSawBlue_0006.png"],36),this.animation.addByNames("3",["blockSawVoilet_0001.png","blockSawVoilet_0002.png","blockSawVoilet_0003.png","blockSawVoilet_0004.png","blockSawVoilet_0005.png","blockSawVoilet_0006.png"],36),X.setScale(this,null,!0),this.set_moves(!1)};e["com.drderico.towerd.game.stuff.Saw"]=gi,gi.__name__=["com","drderico","towerd","game","stuff","Saw"],gi.get=function(){return gi.pool.get()},gi.__super__=at,gi.prototype=s(at.prototype,{reset_:function(t,e){at.prototype.reset_.call(this,t,e-6),this.animation.play(zi.random.getObject_String(gi.t),!0,zi.random.float(0,100)<30)},kill:function(){return gi.pool.put(this),this},destroy:function(t){},__class__:gi});var fi=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_WaterPart"]=fi,fi.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_WaterPart"],fi.__interfaces__=[lt],fi.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:fi};var mi=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"water_wave0001.png"),this.animation.addByNames("1",["water_wave0001.png","water_wave0002.png","water_wave0003.png","water_wave0004.png","water_wave0005.png","water_wave0006.png","water_wave0007.png","water_wave0008.png"],12,!0),this.animation.addByNames("2",["water_wave20001.png","water_wave20002.png","water_wave20003.png","water_wave20004.png","water_wave20005.png","water_wave20006.png","water_wave20007.png","water_wave20008.png"],12,!0),this.set_moves(!1),X.setScale(this)};e["com.drderico.towerd.game.stuff.WaterPart"]=mi,mi.__name__=["com","drderico","towerd","game","stuff","WaterPart"],mi.__interfaces__=[Yt],mi.get=function(t,e){var i=mi.pool.get();return i.animation.play(0==e?"2":"1",!0,t),i},mi.__super__=at,mi.prototype=s(at.prototype,{put:function(){mi.pool.put(this)},destroy:function(t){},kill:function(){return this.put(),this},__class__:mi});var vi=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_game_stuff_Web"]=vi,vi.__name__=["flixel","util","FlxPool_com_drderico_towerd_game_stuff_Web"],vi.__interfaces__=[lt],vi.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:vi};var yi=function(){at.call(this),C.loadGraphicFromTexture(this,X.t,"web.png"),X.setScale(this),this.set_active(!1)};e["com.drderico.towerd.game.stuff.Web"]=yi,yi.__name__=["com","drderico","towerd","game","stuff","Web"],yi.get=function(){return yi.pool.get()},yi.__super__=at,yi.prototype=s(at.prototype,{kill:function(){return yi.pool.put(this),this},destroy:function(t){},__class__:yi});var xi=function(){V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),xi.title=X.getText(60,"center"),xi.title.font=X.font48_white,xi.title.text=X.tongue.get("$PAUSE"),X.setScale(xi.title),xi.title.fixedToCamera=!0,this.add(xi.title),xi.playBtn=new Ye(0,0,Ms(this,this.onPlayBtnPressed),this),C.loadGraphicFromTexture(xi.playBtn,X.t2,"play_btn.png"),X.setScale(xi.playBtn);xi.playBtn;xi.playBtn.fixedToCamera=!0,this.add(xi.playBtn),xi.musicOnBtn=new Ye(0,0,Ms(this,this.onMusicBtnPressed),this),C.loadGraphicFromTexture(xi.musicOnBtn,X.t,"musicOnBtn.png"),X.setScale(xi.musicOnBtn);xi.musicOnBtn;xi.musicOnBtn.fixedToCamera=!0,this.add(xi.musicOnBtn),xi.quitBtn=new Ye(0,0,Ms(this,this.onQuitBtnPressed),this),C.loadGraphicFromTexture(xi.quitBtn,X.t,"menuBtn.png"),X.setScale(xi.quitBtn);xi.quitBtn;xi.quitBtn.fixedToCamera=!0,this.add(xi.quitBtn),this.backBtnExecutionReady=!0,this.onGameResize()};e["com.drderico.towerd.game.ui.PauseScreen"]=xi,xi.__name__=["com","drderico","towerd","game","ui","PauseScreen"],xi.__interfaces__=[Dt],xi.__super__=V,xi.prototype=s(V.prototype,{onGameResize:function(){xi.title.fixedToCamera=!1,xi.playBtn.fixedToCamera=!1,xi.musicOnBtn.fixedToCamera=!1,xi.quitBtn.fixedToCamera=!1,X.setPosUsingCenter(xi.title,zi.game.width/2,(X.screenOffsetY+240)/2-12),X.setPosUsingCenter(xi.playBtn,zi.game.width/2,260),X.setPosUsingCenter(xi.musicOnBtn,zi.game.width/2+130,260),X.setPosUsingCenter(xi.quitBtn,zi.game.width/2-130,260),xi.title.fixedToCamera=!0,xi.playBtn.fixedToCamera=!0,xi.musicOnBtn.fixedToCamera=!0,xi.quitBtn.fixedToCamera=!0},onMusicBtnPressed:function(t){X.onBtnClicked(xi.musicOnBtn,Ms(this,this._onMusicBtnPressed))},_onMusicBtnPressed:function(){X._onMusicBtnPressed(),X.toggleMusicBtns(xi.musicOnBtn)},onQuitBtnPressed:function(t){X.onBtnClicked(xi.quitBtn,Ms(this,this._onQuitBtnPressed))},_onQuitBtnPressed:function(){W.sceneManager.showConfirmScreen(this,X.tongue.get("$QUIT_THE_TOWER"),function(){Nt.onExitConfirmed()})},show:function(){X.toggleMusicBtns(xi.musicOnBtn),D.flicker(xi.title,0,.5),this.enableInput()},onBackBtnPressed:function(t){null==t&&(t=!1),t&&j.click(),this._onPlayBtnPressed()},_showMusicBtn:function(t){xi.musicOnBtn.visible=!0},_showCloseBtn:function(t){xi.quitBtn.visible=!0},onPlayBtnPressed:function(t){X.onBtnClicked(xi.playBtn,Ms(this,this._onPlayBtnPressed))},_onPlayBtnPressed:function(){X.delay(.1,Ms(this,this.__onPlayBtnPressed),null,this)},__onPlayBtnPressed:function(t){W.sceneManager.hidePause(),D.stopFlickering(xi.title)},__class__:xi});var wi=function(){Re.call(this,0,0,X.font24_white,"",H.DEFAULT_TEXT_SIZE,"center"),this.set_active(!1),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),zi.game.device.desktop?this.text=X.tongue.get("$CLICK_TO_CONTINUE"):this.text=X.tongue.get("$TAP_TO_CONTINUE"),X.setScale(this),this.fixedToCamera=!0,this.tint=16501556};e["com.drderico.towerd.game.ui.TapToContinueText"]=wi,wi.__name__=["com","drderico","towerd","game","ui","TapToContinueText"],wi.getInstance=function(){return null==wi.instance&&(wi.instance=new wi),wi.instance},wi.show=function(t){t.add(wi.getInstance()),wi.getInstance().layer=t,wi.getInstance().onGameResize(),D.stopFlickering(wi.getInstance()),D.flicker(wi.getInstance(),0,.5)},wi.hide=function(){wi.getInstance().layer.remove(wi.getInstance(),!1,!0),D.stopFlickering(wi.getInstance())},wi.__super__=Re,wi.prototype=s(Re.prototype,{onGameResize:function(){this.fixedToCamera=!1,X.setPosUsingCenter(this,zi.game.width/2,zi.game.height-X.screenOffsetY-30),this.fixedToCamera=!0},__class__:wi});var bi=function(){this.readyToTouch=!1,V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),this.fixedToCamera=!0,this.title=X.getText(28,"center"),this.add(this.title)};e["com.drderico.towerd.game.ui.WindowHelloPlayer"]=bi,bi.__name__=["com","drderico","towerd","game","ui","WindowHelloPlayer"],bi.show=function(t,e,i){Nt.THIS.set_active(!1),Q.THIS.set_active(!1),J.paused=!0,rs.set_globalManager(W.tweenManager);var s=bi.pool.get();s.title.text=t,X.setScale(s.title),X.setPosUsingCenter(s.title,zi.game.width/2,zi.game.height/2),s._layer=e,s._onHideCallback=i,ki.add(e),e.add(s),s._show()},bi.__super__=V,bi.prototype=s(V.prototype,{onGameResize:function(){X.setPosUsingCenter(this.title,zi.game.width/2,zi.game.height/2)},_show:function(){this.readyToTouch=!1,X.cancelTween(this.t),this.title.alpha=0,this.t=rs.tween(this.title,{alpha:1},1,{onComplete:Ms(this,this._show2)},this)},_show2:function(t){this.readyToTouch=!0,wi.show(this._layer)},update:function(){V.prototype.update.call(this),this.readyToTouch&&X.isAnyKeyJustPressed()&&(X.stopClickProp(),j.click(),rs.set_globalManager(W.gameTweenManager),Nt.THIS.set_active(!0),Q.THIS.set_active(!0),this._layer.remove(this,!1,!0),ki.remove(this._layer),this._layer=null,J.paused=!1,wi.hide(),null!=this._onHideCallback&&this._onHideCallback())},put:function(){bi.pool.put(this)},destroy:function(t,e){},__class__:bi});var Ti=function(){this.readyToTouch=!1,V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),this.bg=new Bi,this.add(this.bg),this.title=X.getText(24,"center"),this.title.text=X.tongue.get("$YOU_FOUND"),this.title.fixedToCamera=!0,this.add(this.title),this.itemName=X.getText(36,"center"),this.itemName.text=X.tongue.get("$MAGNET_ITEM_NAME"),this.itemName.fixedToCamera=!0,this.add(this.itemName),this.desc=X.getText(20,"center"),this.desc.text=X.tongue.get("$MAGNET_ITEM_DESC"),this.desc.fixedToCamera=!0,this.add(this.desc),this.set_active(!1)};e["com.drderico.towerd.game.ui.WindowItemFound"]=Ti,Ti.__name__=["com","drderico","towerd","game","ui","WindowItemFound"],Ti.show=function(t,e,i){Nt.THIS.set_active(!1),Q.THIS.set_active(!1),Nt.THIS.disableInput(),rs.set_globalManager(W.tweenManager),J.paused=!0;var s=Ti.pool.get();switch(s._layer=e,s._onHideCallback=i,ki.add(e),e.add(s),t){case 0:s.desc.text=X.tongue.get("$MAGNET_ITEM_DESC"),s.itemName.text=X.tongue.get("$MAGNET_ITEM_NAME");break;case 1:s.desc.text=X.tongue.get("$SHIELD_ITEM_DESC"),s.itemName.text=X.tongue.get("$SHIELD_ITEM_NAME");break;case 6:s.desc.text=X.tongue.get("$ARTEFACT_ITEM_DESC"),s.itemName.text=X.tongue.get("$ARTEFACT_ITEM_NAME");break;case 8:s.desc.text=X.tongue.get("$TOMB_ITEM_DESC"),s.itemName.text=X.tongue.get("$TOMB_ITEM_NAME")}s._show()},Ti.__super__=V,Ti.prototype=s(V.prototype,{onGameResize:function(){this.title.fixedToCamera=!1,this.itemName.fixedToCamera=!1,this.desc.fixedToCamera=!1,X.setPosUsingCenter(this.title,zi.game.width/2,zi.game.height/2-110),X.setPosUsingCenter(this.itemName,zi.game.width/2,zi.game.height/2-20),X.setPosUsingCenter(this.desc,zi.game.width/2,zi.game.height/2+80),this.title.fixedToCamera=!0,this.itemName.fixedToCamera=!0,this.desc.fixedToCamera=!0,this.bg.position.set(zi.game.width/2-this.bg.width/2+X.screenOffsetX,zi.game.height/2-this.bg.height/2+X.screenOffsetY)},_show:function(){this.readyToTouch=!1,X.cancelTween(this.t1),X.cancelTween(this.t2),X.cancelTween(this.t3),this.title.fixedToCamera=!1,this.itemName.fixedToCamera=!1,this.desc.fixedToCamera=!1,X.setPosUsingCenter(this.title,zi.game.width/2,zi.game.height/2-110),X.setPosUsingCenter(this.itemName,zi.game.width/2,zi.game.height/2-20),X.setPosUsingCenter(this.desc,zi.game.width/2,zi.game.height/2+80),this.title.fixedToCamera=!0,this.itemName.fixedToCamera=!0,this.desc.fixedToCamera=!0,this.title.alpha=0,this.desc.alpha=0,this.itemName.alpha=0,this.t1=rs.tween(this.title,{alpha:1},.4,{onComplete:Ms(this,this._show2)},this),this.t2=rs.tween(this.desc,{alpha:1},.4,null,null),this.t3=rs.tween(this.itemName,{alpha:1},.4,null,null);var t=this.bg;X.setScale(this.itemName),X.setScale(this.desc),this.desc.cameraOffset.x=(zi.game.width-this.desc.width)/2,this.itemName.cameraOffset.x=(zi.game.width-this.itemName.width)/2,t.show(Math.max(this.desc.width,this.itemName.width)/1+100,(this.desc.cameraOffset.y+this.desc.height-this.title.cameraOffset.y)/1+80)},getMaxWidth:function(){return X.setScale(this.itemName),X.setScale(this.desc),this.desc.cameraOffset.x=(zi.game.width-this.desc.width)/2,this.itemName.cameraOffset.x=(zi.game.width-this.itemName.width)/2,Math.max(this.desc.width,this.itemName.width)},getMaxHeight:function(){return this.desc.cameraOffset.y+this.desc.height-this.title.cameraOffset.y},_show2:function(t){this.readyToTouch=!0,wi.show(this._layer)},update:function(){V.prototype.update.call(this),this.readyToTouch&&X.isAnyKeyJustPressed()&&(X.stopClickProp(),j.click(),rs.set_globalManager(W.gameTweenManager),Nt.THIS.set_active(!0),Q.THIS.set_active(!0),Nt.THIS.enableInput(),this._layer.remove(this,!1,!0),ki.remove(this._layer),wi.hide(),J.paused=!1,this._layer=null,null!=this._onHideCallback&&this._onHideCallback(),this.put())},put:function(){Ti.pool.put(this)},destroy:function(t,e){},__class__:Ti});var Si=function(){Ye.call(this,0,0,null,Ms(this,this.goToVideo)),X.setScale(this),X.setPosUsingCenter(this,zi.game.width/2,zi.game.height-30)};e["com.drderico.towerd.sponsored.WalkthroughBtn"]=Si,Si.__name__=["com","drderico","towerd","sponsored","WalkthroughBtn"],Si.__super__=Ye,Si.prototype=s(Ye.prototype,{goToVideo:function(){},__class__:Si});var Ii=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_com_drderico_towerd_ui_BlackBg"]=Ii,Ii.__name__=["flixel","util","FlxPool_com_drderico_towerd_ui_BlackBg"],Ii.__interfaces__=[lt],Ii.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Ii};var ki=function(){Phaser.Image.call(this,zi.game,X.screenOffsetX,X.screenOffsetY,X.getBitmapData(zi.game.width-2*X.screenOffsetX|0,zi.game.height-2*X.screenOffsetY|0,"000000")),null==ki.stack&&(ki.stack=[]),this.fixedToCamera=!0,this.alpha=.43529411764705883,K.onGameResizeSignal.add(Ms(this,this.onGameResize),this)};e["com.drderico.towerd.ui.BlackBg"]=ki,ki.__name__=["com","drderico","towerd","ui","BlackBg"],ki.__interfaces__=[ot,Yt],ki.add=function(t){var e=ki.pool.get();return e.resizeFrame(e,zi.game.width-2*X.screenOffsetX|0,zi.game.height-2*X.screenOffsetY|0),e.exists=!0,t.add(e),ki.stack.push(e),e},ki.remove=function(t){if(null!=ki.stack&&ki.stack.length>0){var e=ki.stack.pop();t.remove(e,!1,!0),e.alpha=.43529411764705883,e.put()}},ki.__super__=Phaser.Image,ki.prototype=s(Phaser.Image.prototype,{onGameResize:function(){this.resizeFrame(this,zi.game.width-2*X.screenOffsetX|0,zi.game.height-2*X.screenOffsetY|0)},kill:function(){return this.put(),this},put:function(){ki.pool.put(this)},destroy:function(t){},__class__:ki});var Fi=function(){V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),this.bg=new Bi,this.add(this.bg),this.bg.show(416,200),this.text=X.getText(28,"center"),this.text.text=X.tongue.get("$YOU_FOUND"),X.setPosUsingCenter(this.text,zi.game.width/2,240),this.text.fixedToCamera=!0,this.add(this.text),this.closeBtn=new Ye(0,0,Ms(this,this._onBackBtnPressed),this),C.loadGraphicFromTexture(this.closeBtn,X.t,"closeBtn.png");this.closeBtn;X.setScale(this.closeBtn,.8,!0),this.closeBtn.y=150-0*this.closeBtn.height/2|0,this.closeBtn.x=zi.game.width/2+202-0*this.closeBtn.width/2|0,this.closeBtn.fixedToCamera=!0,this.add(this.closeBtn),this.yesBtn=new Ye(0,0,Ms(this,this.onYesBtnPressed),this),C.loadGraphicFromTexture(this.yesBtn,X.t,"okBtn.png"),X.setScale(this.yesBtn,null,!0),X.setPosUsingCenter(this.yesBtn,zi.game.width/2,334),this.yesBtn.fixedToCamera=!0;this.yesBtn;this.add(this.yesBtn)};e["com.drderico.towerd.ui.ConfirmScreen"]=Fi,Fi.__name__=["com","drderico","towerd","ui","ConfirmScreen"],Fi.__interfaces__=[Yt],Fi.show=function(t,e,i,s,n){null==s&&(s=!0),Fi.curScreen=Fi.pool.get(),Fi.curScreen._show(e,i,s,n),ki.add(t),t.add(Fi.curScreen),Fi.stack.push(Fi.curScreen)},Fi.hide=function(t){if(null!=Fi.stack&&Fi.stack.length>0){var e=Fi.stack.pop();t.remove(e,!1,!0),ki.remove(t),e.disableInput(),e.put(),Fi.stack.length>0?(Fi.curScreen=Fi.stack[Fi.stack.length-1],Fi.curScreen.enableInput()):Fi.curScreen=null}},Fi.onBackBtnPressed=function(){Fi.curScreen._onBackBtnPressed()},Fi.isVisible=function(){return 0!=Fi.stack.length},Fi.__super__=V,Fi.prototype=s(V.prototype,{onGameResize:function(){this.bg.position.set(zi.game.width/2-this.bg.width/2+X.screenOffsetX,240-this.bg.height/2+X.screenOffsetY),this.closeBtn.fixedToCamera=!1,this.closeBtn.y=150-0*this.closeBtn.height/2|0,this.closeBtn.x=zi.game.width/2+202-0*this.closeBtn.width/2|0,this.closeBtn.fixedToCamera=!0,this.yesBtn.fixedToCamera=!1,X.setPosUsingCenter(this.yesBtn,zi.game.width/2,334),this.yesBtn.fixedToCamera=!0,this.text.fixedToCamera=!1,X.setPosUsingCenter(this.text,zi.game.width/2,240+(this.yesBtn.visible?-18:0)),this.text.fixedToCamera=!0},_onBackBtnPressed:function(t){this.closeBtn.visible?X.onBtnClicked(this.closeBtn,Ms(this,this.__onBackBtnPressed)):this.__onBackBtnPressed()},__onBackBtnPressed:function(){W.sceneManager.hideConfirmScreen(),null!=this._onCloseCallback&&this._onCloseCallback()},onYesBtnPressed:function(t){X.onBtnClicked(this.yesBtn,Ms(this,this._onYesBtnPressed))},_onYesBtnPressed:function(){W.sceneManager.hideConfirmScreen(),null!=this._onYesCallback&&this._onYesCallback()},_show:function(t,e,i,s){if(null==i&&(i=!0),this.exists=!0,this.enableInput(),null==e?i&&(this.yesBtn.visible=!1,this.yesBtn.set_disabled(!0)):(this.yesBtn.visible=!0,this.yesBtn.set_disabled(!1)),this._onYesCallback=e,this._onCloseCallback=s,this.text.text=t,X.setPosUsingCenter(this.text,zi.game.width/2,240+(this.yesBtn.visible?-18:0)),this.text.cameraOffset.x=this.text.x,this.text.cameraOffset.y=this.text.y,i){this.closeBtn.visible=!0,this.closeBtn.scale.set(.1,.1);var n=this.closeBtn.scale,o=Phaser.Easing.Bounce.Out;rs.tween(n,{y:.8,x:.8},.3,{ease:o},null)}else this.closeBtn.visible=!1;this.yesBtn.scale.set(.1,.1);var r=this.yesBtn.scale,a=Phaser.Easing.Bounce.Out;rs.tween(r,{y:1,x:1},.3,{ease:a},null)},put:function(){Fi.pool.put(this)},destroy:function(t,e){},__class__:Fi});var Pi=function(){V.call(this)};e["com.drderico.towerd.ui.ScreenGroup"]=Pi,Pi.__name__=["com","drderico","towerd","ui","ScreenGroup"],Pi.__super__=V,Pi.prototype=s(V.prototype,{show:function(){Ei.getInstance().showBackBtn()},__class__:Pi});var Ci=function(){Pi.call(this),this.playBtn=new Ye(0,0,Ms(this,this.onPlayBtnPressed),this),C.loadGraphicFromTexture(this.playBtn,X.t2,"play_btn.png"),X.setScale(this.playBtn,null,!0);this.playBtn;this.add(this.playBtn),this.musicOnBtn=new Ye(0,0,Ms(this,this.onMusicBtnPressed),this),C.loadGraphicFromTexture(this.musicOnBtn,X.t,"musicOnBtn.png"),X.setScale(this.musicOnBtn,null,!0);this.musicOnBtn;this.add(this.musicOnBtn),this.shopBtn=new Ye(0,0,Ms(this,this.onShopBtnPressed),this),C.loadGraphicFromTexture(this.shopBtn,X.t2,"shop_btn.png"),X.setScale(this.shopBtn,null,!0);this.shopBtn;this.add(this.shopBtn),Ci.shopSkinBtn=new Di(Ms(this,this.onShopSkinBtnPressed),this),this.add(Ci.shopSkinBtn.btnBg),this.add(Ci.shopSkinBtn.hero),this.onGameResize()};e["com.drderico.towerd.ui.MainMenu"]=Ci,Ci.__name__=["com","drderico","towerd","ui","MainMenu"],Ci.__super__=Pi,Ci.prototype=s(Pi.prototype,{onGameResize:function(){this.playBtn.fixedToCamera=!1,X.setPosUsingCenter(this.playBtn,zi.game.width/2,Ei.levelY+224),this.playBtn.fixedToCamera=!0,this.musicOnBtn.fixedToCamera=!1,X.setPosUsingCenter(this.musicOnBtn,zi.game.width/2+284,Ei.levelY+190+114-this.musicOnBtn.offsetY),this.musicOnBtn.fixedToCamera=!0,this.shopBtn.fixedToCamera=!1,X.setPosUsingCenter(this.shopBtn,zi.game.width/2+284,Ei.levelY+70),this.shopBtn.fixedToCamera=!0,Ci.shopSkinBtn.setPos(zi.game.width/2-284,Ei.levelY+70)},onPlayBtnPressed:function(t){this.showAnimation||X.onBtnClicked(this.playBtn,Ms(this,this._onPlayBtnPressed))},_onPlayBtnPressed:function(){var t=this;!z.gameOver&&z.level.get_value()>0?W.sceneManager.showConfirmScreen(this,Yi.flags(X.tongue.get("$CONTINUE_SAVED_GAME"),["<X>"],[h.string(z.level.get_value()+1)]),function(){t.startGame()},!0):this.startNewGame()},startNewGame:function(){null!=window.parent&&null!=window.parent.cmgGameEvent&&window.parent.cmgGameEvent("start"),z.gameOver=!0,this.startGame()},startGame:function(){var t=h.string(z.level.get_value()+1);null!=window.parent&&null!=window.parent.cmgGameEvent&&window.parent.cmgGameEvent("start",t),W.sceneManager.showGameScene()},onMusicBtnPressed:function(t){this.showAnimation||X.onBtnClicked(this.musicOnBtn,Ms(this,this._onMusicBtnPressed))},_onMusicBtnPressed:function(){X._onMusicBtnPressed(),X.toggleMusicBtns(this.musicOnBtn)},show:function(){this.showAnimation=!0,X.toggleMusicBtns(this.musicOnBtn),this.playBtn.visible=!1,this.musicOnBtn.visible=!1,this.shopBtn.visible=!1,Ci.shopSkinBtn.btnBg.visible=!1,Ci.shopSkinBtn.hero.visible=!1,X.setScale(this.playBtn,null,!0),X.setScale(this.musicOnBtn,null,!0),X.setScale(this.shopBtn,null,!0),Ei.getInstance().hideBackBtn(),M.scaleUpDown(this.playBtn,null,1.3,.05,.1,Ms(this,this._showPlayBtn),this),M.scaleUpDown(this.musicOnBtn,null,1.3,.05,.24000000000000002,Ms(this,this._showMusicBtn),this)},_showPlayBtn:function(t){this.playBtn.visible=!0},_showLbBtn:function(t){z.helloPlayerWindow?this.showAnimation=!1:(z.shopBtnShown||z.shopSkinBtnShown?z.shopSkinBtnShown?this.showAnimation=!1:this.showSkinBtnAtFirstTime():(this.shopBtn.visible=!0,M.scaleUpDown(this.shopBtn,Ms(this,this._onShopBtnShow),1.3,.05,0,null,this)),z.shopBtnShown&&(this.shopBtn.visible=!0,M.scaleUpDown(this.shopBtn,null,1.3,.05)),z.shopSkinBtnShown&&(Ci.shopSkinBtn.btnBg.visible=!0,Ci.shopSkinBtn.hero.visible=!0,M.scaleUpDown(Ci.shopSkinBtn.btnBg,null,1.3,.05),M.scaleUpDown(Ci.shopSkinBtn.hero,null,1.3,.05),this.showAnimation=!1))},_onShopBtnShow:function(t){j.powerup_pickup(),xt.get().show(this.shopBtn.centerX,this.shopBtn.centerY,this),xt.get().show(this.shopBtn.centerX,this.shopBtn.centerY,this),X.delay(.8,Ms(this,this._onShopBtnShow2),null,this)},_onShopSkinBtnShow:function(t){j.powerup_pickup(),xt.get().show(Ci.shopSkinBtn.heroMiddleX,Ci.shopSkinBtn.heroMiddleY,this),xt.get().show(Ci.shopSkinBtn.heroMiddleX,Ci.shopSkinBtn.heroMiddleY,this),X.delay(.8,Ms(this,this._onShopSkinBtnShow2),null,this)},_onShopBtnShow2:function(t){z.shopBtnShown=!0,W.sceneManager.showShopScreen(Ei.getInstance(),Ms(this,this.showSkinBtnAtFirstTime)),W.sceneManager.showConfirmScreen(K.shopScreen,X.tongue.get("$SHOP_BTN_TUTORIAL"),null,!1)},_onShopSkinBtnShow2:function(t){this.showAnimation=!1,z.shopSkinBtnShown=!0,W.sceneManager.showShopSkinScreen(Ei.getInstance()),W.sceneManager.showConfirmScreen(K.shopSkinScreen,X.tongue.get("$SHOP_SKIN_BTN_TUTORIAL"),null,!1),z.save()},showSkinBtnAtFirstTime:function(){Ci.shopSkinBtn.btnBg.visible=!0,Ci.shopSkinBtn.hero.visible=!0,M.scaleUpDown(Ci.shopSkinBtn.btnBg,Ms(this,this._onShopSkinBtnShow),1.3,.05,0,null,this),M.scaleUpDown(Ci.shopSkinBtn.hero,null,1.3,.05)},_showMusicBtn:function(t){this.musicOnBtn.visible=!0,this._showLbBtn()},onShopBtnPressed:function(t){this.showAnimation||X.onBtnClicked(this.shopBtn,Ms(this,this._onShopBtnPressed))},_onShopBtnPressed:function(){this.showAnimation||W.sceneManager.showShopScreen(Ei.getInstance())},onShopSkinBtnPressed:function(t){this.showAnimation||W.sceneManager.showShopSkinScreen(Ei.getInstance())},forceShowShopBtns:function(){this.shopBtn.visible=!0,Ci.shopSkinBtn.btnBg.visible=!0,Ci.shopSkinBtn.hero.visible=!0},__class__:Ci});var Ei=function(){this.state=0,this.confirmationScreenShowed=!1,V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),Ei.instance=this,Ei.gemsHud=new Ht,Ei.coinsHud=new Gt,Ei.scoreHud=new Xt(!0),Ei.livesHud=new Ut,Ei.levelHud=new Wt(!0),Ei.bgLevel=new Li,Ei.bgLevel.level=new de,Ei.bgLevel.level.createGridArray(),Ei.bgLevel.level.drawOnGrid(0,0,48,22,-1),Ei.bgLevel.level.drawOnGrid(2,0,44,20,0),Ei.bgLevel.level.drawOnGrid(2,0,44,1,1),Ei.bgLevel.level.drawOnGrid(2,20,44,1,1),Ei.bgLevel.level.drawOnGrid(2,0,1,20,1),Ei.bgLevel.level.drawOnGrid(45,0,1,20,1),Ei.bgLevel.level.createCeil(2,44,0),Ei.levelY=(zi.game.height-1*Nt.HEIGHT_BOTTOM-X.screenOffsetY+(X.screenOffsetY+1*Nt.HEIGHT_TOP))/2-1*(q.VISIBLE_LEVEL_HEIGHT-12)*16/2|0,Ei.bgLevel.create_(Q.GRID_X,Ei.levelY),this.add(Ei.bgLevel),this.title=new at,C.loadGraphicFromTexture(this.title,X.t2,"title.png"),X.setScale(this.title),this.add(this.title),this.torch1=new Ai,this.add(this.torch1),this.torch2=new Ai,this.add(this.torch2),this.add(Ei.coinsHud.txt),this.add(Ei.scoreHud.txt),this.add(Ei.livesHud.txt),this.add(Ei.levelHud.txt),this.add(Ei.gemsHud.txt),this.add(Ei.levelHud.staticTxt),this.add(Ei.scoreHud.staticTxt),this.add(Ei.coinsHud.coin),Ei.livesHud.addHeartsTo(this),this.add(Ei.gemsHud.gem),this.screens=[],this.screens[0]=new Ci,this.state=0,this.onGameResize()};e["com.drderico.towerd.ui.TitleScreen"]=Ei,Ei.__name__=["com","drderico","towerd","ui","TitleScreen"],Ei.__interfaces__=[Dt],Ei.getInstance=function(){return null==Ei.instance&&(Ei.instance=new Ei),Ei.instance},Ei.__super__=V,Ei.prototype=s(V.prototype,{_onBackBtnPressed:function(){X.onBtnClicked(this.backBtn,Ms(this,this.onBackBtnPressed1))},onBackBtnPressed1:function(){this.onBackBtnPressed()},show:function(){j.reset(),zi.get_camera().follow(null),zi.get_camera().setPosition(0,0),zi.get_camera().flash(0,600,!0),this.title.y=Ei.TITLE_Y,rs.tween(this.title,{y:Ei.TITLE_Y-6},1.3,{type:5},null),this.confirmationScreenShowed=!1,this.switchScreen(0),this.backBtnExecutionReady=!0,this.updateValues(),J.cleanGarbage(),Q.cleanGarbage()},switchScreen:function(t){this.remove(this.screens[this.state],!1,!0),this.state=t,this.add(this.screens[this.state],!0),this.screens[this.state].show()},onBackBtnPressed:function(t){if(null==t&&(t=!1),this.backBtnExecutionReady)switch(t&&j.click(),this.state){case 0:break;case 1:this.backToMainMenu()}},showExitConfirmScreen:function(){var t=this;z.save(),W.sceneManager.showConfirmScreen(this,X.tongue.get("$QUIT_THE_GAME"),function(){t.onExitConfirmed()})},onExitConfirmed:function(){},backToMainMenu:function(){this.switchScreen(0),this.hideBackBtn()},updateValues:function(){Ei.gemsHud.updateText(!1),Ei.livesHud.updateLives(!0,z.heroLivesMax.get_value()),Ei.coinsHud.updateText(!1),Ei.scoreHud.updateText(!1,!0),Ei.levelHud.updateText(z.bestLevel.get_value())},update:function(){V.prototype.update.call(this),Ei.needUpdateValues&&(this.updateValues(),Ei.needUpdateValues=!1,W.changeBgColor(),W.sceneManager.showConfirmScreen(Ei.getInstance(),X.tongue.get("$GOOGLE_SAVE_LOADED"),null,!1),K.shopSkinScreen.updateAllValues(),Es.__cast(this.screens[0],Ci).forceShowShopBtns()),Ei.needUpdateBestScore&&(Ei.needUpdateBestScore=!1,Ei.scoreHud.updateText(!1,!0))},showBackBtn:function(){},hideBackBtn:function(){},onHide:function(){},destroy:function(t,e){},onGameResize:function(){if(null!=this.screens){X.setPosUsingCenter(this.title,zi.game.width/2,Ei.levelY+96),Ei.TITLE_Y=this.title.y,this.torch1.x=zi.game.width/2-200,this.torch2.x=zi.game.width/2+200,this.torch1.y=this.title.y+50,this.torch2.y=this.title.y+50;var t=0;t=zi.game.width/2-380,Ei.levelHud.setPosition(t,0*X.screenOffsetY+10),t=Ei.levelHud.cameraOffset.x+180,Ei.scoreHud.setPosition(t,Ei.levelHud.cameraOffset.y),Ei.coinsHud.setPosition(zi.game.width/2+25,Ei.scoreHud.cameraOffset.y),Ei.gemsHud.setPosition(zi.game.width/2+150,Ei.scoreHud.cameraOffset.y),Ei.livesHud.setPosition(zi.game.width/2+264,Ei.scoreHud.cameraOffset.y+2),Es.__cast(this.screens[0],Ci).onGameResize(),Ei.levelY=(zi.game.height-1*Nt.HEIGHT_BOTTOM-X.screenOffsetY+(X.screenOffsetY+1*Nt.HEIGHT_TOP))/2-1*(q.VISIBLE_LEVEL_HEIGHT-12)*16/2|0,Ei.bgLevel.onGameResize(Q.GRID_X,Ei.levelY)}},__class__:Ei});var Bi=function(){V.call(this),this.set_active(!1),this.map=new os(null,8,8,1,1),this.map.addTilesetImage("t",X.wmap,8,8)};e["com.drderico.towerd.ui.WindowBg"]=Bi,Bi.__name__=["com","drderico","towerd","ui","WindowBg"],Bi.__super__=V,Bi.prototype=s(V.prototype,{show:function(t,e,i,s){null==i&&(i=zi.game.width/2),null==s&&(s=240),this.create_(t,e),this.position.set(i-this.width/2+X.screenOffsetX,s-this.height/2+X.screenOffsetY)},create_:function(t,e){var i=t/8|0,s=e/8|0;if(this.map.width!=i||this.map.height!=s){this.removeAll(!1),this.layer=this.map.create("0",i,s,8,8,this),this.layer.resize(8*i,8*s),this.map.fill(0,0,0,i,s,0),this.layer.renderSettings.enableScrollDelta=!1,this.layer.scale.set(1,1);for(var n=0,o=s;n<o;)for(var r=n++,a=0,l=i;a<l;){var h=a++;0==h?this.map.layers[0].data[r][h].index=1:h==i-1&&(this.map.layers[0].data[r][h].index=2),0==r?this.map.layers[0].data[r][h].index=4:r==s-1&&(this.map.layers[0].data[r][h].index=3)}this.map.putTile(5,0,0,0),this.map.putTile(5,i-1,0,0),this.map.putTile(5,0,s-1,0),this.map.putTile(5,i-1,s-1,0)}},destroy:function(t,e){},__class__:Bi});var Li=function(){V.call(this),this.gridMapArray=[],null==Li.gridMapArrayForWalls&&(Li.gridMapArrayForWalls=[]);for(var t=0;t<30;){var e=t++;this.gridMapArray[e]=[],Li.gridMapArrayForWalls[e]=[];for(var i=0;i<56;){var s=i++;this.gridMapArray[e][s]=0,Li.gridMapArrayForWalls[e][s]=0}}this.gridMap=new os,this.gfx=new V,this.gridMapGroup=new V,this.bg=new He,this.add(this.bg),this.add(this.gfx),this.add(this.gridMapGroup)};e["com.drderico.towerd.ui.decor.TitleLevelGroup"]=Li,Li.__name__=["com","drderico","towerd","ui","decor","TitleLevelGroup"],Li.__super__=V,Li.prototype=s(V.prototype,{create_:function(t,e){Q.clearGroup(this.gfx),this.x=t,this.y=e,this.placeChains(),this.placeWebs(),this.createTileMapGfx(),this.bg.change(48,22,z.envSetting.get_value())},placeWebs:function(){var t=null;zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+48,0*this.y+16),t.set_flipX(!0),this.gfx.add(t)),zi.random.float(0,100)<50&&((t=yi.get()).reset_(0*this.x+Math.round(720)-Math.floor(t.width),0*this.y+16),t.set_flipX(!1),this.gfx.add(t))},placeChains:function(){for(var t=0,e=this.level.ceilParts;t<e.length;){var i=e[t];if(++t,zi.random.float(0,100)<70){var s=si.get(z.envSetting.get_value());s.reset_(0*this.x+16*zi.random.int(i.x+2,i.x+i.width-3),0*this.y+16*(i.y+1)),this.gfx.add(s)}}},destroy:function(t,e){},drawOnGrid:function(t,e,i,s,n){null==n&&(n=0);for(var o=e,r=e+s;o<r;)for(var a=o++,l=t,h=t+i;l<h;){var c=l++;this.gridMapArray[a][c]=n}},createTileMapGfx:function(){for(var t=0;t<30;)for(var e=t++,i=0;i<56;){var s=i++;Li.gridMapArrayForWalls[e][s]=-1,this.gridMapArray[e][s]=1}for(var n=0,o=0;o<22;)for(var r=o++,a=0;a<48;){var l=a++;switch(n=this.level.grid[r][l]){case 0:n=0;break;case 1:break;case 2:n=2;break;case 3:n=44;break;case 4:n=43}Li.gridMapArrayForWalls[r+4][l+4]=n}for(var h=0,c=0,_=0,u=0,d=0,p=0,g=0,f=0,m=0,v=1;v<29;)for(var y=v++,x=1;x<55;){var w=x++;1==(h=Li.gridMapArrayForWalls[y][w])&&(c=Li.gridMapArrayForWalls[y-1][w-1],_=Li.gridMapArrayForWalls[y-1][w],u=Li.gridMapArrayForWalls[y-1][w+1],d=Li.gridMapArrayForWalls[y][w-1],p=Li.gridMapArrayForWalls[y][w+1],g=Li.gridMapArrayForWalls[y+1][w-1],f=Li.gridMapArrayForWalls[y+1][w],m=Li.gridMapArrayForWalls[y+1][w+1],-1==c&&-1==_&&-1==d&&1==p&&1==f&&-1!=m?this.gridMapArray[y][w]=zi.random.float(0,100)<50?17:21:-1==_&&1==d&&1==p&&0==f?this.gridMapArray[y][w]=zi.random.int(6,8):-1!=c&&1==_&&-1==u&&-1!=d&&1==p&&0==g&&0==f&&0==m?this.gridMapArray[y][w]=25:-1==c&&1==_&&-1!=u&&1==d&&-1!=p&&0==g&&0==f&&0==m?this.gridMapArray[y][w]=26:-1==c&&-1==_&&-1==u&&1==d&&-1==p&&-1!=g&&1==f?this.gridMapArray[y][w]=zi.random.float(0,100)<50?18:22:1==_&&-1==d&&-1!=p&&1==f?this.gridMapArray[y][w]=zi.random.int(9,11):1==_&&-1!=d&&-1==p&&1==f?this.gridMapArray[y][w]=zi.random.int(12,14):-1!=_&&-1!=u&&1==d&&1!=p&&1==f&&-1!=m?this.gridMapArray[y][w]=24:-1!=c&&-1!=_&&1!=d&&1==p&&-1!=g&&1==f&&-1==m?this.gridMapArray[y][w]=23:-1==f&&1==d&&1==p&&-1!=_?this.gridMapArray[y][w]=zi.random.int(3,5):1==_&&-1!=u&&-1==d&&1==p&&-1==f?this.gridMapArray[y][w]=zi.random.float(0,100)<50?15:19:-1!=c&&1==_&&1==d&&-1==p&&-1==f&&(this.gridMapArray[y][w]=zi.random.float(0,100)<50?16:20))}for(var b=0;b<30;)for(var T=b++,S=0;S<56;){var I=S++;if(1==(h=Li.gridMapArrayForWalls[T][I])){this.gridMapArray[T][I-1]=zi.random.int(31,32),zi.random.float(0,100)<70&&(this.gridMapArray[T][I-2]=zi.random.int(39,39));break}}for(var k=0;k<30;)for(var F=k++,P=0;P<56;){var C=55-P++;if(1==(h=Li.gridMapArrayForWalls[F][C])){this.gridMapArray[F][C+1]=zi.random.int(33,33),zi.random.float(0,100)<70&&(this.gridMapArray[F][C+2]=zi.random.int(41,41));break}}for(var E=0;E<56;)for(var B=E++,L=0;L<30;){var A=L++;if(1==(h=Li.gridMapArrayForWalls[A][B])){this.gridMapArray[A-1][B]=zi.random.int(29,30),zi.random.float(0,100)<70&&(this.gridMapArray[A-2][B]=zi.random.int(37,37));break}}for(var O=0;O<56;)for(var M=O++,G=0;G<30;){var H=29-G++;if(1==(h=Li.gridMapArrayForWalls[H][M])){this.gridMapArray[H+1][M]=zi.random.int(27,27),zi.random.float(0,100)<70&&(this.gridMapArray[H+2][M]=zi.random.int(35,35));break}}for(var D=0;D<30;)for(var N=D++,R=0;R<56;){var W=R++;1!=(h=Li.gridMapArrayForWalls[N][W])&&-1!=h&&(0==h&&(h=0),this.gridMapArray[N][W]=h)}this.changeWallsColor(),this.gridMapGroup.x=-64,this.gridMapGroup.y=-64},changeWallsColor:function(t){if(null==t&&(t=!1),this.gridMap.addTilesetImage("tileset",H.MAP_TEXTURES[z.envSetting.get_value()],16,16),Li.firstDraw){this.gridMapGroup.removeAll();var e=this.gridMapArray[0].length,i=this.gridMapArray.length,s=this.gridMap.create("layer",e,i,16,16,this.gridMapGroup);s.resize(16*e,16*i),s.scale.set(1,1);for(var n=0,o=this.gridMapArray.length;n<o;)for(var r=n++,a=0,l=this.gridMapArray[0].length;a<l;){var h=a++;this.gridMap.layers[0].data[r][h].index=this.gridMapArray[r][h]}Li.firstDraw=!1}if(this.gridMap.layers[0].dirty=!0,t){this.bg.change(48,22,z.envSetting.get_value());for(var c=0,_=this.gfx.children;c<_.length;){var u=_[c];++c,Es.__instanceof(u,si)&&Es.__cast(u,si).changeLook(z.envSetting.get_value())}}},onGameResize:function(t,e){this.x=t,this.y=e},__class__:Li});var Ai=function(){V.call(this);var t=new at;C.loadGraphicFromTexture(t,X.t2,"torch0001.png"),X.setScale(t),t.animation.addByNames("1",["torch0001.png","torch0002.png","torch0003.png","torch0004.png","torch0005.png"],12),X.setPosUsingCenter(t),t.animation.play("1"),t.set_moves(!1),this.add(t),t=new at,C.loadGraphicFromTexture(t,X.t2,"fakel_light0001.png"),X.setScale(t),t.animation.addByNames("1",["fakel_light0001.png","fakel_light0002.png"],12),X.setPosUsingCenter(t,0,-0),t.animation.play("1"),t.blendMode=PIXI.blendModes.ADD,t.set_moves(!1),this.add(t)};e["com.drderico.towerd.ui.decor.Torch"]=Ai,Ai.__name__=["com","drderico","towerd","ui","decor","Torch"],Ai.__super__=V,Ai.prototype=s(V.prototype,{__class__:Ai});var Oi=function(t,e,i){at.call(this),this.set_moves(!1),this.fixedToCamera=!0,C.loadGraphicFromTexture(this,X.t2,H.HERO_SKIN_TEXTURES[t][0][0]),this.animation.addByNames("1",[H.HERO_SKIN_TEXTURES[t][0][0],H.HERO_SKIN_TEXTURES[t][0][1]],6),X.setScale(this),this.setPosition(e-this.width/2,i-this.height)};e["com.drderico.towerd.ui.shop.HeroSkinSprite"]=Oi,Oi.__name__=["com","drderico","towerd","ui","shop","HeroSkinSprite"],Oi.__super__=at,Oi.prototype=s(at.prototype,{activate:function(){this.animation.play("1",!0)},deactivate:function(){null!=this.animations.currentAnim&&this.animations.currentAnim.stop(!0)},__class__:Oi});var Mi=function(t,e){V.call(this),this.scale.set(1,1),this._cb=e,this.btnBg=new Ye(0,0,Ms(this,this.onBtnPressed),this),this.btnBg.ID=t,C.loadGraphicFromTexture(this.btnBg,X.t2,"shop_buy_btn.png"),X.setScale(this.btnBg);this.btnBg;switch(X.setPosUsingCenter(this.btnBg,-this.btnBg.width/2-13,0),this.add(this.btnBg),this.addedValue=X.getText(),t){case 0:case 1:this.addedValue.text=X.tongue.get("$PLUS_2_SECONDS");break;case 2:this.addedValue.text=X.tongue.get("$PLUS_1_LIFE")}X.setScale(this.addedValue),X.setPosUsingCenter(this.addedValue,this.btnBg.x+this.btnBg.width/2,this.btnBg.y+14),this.addedValue.fixedToCamera=!0,this.add(this.addedValue),this.price=X.getText(),this.price.text="300",X.setScale(this.price),X.setPosUsingCenter(this.price,this.btnBg.x+this.btnBg.width/2+15,this.btnBg.y+this.btnBg.height-28),this.add(this.price),this.coin=new at,C.loadGraphicFromTexture(this.coin,X.t2,2==t?"gem_shop.png":"coin_shop.png"),X.setScale(this.coin),2==t?this.coin.setPosition(this.price.x-28,this.price.y+2):this.coin.setPosition(this.price.x-28,this.price.y+3),this.price.fixedToCamera=!0,this.coin.fixedToCamera=!0,this.add(this.coin)};e["com.drderico.towerd.ui.shop.ShopButton"]=Mi,Mi.__name__=["com","drderico","towerd","ui","shop","ShopButton"],Mi.__super__=V,Mi.prototype=s(V.prototype,{onBtnPressed:function(t){j.click(),M.scaleUpDown(this,Ms(this,this._onBtnPressed),1.2,.025,0,null,this)},_onBtnPressed:function(t){null!=this._cb&&this._cb(this.btnBg)},__class__:Mi});var Gi=function(){this.valueDescs=[],this.itemDescs=[],this.itemTitles=[],this.itemIcons=[],this.itemBgs=[],V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),this.btns=[],this.values=[],this.bg=new Bi,this.add(this.bg),this.bg.show(592,384),this.bg.y-=15,this.text=X.getText(32,"center"),this.text.text=X.tongue.get("$SHOP_TITLE"),this.text.tint=3269886,X.setScale(this.text),X.setPosUsingCenter(this.text,zi.game.width/2,this.bg.y+38),this.text.fixedToCamera=!0,this.add(this.text);for(var t=0;t<3;){var e=t++,i=new at;C.loadGraphicFromTexture(i,X.t2,"shop_item_bg.png"),X.setScale(i),i.set_active(!1),X.setPosUsingCenter(i,zi.game.width/2,zi.game.height/2-90+100*e*1),i.fixedToCamera=!0,this.add(i),this.itemBgs.push(i),this.btns[e]=new Mi(e,Ms(this,this.onBuyBtnPressed)),this.btns[e].x=i.x+i.width,this.btns[e].y=i.y+i.height/2,this.add(this.btns[e]);var s=new at;switch(e){case 0:C.loadGraphicFromTexture(s,X.t2,"shop_magnet.png");break;case 1:C.loadGraphicFromTexture(s,X.t2,"shop_shield.png");break;case 2:C.loadGraphicFromTexture(s,X.t2,"shop_lives.png")}X.setScale(s),s.set_active(!1),X.setPosUsingCenter(s,i.x+s.width/2+13,i.y+i.height/2),s.fixedToCamera=!0,this.add(s),this.itemIcons.push(s);var n=X.getText(H.DEFAULT_TEXT_SIZE);switch(e){case 0:n.text=X.tongue.get("$SHOP_MAGNET_ITEM_NAME");break;case 1:n.text=X.tongue.get("$SHOP_SHIELD_ITEM_NAME");break;case 2:n.text=X.tongue.get("$LIVES_ITEM_NAME")}X.setScale(n),n.setPosition(s.x+s.width+13,s.y+2),n.fixedToCamera=!0,n.width>320&&(n.scale.x*=320/n.width),this.add(n),this.itemTitles.push(n);var o=X.getText();switch(e){case 0:case 1:o.text=X.tongue.get("$SHOP_ACTION_TIME");break;case 2:o.text=X.tongue.get("$SHOP_LIVES_AMOUNT")}if(X.setScale(o),o.setPosition(s.x+s.width+13,n.y+n.height+10),o.fixedToCamera=!0,this.add(o),this.itemDescs.push(o),this.values[e]=X.getText(24),this.values[e].setPosition(o.x+o.width+10,o.y-2),this.values[e].tint=3269886,this.values[e].text="300",X.setScale(this.values[e]),this.values[e].fixedToCamera=!0,this.add(this.values[e]),2!=e){var r=X.getText();r.text=X.tongue.get("$SECONDS"),X.setScale(r),r.setPosition(this.values[e].x+40,o.y),r.fixedToCamera=!0,this.add(r),this.valueDescs.push(r)}}Gi.closeBtn=new Ye(0,0,Ms(this,this.onBackBtnPressed),this),C.loadGraphicFromTexture(Gi.closeBtn,X.t,"closeBtn.png");Gi.closeBtn;X.setScale(Gi.closeBtn,.8,!0),Gi.closeBtn.y=this.bg.y+10|0,Gi.closeBtn.x=zi.game.width/2+290|0,Gi.closeBtn.fixedToCamera=!0,this.add(Gi.closeBtn)};e["com.drderico.towerd.ui.shop.ShopScreen"]=Gi,Gi.__name__=["com","drderico","towerd","ui","shop","ShopScreen"],Gi.__super__=V,Gi.prototype=s(V.prototype,{onBuyBtnPressed:function(t){var e=this;switch(this.btnID=t.ID,this.itemPrice=0,this.btnID){case 0:this.itemPrice=$.getItemPrice(z.magnetLevel.get_value()),z.coins.get_value()>=this.itemPrice?W.sceneManager.showConfirmScreen(this,Yi.flags(X.tongue.get("$BUY_MAGNET_CONFIRM"),["<X>"],[h.string(this.itemPrice)]),function(){e.onBuyConfirmed()}):W.sceneManager.showNotEnoughCoins(this);break;case 1:this.itemPrice=$.getItemPrice(z.invulnerabilityLevel.get_value()),z.coins.get_value()>=this.itemPrice?W.sceneManager.showConfirmScreen(this,Yi.flags(X.tongue.get("$BUY_SHIELD_CONFIRM"),["<X>"],[h.string(this.itemPrice)]),function(){e.onBuyConfirmed()}):W.sceneManager.showNotEnoughCoins(this);break;case 2:this.itemPrice=this.getHealthPrice(),z.gems.get_value()>=this.itemPrice?W.sceneManager.showConfirmScreen(this,Yi.flags(X.tongue.get("$BUY_HEALTH_CONFIRM"),["<X>"],[h.string(this.itemPrice)]),function(){e.onBuyConfirmed()}):W.sceneManager.showConfirmScreen(this,X.tongue.get("$NOT_ENOUGH_GEMS_TO_BUY"),null,!1)}},onBuyConfirmed:function(){switch(this.btnID){case 0:var t=z.magnetLevel,e=t.get_value();t.set_value(e+1);var i=z.coins;i.set_value(i.get_value()-this.itemPrice),Ei.coinsHud.updateText(!1);break;case 1:var s=z.invulnerabilityLevel,n=s.get_value();s.set_value(n+1);var o=z.coins;o.set_value(o.get_value()-this.itemPrice),Ei.coinsHud.updateText(!1);break;case 2:var r=z.heroLivesMax,a=r.get_value();r.set_value(a+1),Ei.livesHud.updateLives(!1,z.heroLivesMax.get_value());var l=z.gems;l.set_value(l.get_value()-this.itemPrice),Ei.gemsHud.updateText(!1)}j.powerup_pickup(),this.updateValues(),z.save(),zi.get_camera().flash(16777215,500)},onBackBtnPressed:function(t){X.onBtnClicked(Gi.closeBtn,Ms(As=W.sceneManager,As.hideShopScreen))},show:function(){this.onGameResize(),Gi.isVisible=!0,this.enableInput(),Gi.closeBtn.scale.set(.1,.1);var t=Gi.closeBtn.scale,e=Phaser.Easing.Bounce.Out;rs.tween(t,{y:.8,x:.8},.3,{ease:e},null),this.updateValues()},onGameResize:function(){this.bg.x=zi.game.width/2-this.bg.width/2,this.text.fixedToCamera=!1,X.setPosUsingCenter(this.text,zi.game.width/2,this.bg.y+38),this.text.fixedToCamera=!0;for(var t=0;t<3;){var e=t++,i=this.itemBgs[e];i.fixedToCamera=!1,X.setPosUsingCenter(i,zi.game.width/2,zi.game.height/2-90+100*e*1),i.fixedToCamera=!0,this.btns[e].x=i.x+i.width,this.btns[e].y=i.y+i.height/2;var s=this.itemIcons[e];s.fixedToCamera=!1,X.setPosUsingCenter(s,i.x+s.width/2+13,i.y+i.height/2),s.fixedToCamera=!0;var n=this.itemTitles[e];n.fixedToCamera=!1,n.setPosition(s.x+s.width+13,s.y+2),n.fixedToCamera=!0;var o=this.itemDescs[e];if(o.fixedToCamera=!1,o.setPosition(s.x+s.width+13,n.y+n.height+10),o.fixedToCamera=!0,this.values[e].fixedToCamera=!1,this.values[e].setPosition(o.x+o.width+10,o.y-2),this.values[e].fixedToCamera=!0,2!=e){var r=this.valueDescs[e];r.fixedToCamera=!1,r.setPosition(this.values[e].x+40,o.y),r.fixedToCamera=!0}}Gi.closeBtn.fixedToCamera=!1,Gi.closeBtn.y=this.bg.y+10|0,Gi.closeBtn.x=zi.game.width/2+290|0,Gi.closeBtn.fixedToCamera=!0},updateValues:function(){var t=$.getItemDuration(z.magnetLevel.get_value());this.values[0].text=h.string(t);var e=$.getItemDuration(z.invulnerabilityLevel.get_value());if(this.values[1].text=h.string(e),99==z.heroLivesMax.get_value())this.btns[2].set_active(!1),this.btns[2].visible=!1,this.btns[2].btnBg.set_disabled(!0);else{var i=this.getHealthPrice();this.btns[2].price.text=h.string(i)}var s=z.heroLivesMax.get_value();this.values[2].text=h.string(s);var n=$.getItemPrice(z.magnetLevel.get_value());this.btns[0].price.text=h.string(n);var o=$.getItemPrice(z.invulnerabilityLevel.get_value());this.btns[1].price.text=h.string(o)},getHealthPrice:function(){return 25+25*(z.heroLivesMax.get_value()-3)},__class__:Gi});var Hi=function(t,e,i,s){V.call(this),this._cb=e,this.btnBg=new Ye(0,0,Ms(this,this.onBtnPressed),this),this.btnBg.ID=t,C.loadGraphicFromTexture(this.btnBg,X.t2,"hero_item_ramka0002.png"),X.setScale(this.btnBg),X.setPosUsingCenter(this.btnBg,i-this.btnBg.width/2-13,s),this.btnBg.fixedToCamera=!0,this.add(this.btnBg),this.priceBg=new at,this.priceBg.set_active(!1),C.loadGraphicFromTexture(this.priceBg,X.t2,"hero_item_price_bg.png"),X.setScale(this.priceBg),X.setPosUsingCenter(this.priceBg,this.btnBg.x+this.btnBg.width/2,this.btnBg.y+this.btnBg.height+4),this.priceBg.fixedToCamera=!0,this.add(this.priceBg),this.price=X.getText(16),this.price.fixedToCamera=!0,this.price.text="200",X.setScale(this.price),X.setPosUsingCenter(this.price,this.priceBg.x+this.priceBg.width/2+8,this.priceBg.y+this.priceBg.height/2-5),this.price.fixedToCamera=!0,this.add(this.price),this.coin=new at,C.loadGraphicFromTexture(this.coin,X.t2,"coin_shop.png"),X.setScale(this.coin,.8),this.coin.set_active(!1),this.coin.setPosition(this.priceBg.x+7,this.price.y+3),this.coin.fixedToCamera=!0,this.add(this.coin),this.hero=new Oi(t,this.btnBg.x+this.btnBg.width/2,s+26),this.hero.fixedToCamera=!0,this.add(this.hero),this.updateBgView(),this.updatePos(i,s)};e["com.drderico.towerd.ui.shop.ShopSkinButton"]=Hi,Hi.__name__=["com","drderico","towerd","ui","shop","ShopSkinButton"],Hi.__super__=V,Hi.prototype=s(V.prototype,{updatePos:function(t,e){this.btnBg.fixedToCamera=!1,X.setPosUsingCenter(this.btnBg,t-this.btnBg.width/2-13,e),this.btnBg.fixedToCamera=!0,this.priceBg.fixedToCamera=!1,X.setPosUsingCenter(this.priceBg,this.btnBg.x+this.btnBg.width/2,this.btnBg.y+this.btnBg.height+4),this.priceBg.fixedToCamera=!0,this.price.fixedToCamera=!1,X.setPosUsingCenter(this.price,this.priceBg.x+this.priceBg.width/2+8,this.priceBg.y+this.priceBg.height/2-5),this.price.fixedToCamera=!0,this.coin.fixedToCamera=!1,this.coin.setPosition(this.priceBg.x+7,this.price.y+3),this.coin.fixedToCamera=!0,this.hero.fixedToCamera=!1,this.hero.x=this.btnBg.x+this.btnBg.width/2-this.hero.width/2,this.hero.y=e+26-this.hero.height,this.hero.fixedToCamera=!0},updateBgView:function(){if(z.isSkinAvailable(this.btnBg.ID)){C.loadGraphicFromTexture(this.btnBg,X.t2,"hero_item_ramka0002.png");this.btnBg;null!=this.priceBg&&(this.priceBg.visible=!1,this.price.visible=!1,this.coin.visible=!1)}else{C.loadGraphicFromTexture(this.btnBg,X.t2,"hero_item_ramka0001.png");this.btnBg;null!=this.priceBg&&(this.priceBg.visible=!0,this.price.visible=!0,this.coin.visible=!0,this.price.text=h.string(Ni.skinPriceStr))}z.heroSkin.get_value()==this.btnBg.ID?this.hero.activate():this.hero.deactivate(),X.setScale(this.btnBg)},onBtnPressed:function(t){t.ID!=z.heroSkin.get_value()&&(j.click(),M.scaleUpDown(this.btnBg,Ms(this,this._onBtnPressed),1.1,.025,0,null,this),M.scaleUpDown(this.hero,null,1.1))},_onBtnPressed:function(t){null!=this._cb&&this._cb(this.btnBg)},__class__:Hi});var Di=function(t,e){this.heroMiddleY=0,this.heroMiddleX=0,this._context=e,this._cb=t,this.btnBg=new Ye(0,0,Ms(this,this.onBtnPressed),e),C.loadGraphicFromTexture(this.btnBg,X.t2,"shop_skins_btn.png");this.btnBg;X.setScale(this.btnBg),X.setPosUsingCenter(this.btnBg,0,0),this.hero=new at,this.hero.set_moves(!1),C.loadGraphicFromTexture(this.hero,X.t,H.HERO_SKIN_TEXTURES[0][1][0]),X.setScale(this.hero),this.hero.set_flipX(!0)};e["com.drderico.towerd.ui.shop.ShopSkinButtonInMainMenu"]=Di,Di.__name__=["com","drderico","towerd","ui","shop","ShopSkinButtonInMainMenu"],Di.prototype={updateHeroView:function(){this.hero.animation.remove("1");var t=z.heroSkin.get_value();this.hero.animation.addByNames("1",[H.HERO_SKIN_TEXTURES[t][1][0],H.HERO_SKIN_TEXTURES[t][1][1]],6),X.setPosUsingCenter(this.hero,this.heroMiddleX,this.heroMiddleY),this.hero.x+=1*Di.offsetsWalk[t][1],this.hero.y+=1*Di.offsetsWalk[t][2],this.hero.animation.play("1",!0)},setPos:function(t,e){this.heroMiddleX=t,this.heroMiddleY=e,X.setPosUsingCenter(this.btnBg,t,e),this.updateHeroView()},onBtnPressed:function(t){j.click(),M.scaleUpDown(this.btnBg,this._cb,1.2,.025,0,null,this._context),M.scaleUpDown(this.hero)},__class__:Di};var Ni=function(){V.call(this),K.onGameResizeSignal.add(Ms(this,this.onGameResize),this),this.btns=[],this.skinPrice=new B,this.bg=new Bi,this.add(this.bg),this.bg.show(736,384),this.bg.y-=15,this.title=X.getText(32,"center"),this.title.text=X.tongue.get("$SHOP_SKINS_TITLE"),this.title.tint=3269886,X.setScale(this.title),X.setPosUsingCenter(this.title,zi.game.width/2,this.bg.y+38),this.add(this.title);for(var t=170+0*X.screenOffsetY,e=zi.game.width/2-349,i=e,s=0;s<12;){var n=s++;this.btns[n]=new Hi(n,Ms(this,this.onSkinBtnPressed),i+118,t),this.add(this.btns[n]),5==n?(i=e,t+=136):i+=118}Ni.closeBtn=new Ye(0,0,Ms(this,this.onBackBtnPressed),this),C.loadGraphicFromTexture(Ni.closeBtn,X.t,"closeBtn.png");Ni.closeBtn;X.setScale(Ni.closeBtn,.8,!0),Ni.closeBtn.y=this.bg.y+10|0,Ni.closeBtn.x=zi.game.width/2+362|0,this.add(Ni.closeBtn)};e["com.drderico.towerd.ui.shop.ShopSkinsScreen"]=Ni,Ni.__name__=["com","drderico","towerd","ui","shop","ShopSkinsScreen"],Ni.__super__=V,Ni.prototype=s(V.prototype,{onSkinBtnPressed:function(t){var e=this;if(this.btnID=t.ID,z.isSkinAvailable(this.btnID)){var i=z.heroSkin.get_value();z.heroSkin.set_value(this.btnID),this.btns[i].updateBgView(),this.btns[z.heroSkin.get_value()].updateBgView(),Ci.shopSkinBtn.updateHeroView()}else z.coins.get_value()>=this.skinPrice.get_value()?W.sceneManager.showConfirmScreen(this,Yi.flags(X.tongue.get("$SHOP_SKIN_BUY_CONFIRM"),["<X>"],[Ni.skinPriceStr]),function(){e.onBuyConfirmed()}):W.sceneManager.showNotEnoughCoins(this)},onBuyConfirmed:function(){z.buySkin(this.btnID);var t=z.coins;t.set_value(t.get_value()-this.skinPrice.get_value()),this.updateAllValues(),j.powerup_pickup(),this.btns[this.btnID].updateBgView(),Ei.coinsHud.updateText(!1),z.save(),zi.get_camera().flash(16777215,500,!0)},onBackBtnPressed:function(t){X.onBtnClicked(Ni.closeBtn,Ms(As=W.sceneManager,As.hideShopSkinScreen))},show:function(){Ni.isVisible=!0,Ni.closeBtn.scale.set(.1,.1);var t=Ni.closeBtn.scale,e=Phaser.Easing.Bounce.Out;rs.tween(t,{y:.8,x:.8},.3,{ease:e},null),this.updateAllValues(),this.onGameResize()},updateValues:function(){for(var t=0;t<12;){var e=t++;this.btns[e].updateBgView()}},getSkinPrice:function(){for(var t=0,e=0;e<12;){var i=e++;z.isSkinAvailable(i)&&++t}return 50+50*t},updateSkinPrice:function(){this.skinPrice.set_value(this.getSkinPrice()),Ni.skinPriceStr=h.string(this.skinPrice.get_value())},updateAllValues:function(){this.updateSkinPrice(),this.updateValues()},onGameResize:function(){this.bg.x=zi.game.width/2-this.bg.width/2,X.setPosUsingCenter(this.title,zi.game.width/2,this.bg.y+38);for(var t=170+0*X.screenOffsetY,e=zi.game.width/2-349,i=e,s=0;s<12;){var n=s++;this.btns[n].updatePos(i+118,t),5==n?(i=e,t+=136):i+=118}Ni.closeBtn.y=this.bg.y+10|0,Ni.closeBtn.x=zi.game.width/2+362|0},__class__:Ni});var Ri=function(t,e,i){null==i&&(i=!0),null==e&&(e=","),this._delimeter="",this._delimeter=e,this._quoted=i,""!=t&&this.processRows(this.getRows(t))};e["firetongue.CSV"]=Ri,Ri.__name__=["firetongue","CSV"],Ri.prototype={destroy:function(){this.clearArray(this.grid),this.clearArray(this.fields),this.grid=null,this.fields=null},clearArray:function(t){if(null!=t){for(var e=t.length-1;e>=0;)this.destroyThing(t[e]),t[e]=null,t.splice(e,1),--e;t=null}},destroyThing:function(t){null!=t&&(t instanceof Array&&null==t.__enum__&&this.clearArray(t),t=null)},getCells:function(t){return null==this._rgx&&(t.charAt(t.length-1)==this._delimeter&&(t=o.substr(t,0,t.length-1)),","==this._delimeter?this._rgx=new n(",(?=(?:[^\\x22]*\\x22[^\\x22]*\\x22)*(?![^\\x22]*\\x22))","gm"):this._rgx=new n(this._delimeter+'(?=(?:[^"]*"[^"]*")*(?![^"]*"))',"gm")),this._rgx.split(t)},getRows:function(t){var e="\r\n";return-1==t.indexOf("\r\n")&&(e="\n"),t.split(e)},processCells:function(t,e){null==e&&(e=0);var i=null;null==this.grid&&(this.grid=[],this.fields=[]),i=[];for(var s=0,n=t.length;s<n;){var r=s++,a="";a=this._quoted?o.substr(t[r],1,t[r].length-2):t[r],0==e?this.fields.push(a):i.push(a)}this.grid.push(i),this.clearArray(t),t=null},processRows:function(t){for(var e=0,i=t.length;e<i;){var s=e++;this.processCells(this.getCells(t[s]),s)}},__class__:Ri};var Wi=function(t,e,i,s){this.directory="./assets/locales",this.replaceMissing=!1,this.checkMissing=!1,this.filesLoaded=0,this.getter=new Xi(t,e,i,s)};e["firetongue.FireTongue"]=Wi,Wi.__name__=["firetongue","FireTongue"],Wi.prototype={clear:function(t){this.clearData(t)},init:function(t,e,i,s,n,o){null==o&&(o="assets/locales/"),null==s&&(s=!1),null==i&&(i=!1),this.locale=this.localeFormat(t),this.directory=o,this.isLoaded&&this.clearData(),this.callbackFinished=e,this.checkMissing=!1,this.replaceMissing=!1,this.locale!=Wi.defaultLocale&&(this.checkMissing=i,this.replaceMissing=s),this.checkMissing&&(this.missingFiles=[],this.missingFlags=new vs),this.startLoad()},get:function(t,e,i){null==i&&(i=!0),null==e&&(e="data");var s,n=t;if(t=t.toUpperCase(),"index"==e)return this.matchIndexString(t);var r=this.indexData;if(null==(s=null!=Us[e]?r.getReserved(e):r.h[e]))return t;var a="";try{if(null!=(a=null!=Us[t]?s.getReserved(t):s.h[t])&&""!=a){for(;-1!=a.indexOf("<RE>[");){var l=a.indexOf("<RE>["),h=a.indexOf("]"),c="",u="";if(1!=l&&-1!=h){if(u=o.substr(a,l,h+1),""==(c=a.substring(l+5,h))||null==c)break;var d=null!=Us[c]?s.getReserved(c):s.h[c];null!=d&&""!=d||!0,a=_.replace(a,u,d)}}if(0==a.indexOf("<RE>")&&-1==a.indexOf("<RE>[")){var p=!1,g=0;for(a=_.replace(a,"<RE>","");!p;){var f=null!=Us[a]?s.getReserved(a):s.h[a];null!=f&&""!=f?0!=(a=f).indexOf("<RE>")?p=!0:a=_.replace(a,"<RE>",""):(p=!0,a=f),++g>100&&(p=!0,a=f)}}var m=["<N>","<T>","<LQ>","<RQ>","<C>","<Q>"],v=["\n","\t","â€œ","â€",",",'"'];if(null!=a&&""!=a)for(var y=0,x=m.length;y<x;)for(var w=y++;-1!=a.indexOf(m[w]);)a=_.replace(a,m[w],v[w])}}catch(s){if(i)return n;throw new Cs("LocaleData.getText("+t+","+e+")")}return s=null,null==a&&i?n:a},getFont:function(t){var e="";try{var i=this.indexFont,s=null!=Us[t]?i.getReserved(t):i.h[t];null!=s&&s.hasNode.resolve("font")&&(e=s.node.resolve("font").att.resolve("replace")),""!=e&&null!=e||(e=t)}catch(i){e=t}return e},getFontSize:function(t,e){var i=e;try{var s=this.indexFont,n=null!=Us[t]?s.getReserved(t):s.h[t];if(null!=n&&n.hasNode.resolve("font")&&n.node.resolve("font").hasNode.resolve("size"))for(var o=n.node.resolve("font").nodes.resolve("size").h;null!=o;){var r=o.item;o=o.next;var a=r,l=null==e?"null":""+e;if(a.att.resolve("value")==l){var c=a.att.resolve("replace");""!=c&&null!=c&&0==(i=h.parseInt(c))&&(i=e)}}}catch(t){i=e}return i},getIcon:function(t){var e=this.indexIcons;return null!=Us[t]?e.getReserved(t):e.h[t]},getIndexString:function(t,e){null==e&&(e=""),""==e&&(e=this.locale);var i=this.indexLocales,s=null!=Us[e]?i.getReserved(e):i.h[e],n=null,o=null;if(s.hasNode.resolve("label"))for(var r=s.nodes.resolve("label").h;null!=r;){var a=r.item;r=r.next;var l=a;if(l.has.resolve("id")){var c=l.att.resolve("id");if(-1!=c.indexOf(this.locale)&&(n=l),-1!=c.indexOf(e)&&(o=l),null!=n&&null!=o)break}}switch(t){case"$LANGUAGE":if(null!=n&&n.has.resolve("language"))return n.att.resolve("language");break;case"$LANGUAGE_BILINGUAL":var _="",u="";return null!=o&&o.has.resolve("language")&&(u=o.att.resolve("language")),null!=n&&n.has.resolve("language")&&(_=n.att.resolve("language")),_==u?_:_+" ("+u+")";case"$LANGUAGE_NATIVE":if(null!=o&&o.has.resolve("language"))return o.att.resolve("language");break;case"$LANGUAGE_REGION":return this.getIndexString(e,"$LANGUAGE")+"("+this.getIndexString(e,"$REGION")+")";case"$LANGUAGE_REGION_NATIVE":return this.getIndexString(e,"$LANGUAGE_NATIVE")+"("+this.getIndexString(e,"$REGION_NATIVE")+")";case"$REGION":if(null!=n&&o.has.resolve("region"))return n.att.resolve("region");break;case"$REGION_NATIVE":if(null!=o&&o.has.resolve("region"))return o.att.resolve("region");break;case"$UI_LANGUAGE":if(o.hasNode.resolve("ui")&&o.node.resolve("ui").has.resolve("language"))return n.node.resolve("ui").att.resolve("language");break;case"$UI_REGION":if(o.hasNode.resolve("ui")&&o.node.resolve("ui").has.resolve("region"))return n.node.resolve("ui").att.resolve("region")}return h.string(t)},getNoteBody:function(t,e){try{var i=this.indexNotes,s=e+"_"+t+"_body",n=null!=Us[s]?i.getReserved(s):i.h[s];return Yi.flags(n,["$N"],["\n"])}catch(i){if(i instanceof Cs&&(i=i.val),Es.__instanceof(i,String))return"ERROR:("+e+") for ("+t+") body not found";throw i}},getNoteTitle:function(t,e){try{var i=this.indexNotes,s=e+"_"+t+"_title",n=null!=Us[s]?i.getReserved(s):i.h[s];return Yi.flags(n,["$N"],["\n"])}catch(i){if(i instanceof Cs&&(i=i.val),Es.__instanceof(i,String))return"ERROR:("+e+") for ("+t+") title not found";throw i}},clearData:function(t){if(null==t&&(t=!1),this.callbackFinished=null,null!=this.listFiles){for(;this.listFiles.length>0;)this.listFiles.pop();this.listFiles=null}this.isLoaded=!1,this.filesLoaded=0;for(var e=this.indexData.keys();e.hasNext();){var i=e.next(),s=this.indexData,n=null!=Us[i]?s.getReserved(i):s.h[i];this.indexData.remove(i),this.clearMap(n),n=null}if(this.clearMap(this.indexImages),this.clearMap(this.indexFont),this.indexImages=null,this.indexFont=null,t&&(this.clearMap(this.indexLocales),this.clearMap(this.indexIcons),this.clearMap(this.indexNotes),this.indexLocales=null,this.indexIcons=null,this.indexNotes=null),this.clearMap(this.missingFlags),null!=this.missingFiles)for(;this.missingFiles.length>0;)this.missingFiles.pop();this.missingFiles=null,this.missingFlags=null},clearMap:function(t,e){if(null!=t)for(var i=t.keys();i.hasNext();){var s=i.next(),n=t.get(s);null!=e&&e(n),t.remove(s)}},copyFast:function(t){return new Is(p.parse(Ps.print(t.x)))},doTasks:function(t){for(var e=0,i=t.length;e<i;){var s=t[e++];this.loadFile(s.fileNode,s.check),this.onLoadFile()}},findClosestExistingLocale:function(t,e){var i,s="",n=1/0;if(null!=(i=this.getDirectoryContents(""))){for(var o=[],r=0;r<i.length;){var a=i[r];++r;var l=_.replace(a,this.directory,""),h=(l=_.replace(l,"\\","/")).split("/");null!=h&&h.length>0&&0==(5==(l=h[0]).length&&"-"==l.charAt(2))&&(l=""),0!=l.indexOf("_")&&-1==l.indexOf(".")&&-1==o.indexOf(l)&&o.push(l)}s=t,n=1/0;for(var c=0;c<o.length;){var u=o[c];++c;var d=this.stringDiff(t,u,!1);d<n&&(n=d,s=u)}}return s},get_locales:function(){for(var t=[],e=this.indexLocales.keys();e.hasNext();){var i=e.next();t.push(i)}return t},getDirectoryContents:function(t){return this.getter.getDirectoryContents(this.directory+t)},loadFile:function(t,e){null==e&&(e=!1);var i=t.node.resolve("file").att.resolve("value"),s=o.substr(i,i.length-3,3),n=t.node.resolve("file").att.resolve("id"),r=this.locale;switch(e&&(r=Wi.defaultLocale),s){case"csv":var a=this.loadText(r+"/"+i),l=",";if(t.node.resolve("file").has.resolve("delimeter")&&(l=t.node.resolve("file").att.resolve("delimeter")),""!=a&&null!=a){var h=new Ri(a,l);this.processCSV(h,n,e)}else this.checkMissing&&this.logMissingFile(i);break;case"png":var c=this.directory+r+"/"+i;this.loadImage(c)?this.processPNG(c,n,e):this.checkMissing&&this.logMissingFile(i);break;case"tsv":case"txt":var _=this.loadText(r+"/"+i);if(""!=_&&null!=_){var u=new Vi(_);this.processCSV(u,n,e)}else this.checkMissing&&this.logMissingFile(i);break;case"xml":if(!e){var d=this.loadText(r+"/"+i);if(""!=d&&null!=d){var g=new Is(p.parse(d));this.processXML(g,n)}else this.checkMissing&&this.logMissingFile(i)}}return i},loadImage:function(t){return!!this.getter.checkFile(t)||(this.checkMissing&&this.logMissingFile(t),!1)},loadIndex:function(){var t=this.loadText("index.xml"),e=null;if(this.listFiles=[],""==t||null==t)throw new Cs("Couldn't load index.xml!");if((e=new Is(p.parse(t))).hasNode.resolve("data")&&e.node.resolve("data").hasNode.resolve("file"))for(var i=e.node.resolve("data").nodes.resolve("file").h;null!=i;){var s=i.item;i=i.next;var n=s;this.listFiles.push(new Is(p.parse(Ps.print(n.x))))}null==this.indexLocales&&(this.indexLocales=new vs),null==this.indexNotes&&(this.indexNotes=new vs),null==this.indexIcons&&(this.indexIcons=new vs),null==this.indexImages&&(this.indexImages=new vs);for(var o="",r=e.node.resolve("data").nodes.resolve("locale").h;null!=r;){var a=r.item;r=r.next;var l=a;o=l.att.resolve("id");var h=this.indexLocales;null!=Us[o]?h.setReserved(o,l):h.h[o]=l;var c=this.directory+"_flags/"+o+".png";if(this.loadImage(c)){var _=this.indexIcons;null!=Us[o]?_.setReserved(o,c):_.h[o]=c}else{var u=this.indexIcons;null!=Us[o]?u.setReserved(o,null):u.h[o]=null}l.has.resolve("is_default")&&"true"==l.att.resolve("is_default")&&(Wi.defaultLocale=o)}""==Wi.defaultLocale&&(Wi.defaultLocale="en-US"),""==this.locale&&(this.locale=Wi.defaultLocale);for(var d=e.node.resolve("data").nodes.resolve("note").h;null!=d;){var g=d.item;d=d.next;var f=g;o=f.att.resolve("id");for(var m=f.nodes.resolve("text").h;null!=m;){var v=m.item;m=m.next;var y=v,x=y.att.resolve("id"),w=null;w=-1!=x.indexOf(",")?x.split(","):[x];for(var b=y.att.resolve("title"),T=y.att.resolve("body"),S=0;S<w.length;){var I=w[S];++S;var k=this.indexNotes,F=o+"_"+I+"_title";null!=Us[F]?k.setReserved(F,b):k.h[F]=b;var P=this.indexNotes,C=o+"_"+I+"_body";null!=Us[C]?P.setReserved(C,T):P.h[C]=T}}}},loadRootDirectory:function(){var t=this.listFiles[0],e="";if(t.hasNode.resolve("file")&&t.node.resolve("file").has.resolve("value")&&(e=t.node.resolve("file").att.resolve("value")),""!=e){var i=this.loadText(this.locale+"/"+e);if(""==i||null==i){var s=this.findClosestExistingLocale(this.locale,e);""!=s&&(this.locale=s)}}},loadText:function(t){return this.getter.getText(this.directory+t)},localeFormat:function(t){var e=t.split("-");return null!=e&&2==e.length&&(t=e[0].toLowerCase()+"-"+e[1].toUpperCase()),t},logMissingFile:function(t){null==this.missingFiles&&(this.missingFiles=[]),this.missingFiles.push(t)},logMissingFlag:function(t,e){null==this.missingFlags&&(this.missingFlags=new vs);var i=this.missingFlags;if(0==(null!=Us[t]?i.existsReserved(t):i.h.hasOwnProperty(t))){var s=[],n=this.missingFlags;null!=Us[t]?n.setReserved(t,s):n.h[t]=s}var o=this.missingFlags;(null!=Us[t]?o.getReserved(t):o.h[t]).push(e)},matchIndexString:function(t){for(var e=t,i=["$LANGUAGE","$LANGUAGE_BILINGUAL","$LANGUAGE_NATIVE","$LANGUAGE_REGION","$LANGUAGE_REGION_NATIVE","$REGION","$REGION_NATIVE","$UI_LANGUAGE","$UI_REGION"],s=0;s<i.length;){var n=i[s];if(++s,0==t.indexOf(n)){var r=_.replace(e,n,"");if(""!=r&&0==r.indexOf(":")){r=o.substr(r,1,r.length-1);for(var a="",l=this.indexLocales.keys();l.hasNext();){var h=l.next();h.toUpperCase()==r.toUpperCase()&&(a=h)}if(""!=a)return this.getIndexString(n,a)}}}return e},onLoadFile:function(){if(this.filesLoaded++,this.filesLoaded==this.listFiles.length){if(this.isLoaded=!0,this.checkMissing){0==this.missingFiles.length&&(this.missingFiles=null);for(var t=0,e=this.missingFlags.keys();e.hasNext();){e.next();++t}0==t&&(this.missingFlags=null)}if(null!=this.callbackFinished)try{this.callbackFinished()}catch(t){if(t instanceof Cs&&(t=t.val),!Es.__instanceof(t,String))throw t}}},printIndex:function(t,e){},processCSV:function(t,e,i){null==i&&(i=!1);var s="",n=(t.fields.length,this.indexData);if(0==(null!=Us[e]?n.existsReserved(e):n.h.hasOwnProperty(e))){var o=this.indexData,r=new vs,a=o;null!=Us[e]?a.setReserved(e,r):a.h[e]=r}for(var l=this.indexData,h=null!=Us[e]?l.getReserved(e):l.h[e],c=1,_=1,u=t.fields.length;_<u;){var d=_++;"comment"!=t.fields[d]&&++c}for(var p=0,g=t.grid.length;p<g;){var f=p++,m=t.grid[f];if(s=m[0],c>2)for(var v=1,y=t.fields.length;v<y;){var x=v++,w=t.fields[x];"comment"!=w&&this.writeIndex(h,(s+"_"+w).toUpperCase(),m[x],e,i)}else 2==c&&this.writeIndex(h,s,m[1],e,i)}t.destroy(),t=null},processFonts:function(t){if(null!=t&&t.hasNode.resolve("data")&&t.node.resolve("data").hasNode.resolve("font"))for(var e=t.node.resolve("data").nodes.resolve("font").h;null!=e;){var i=e.item;e=e.next;var s=i,n=s.att.resolve("value"),o=this.indexFont,r=new Is(p.parse(Ps.print(s.x))),a=o;null!=Us[n]?a.setReserved(n,r):a.h[n]=r}},processPNG:function(t,e,i){if(null==i&&(i=!1),i&&this.checkMissing){var s=this.indexImages;if(0==(null!=Us[e]?s.existsReserved(e):s.h.hasOwnProperty(e))&&(this.logMissingFile(e),this.replaceMissing)){var n=this.indexImages;null!=Us[e]?n.setReserved(e,t):n.h[e]=t}}else{var o=this.indexImages;null!=Us[e]?o.setReserved(e,t):o.h[e]=t}},processXML:function(t,e){"fonts"==e&&this.processFonts(t)},startLoad:function(t){null==this.listFiles&&this.loadIndex(),this.indexData=new vs,this.indexFont=new vs,this.loadRootDirectory();for(var e=[],i=0,s=this.listFiles;i<s.length;){var n=s[i];++i;var o="";if(n.hasNode.resolve("file")&&n.node.resolve("file").has.resolve("value")&&(o=n.node.resolve("file").att.resolve("value")),""!=o){var r={fileNode:n,check:!1};e.push(r),this.checkMissing&&(r={fileNode:n,check:!0},e.push(r))}}null!=t?t(e):this.doTasks(e)},stringDiff:function(t,e,i){null==i&&(i=!0);var s=0;if(""!=t&&""==e)return 1/0;0==i&&(t=t.toLowerCase(),e=e.toLowerCase());for(var n=1,o=0,r=0|Math.max(t.length,e.length);o<r;){o++;n*=10}for(var a=0,l=t.length;a<l;){var h=a++,c=t.charAt(h),_="";e.length>h&&(_=e.charAt(h));var u=0;c!=_&&(u=0|Math.abs(c.charCodeAt(0)-_.charCodeAt(0))),s+=u*n,n=n/10|0}return s},writeIndex:function(t,e,i,s,n){null==n&&(n=!1),null!=e&&(n&&this.checkMissing?0==(null!=Us[e]?t.existsReserved(e):t.h.hasOwnProperty(e))&&(this.logMissingFlag(s,e),this.replaceMissing&&(null!=Us[e]?t.setReserved(e,i):t.h[e]=i)):null!=Us[e]?t.setReserved(e,i):t.h[e]=i)},__class__:Wi};var Ui=e["firetongue.Framework"]={__ename__:["firetongue","Framework"],__constructs__:["VanillaSys","OpenFL","Lime","NME","Custom"]};Ui.VanillaSys=["VanillaSys",0],Ui.VanillaSys.toString=i,Ui.VanillaSys.__enum__=Ui,Ui.OpenFL=["OpenFL",1],Ui.OpenFL.toString=i,Ui.OpenFL.__enum__=Ui,Ui.Lime=["Lime",2],Ui.Lime.toString=i,Ui.Lime.__enum__=Ui,Ui.NME=["NME",3],Ui.NME.toString=i,Ui.NME.__enum__=Ui,Ui.Custom=["Custom",4],Ui.Custom.toString=i,Ui.Custom.__enum__=Ui;var Xi=function(t,e,i,s){this.framework=null==t?Ui.Custom:t,this.checkFile_Custom=e,this.getText_Custom=i,this.getDirectoryContents_Custom=s};e["firetongue.Getter"]=Xi,Xi.__name__=["firetongue","Getter"],Xi.prototype={destroy:function(){this.checkFile_Custom=null,this.getText_Custom=null,this.getDirectoryContents_Custom=null},checkFile:function(t){if(null!=this.checkFile_Custom)return this.checkFile_Custom(t);switch(this.framework[1]){case 0:return this.checkFile_VanillaSys(t);case 1:return this.checkFile_OpenFL(t);case 2:return this.checkFile_Lime(t);case 3:return this.checkFile_NME(t);default:return!1}},getText:function(t){if(null!=this.getText_Custom)return this.getText_Custom(t);switch(this.framework[1]){case 0:return this.getText_VanillaSys(t);case 1:return this.getText_OpenFL(t);case 2:return this.getText_Lime(t);case 3:return this.getText_NME(t);default:return null}},getDirectoryContents:function(t){if(null!=this.getDirectoryContents_Custom)return this.getDirectoryContents_Custom(t);switch(this.framework[1]){case 0:return this.getDirectoryContents_VanillaSys(t);case 1:return this.getDirectoryContents_OpenFL(t);case 2:return this.getDirectoryContents_Lime(t);case 3:return this.getDirectoryContents_NME(t);default:return[]}},getDirectoryContents_OpenFL:function(t){return null},getText_OpenFL:function(t){return null},checkFile_OpenFL:function(t){return!1},getDirectoryContents_Lime:function(t){return null},getText_Lime:function(t){return null},checkFile_Lime:function(t){return!1},getDirectoryContents_NME:function(t){return null},getText_NME:function(t){return null},checkFile_NME:function(t){return!1},getDirectoryContents_VanillaSys:function(t){return null},getText_VanillaSys:function(t){return null},checkFile_VanillaSys:function(t){return!1},limitPath:function(t,e){var i=[];e=_.replace(e,"\\","/");for(var s=0;s<t.length;){var n=t[s];++s,0==(n=_.replace(n,"\\","/")).indexOf(e)&&i.push(n)}return i},__class__:Xi};var Yi=function(){};e["firetongue.Replace"]=Yi,Yi.__name__=["firetongue","Replace"],Yi.flags=function(t,e,i){for(var s=0;s<e.length;){for(var n=e[s],o=i[s];-1!=t.indexOf(n);)t=_.replace(t,n,o);++s}return t},Yi.prototype={__class__:Yi};var Vi=function(t){Ri.call(this,t,"\t",!1)};e["firetongue.TSV"]=Vi,Vi.__name__=["firetongue","TSV"],Vi.__super__=Ri,Vi.prototype=s(Ri.prototype,{processRows:function(t){for(var e=0,i=t.length;e<i;){for(var s=e++,n=t[s];"\t"==n.charAt(n.length-1);)n=o.substr(n,0,n.length-1);this.processCells(this.getCells(n),s)}},getCells:function(t){return t.split("\t")},__class__:Vi});var Ki=function(){};e["flixel.math.FlxRandom"]=Ki,Ki.__name__=["flixel","math","FlxRandom"],Ki.prototype={getObject_haxe_extern_EitherType_String_phaser_BitmapData:function(t,e,i,s){return null==i&&(i=0),zi.game.rnd.pick(t)},getObject_com_drderico_towerd_game_stuff_LgObject:function(t,e,i,s){return null==i&&(i=0),zi.game.rnd.pick(t)},shuffle_Int:function(t){for(var e=t.length-1,i=0,s=t.length;i<s;){var n=i++,o=this.int(n,e),r=t[n];t[n]=t[o],t[o]=r}},getObject_String:function(t,e,i,s){return null==i&&(i=0),zi.game.rnd.pick(t)},getObject_Int:function(t,e,i,s){return null==i&&(i=0),zi.game.rnd.pick(t)},getObject_Float:function(t,e,i,s){return null==i&&(i=0),zi.game.rnd.pick(t)},int:function(t,e,i){if(null==e&&(e=2147483647),null==t&&(t=0),0==t&&2147483647==e&&null==i)return 0|zi.game.rnd.integer();if(t==e)return t;if(t>e&&(t+=e,t-=e=t-e),null==i)return Math.floor(zi.game.rnd.integerInRange(t,e));for(var s=0;s=Math.floor(zi.game.rnd.integerInRange(t,e)),i.indexOf(s)>=0;);return s},float:function(t,e,i){null==e&&(e=1),null==t&&(t=0);var s=0;if(0==t&&1==e&&null==i)return zi.game.rnd.frac();if(t==e)s=t;else if(t>e&&(t+=e,t-=e=t-e),null==i)s=zi.game.rnd.realInRange(t,e);else for(;s=zi.game.rnd.realInRange(t,e),i.indexOf(s)>=0;);return s},bool:function(t){return null==t&&(t=50),this.float(0,100)<t},sign:function(t){return null==t&&(t=50),this.float(0,100)<t?1:-1},weightedPick:function(t){return 0|zi.game.rnd.weightedPick(t)},__class__:Ki};var zi=function(){};e["flixel.FlxG"]=zi,zi.__name__=["flixel","FlxG"],zi.createGame=function(t,e,i,s,n,o,r,a){zi.game=new Phaser.Game(t,e,i,s,n,o,r,a)},zi.createGameFromConfig=function(t){zi.game=new Phaser.Game(t)},zi.get_sound=function(){return zi.game.sound},zi.get_camera=function(){return zi.game.camera},zi.get_width=function(){return 0|zi.game.camera.view.width},zi.get_height=function(){return 0|zi.game.camera.view.height};var ji=function(t){this.object=t};e["flixel.animation.FlxAnimationController"]=ji,ji.__name__=["flixel","animation","FlxAnimationController"],ji.prototype={addByNames:function(t,e,i,s,n,o){null==o&&(o=!1),null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=30),this.object.animations.add(t,e,i,s)},play:function(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),this.object.animations.play(t),e&&this.object.animations.currentAnim.restart(),-1==s&&(s=zi.random.int(0,0|this.object.animations.currentAnim.frameTotal)),this.object.animations.currentAnim.setFrame(s,!0),this.object.animations.currentAnim.reversed=i},remove:function(t){},__class__:ji};var Qi=e["flixel.effects.particles.FlxEmitterMode"]={__ename__:["flixel","effects","particles","FlxEmitterMode"],__constructs__:["SQUARE","CIRCLE"]};Qi.SQUARE=["SQUARE",0],Qi.SQUARE.toString=i,Qi.SQUARE.__enum__=Qi,Qi.CIRCLE=["CIRCLE",1],Qi.CIRCLE.toString=i,Qi.CIRCLE.__enum__=Qi;var Ji=function(t,e,i,s){this.keepAspectRatio=!0,Phaser.Particle.call(this,zi.game,t,e,i,s),X.enableBody(this)};e["flixel.effects.particles.FlxParticle"]=Ji,Ji.__name__=["flixel","effects","particles","FlxParticle"],Ji.__super__=Phaser.Particle,Ji.prototype=s(Phaser.Particle.prototype,{makeGraphic:function(t,e,i,s,n){null==s&&(s=!1),null==i&&(i="#FFFFFF"),this.loadTexture(X.getBitmapData(t,e,i,n,s))},onEmit:function(){this.keepAspectRatio&&(this.scale.x=this.scale.y=Math.min(this.scale.x,this.scale.y)),this.body.setSize(Math.abs(this.width)*this.scale.x,Math.abs(this.height)*this.scale.y)},__class__:Ji});var $i=function(){};e["flixel.math.FlxMath"]=$i,$i.__name__=["flixel","math","FlxMath"],$i.roundDecimal=function(t,e){for(var i=1,s=0,n=e;s<n;){s++;i*=10}return Math.round(t*i)/i},$i.bound=function(t,e,i){var s=null!=e&&t<e?e:t;return null!=i&&s>i?i:s},$i.lerp=function(t,e,i){return t+i*(e-t)},$i.inBounds=function(t,e,i){return(null==e||t>=e)&&(null==i||t<=i)},$i.isOdd=function(t){return 0!=(1&(0|t))},$i.isEven=function(t){return 0==(1&(0|t))},$i.numericComparison=function(t,e){return e>t?-1:t>e?1:0},$i.pointInCoordinates=function(t,e,i,s,n,o){return t>=i&&t<=i+n&&e>=s&&e<=s+o},$i.getDecimals=function(t){var e=(null==t?"null":""+t).split("."),i=0;return e.length>1&&(i=e[1].length),i},$i.equal=function(t,e,i){return null==i&&(i=1e-7),Math.abs(t-e)<=i},$i.signOf=function(t){return t<0?-1:1},$i.sameSign=function(t,e){return(t<0?-1:1)==(e<0?-1:1)},$i.fastSin=function(t){return(t*=.3183098862)>1?t-=Math.ceil(t)>>1<<1:t<-1&&(t+=Math.ceil(-t)>>1<<1),t>0?t*(3.1+t*(.5+t*(3.6*t-7.2))):t*(3.1-t*(.5+t*(7.2+3.6*t)))},$i.fastCos=function(t){var e=t+1.570796327;return(e*=.3183098862)>1?e-=Math.ceil(e)>>1<<1:e<-1&&(e+=Math.ceil(-e)>>1<<1),e>0?e*(3.1+e*(.5+e*(3.6*e-7.2))):e*(3.1-e*(.5+e*(7.2+3.6*e)))},$i.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2},$i.maxInt=function(t,e){return t>e?t:e},$i.minInt=function(t,e){return t>e?e:t},$i.absInt=function(t){return t>0?t:-t};var qi=function(){};e["flixel.util.IFlxPooled"]=qi,qi.__name__=["flixel","util","IFlxPooled"],qi.__interfaces__=[ot],qi.prototype={__class__:qi};var Zi=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_flixel_math_FlxPoint"]=Zi,Zi.__name__=["flixel","util","FlxPool_flixel_math_FlxPoint"],Zi.__interfaces__=[lt],Zi.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Zi};var ts=function(t,e){null==e&&(e=0),null==t&&(t=0),this._inPool=!1,this._weak=!1,Phaser.Point.call(this,t,e)};e["flixel.math.FlxPoint"]=ts,ts.__name__=["flixel","math","FlxPoint"],ts.__interfaces__=[qi],ts.get=function(t,e){null==e&&(e=0),null==t&&(t=0);var i=ts._pool.get();return i.set(t,e),i._inPool=!1,i},ts.weak=function(t,e){null==e&&(e=0),null==t&&(t=0);var i=ts._pool.get();i.set(t,e),i._inPool=!1;var s=i;return s._weak=!0,s},ts.get_pool=function(){return ts._pool},ts.__super__=Phaser.Point,ts.prototype=s(Phaser.Point.prototype,{put:function(){this._inPool||(this._inPool=!0,this._weak=!1,ts._pool.putUnsafe(this))},putWeak:function(){this._weak&&this.put()},destroy:function(t){},__class__:ts});var es=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool_flixel_math_FlxRect"]=es,es.__name__=["flixel","util","FlxPool_flixel_math_FlxRect"],es.__interfaces__=[lt],es.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:es};var is=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this._inPool=!1,this._weak=!1,Phaser.Rectangle.call(this,t,e,i,s)};e["flixel.math.FlxRect"]=is,is.__name__=["flixel","math","FlxRect"],is.__interfaces__=[qi],is.get=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);var n=is._pool.get();return n.setTo(t,e,i,s),n._inPool=!1,n},is.weak=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);var n=is._pool.get();n.setTo(t,e,i,s),n._inPool=!1;var o=n;return o._weak=!0,o},is.get_pool=function(){return is._pool},is.__super__=Phaser.Rectangle,is.prototype=s(Phaser.Rectangle.prototype,{put:function(){this._inPool||(this._inPool=!0,this._weak=!1,is._pool.putUnsafe(this))},putWeak:function(){this._weak&&(this._inPool||(this._inPool=!0,this._weak=!1,is._pool.putUnsafe(this)))},destroy:function(t){},__class__:is});var ss=function(t,e,i,s,n,o,r){Phaser.BitmapText.call(this,t,e,i,s,n,o,r)};e["flixel.text.FlxBitmapText"]=ss,ss.__name__=["flixel","text","FlxBitmapText"],ss.__super__=Phaser.BitmapText,ss.prototype=s(Phaser.BitmapText.prototype,{__class__:ss});var ns=function(){};e["flixel.text.FlxTextAlign"]=ns,ns.__name__=["flixel","text","FlxTextAlign"];var os=function(t,e,i,s,n){Phaser.Tilemap.call(this,zi.game,t,e,i,s,n)};e["flixel.tile.FlxTilemap"]=os,os.__name__=["flixel","tile","FlxTilemap"],os.__super__=Phaser.Tilemap,os.prototype=s(Phaser.Tilemap.prototype,{__class__:os});var rs=function(t){Phaser.Tween.call(this,t,zi.game,rs.get_globalManager())};e["flixel.tweens.FlxTween"]=rs,rs.__name__=["flixel","tweens","FlxTween"],rs.__interfaces__=[ot],rs.tween=function(t,e,i,s,n){null==i&&(i=1);var o=zi.game.add.tween(t);return null!=(s=rs.resolveTweenOptions(s)).onComplete&&o.onComplete.addOnce(s.onComplete,n),null!=s.onStart&&o.onStart.addOnce(s.onStart,n),null!=s.onUpdate&&o.onUpdateCallback(s.onUpdate,n),0!=(8&s.type)&&null==s.repeat&&(s.repeat=0),0!=(1&s.type)&&(s.repeat=-1),o.to(e,1e3*i,s.ease,!0,1e3*s.startDelay,s.repeat,0!=(4&s.type)),o},rs.resolveTweenOptions=function(t){return null==t&&(t={type:8}),null==t.type&&(t.type=8),t},rs.get_globalManager=function(){return zi.game.tweens},rs.set_globalManager=function(t){return zi.game.tweens=t},rs.__super__=Phaser.Tween,rs.prototype=s(Phaser.Tween.prototype,{destroy:function(t){},cancel:function(){this.stop(!1)},__class__:rs});var as={};e["flixel.util._FlxColor.FlxColor_Impl_"]=as,as.__name__=["flixel","util","_FlxColor","FlxColor_Impl_"];var ls=function(t){this._count=0,this._pool=[],this._class=t};e["flixel.util.FlxPool"]=ls,ls.__name__=["flixel","util","FlxPool"],ls.__interfaces__=[lt],ls.prototype={get:function(){return 0==this._count?d.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){if(null!=t){var e=this._pool.indexOf(t);(-1==e||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)}},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;t-- >0;)this._pool[this._count++]=d.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:ls};var hs=function(){this._closeRequested=!1};e["flixel.util.FlxSave"]=hs,hs.__name__=["flixel","util","FlxSave"],hs.prototype={destroy:function(){this.name=null,this.data=null,this._onComplete=null,this._closeRequested=!1,this._localStorage=null},bind:function(t){if(this.destroy(),!zi.game.device.localStorage)return this.destroy(),!1;if(this._localStorage=localStorage,this.name=t,""==this._localStorage.getItem(this.name))this.data={};else try{this.data=gs.run(this._localStorage.getItem(this.name))}catch(t){this.data={},this._localStorage.removeItem(this.name)}return!0},close:function(t,e){return null==t&&(t=0),this._closeRequested=!0,this.flush(t,e)},flush:function(t,e){if(null==t&&(t=0),!this.checkBinding())return!1;this._onComplete=e;try{this._localStorage.setItem(this.name,ds.run(this.data))}catch(t){return this.onDone(cs.ERROR)}return this.onDone(cs.SUCCESS)},erase:function(){return!!this.checkBinding()&&(this._localStorage.clear(),this.data={},!0)},onDone:function(t){return t[1],null!=this._onComplete&&this._onComplete(t==cs.SUCCESS),this._closeRequested&&this.destroy(),t==cs.SUCCESS},checkBinding:function(){return null!=this._localStorage},__class__:hs};var cs=e["flixel.util.FlxSaveStatus"]={__ename__:["flixel","util","FlxSaveStatus"],__constructs__:["SUCCESS","PENDING","ERROR"]};cs.SUCCESS=["SUCCESS",0],cs.SUCCESS.toString=i,cs.SUCCESS.__enum__=cs,cs.PENDING=["PENDING",1],cs.PENDING.toString=i,cs.PENDING.__enum__=cs,cs.ERROR=["ERROR",2],cs.ERROR.toString=i,cs.ERROR.__enum__=cs;var _s=function(t,e){Phaser.Timer.call(this,t,e)};e["flixel.util.FlxTimer"]=_s,_s.__name__=["flixel","util","FlxTimer"],_s.__super__=Phaser.Timer,_s.prototype=s(Phaser.Timer.prototype,{__class__:_s});var us=function(){};e["haxe.IMap"]=us,us.__name__=["haxe","IMap"],us.prototype={__class__:us};var ds=function(){this.buf=new c,this.cache=[],this.useCache=ds.USE_CACHE,this.useEnumIndex=ds.USE_ENUM_INDEX,this.shash=new vs,this.scount=0};e["haxe.Serializer"]=ds,ds.__name__=["haxe","Serializer"],ds.run=function(t){var e=new ds;return e.serialize(t),e.toString()},ds.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,i=null!=Us[t]?e.getReserved(t):e.h[t];if(null!=i)return this.buf.b+="R",void(this.buf.b+=null==i?"null":""+i);var s=this.shash,n=this.scount++;null!=Us[t]?s.setReserved(t,n):s.h[t]=n,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=h.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,i=0,s=this.cache.length;i<s;){var n=i++,o=this.cache[n];if(typeof o==e&&o==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=l.fields(t);e<i.length;){var s=i[e];++e,this.serializeString(s),this.serialize(l.field(t,s))}this.buf.b+="g"},serialize:function(t){var e=d.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var i=t;if(0==i)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==i?"null":""+i;break;case 2:var s=t;isNaN(s)?this.buf.b+="k":isFinite(s)?(this.buf.b+="d",this.buf.b+=null==s?"null":""+s):this.buf.b+=s<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(Es.__instanceof(t,Rs)){var n=d.getClassName(t);this.buf.b+="A",this.serializeString(n)}else if(Es.__instanceof(t,Ws))this.buf.b+="B",this.serializeString(d.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new Cs("Cannot serialize function");case 6:var a=e[2];if(a==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(a){case Array:var c=0;this.buf.b+="a";for(var _=0,u=t.length;_<u;){var p=_++;null==t[p]?++c:(c>0&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==c?"null":""+c),c=0),this.serialize(t[p]))}c>0&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==c?"null":""+c)),this.buf.b+="h";break;case Date:var g=t;this.buf.b+="v",this.buf.b+=h.string(g.getTime());break;case r:this.buf.b+="l";for(var f=t.h;null!=f;){var m=f.item;f=f.next;var v=m;this.serialize(v)}this.buf.b+="h";break;case fs:this.buf.b+="q";for(var y=t,x=y.keys();x.hasNext();){var w=x.next();this.buf.b+=":",this.buf.b+=null==w?"null":""+w,this.serialize(y.h[w])}this.buf.b+="h";break;case ms:this.buf.b+="M";for(var b=t,T=b.keys();T.hasNext();){var S=T.next(),I=l.field(S,"__id__");l.deleteField(S,"__id__"),this.serialize(S),S.__id__=I,this.serialize(b.h[S.__id__])}this.buf.b+="h";break;case vs:this.buf.b+="b";for(var k=t,F=k.keys();F.hasNext();){var P=F.next();this.serializeString(P),this.serialize(null!=Us[P]?k.getReserved(P):k.h[P])}this.buf.b+="h";break;case ys:var C=t;this.buf.b+="s",this.buf.b+=h.string(Math.ceil(8*C.length/6)),this.buf.b+=":";var E=0,B=C.length-2,L=ds.BASE64_CODES;if(null==L){var A=ds.BASE64.length;L=new Array(A);for(var O=0,M=ds.BASE64.length;O<M;){var G=O++;L[G]=o.cca(ds.BASE64,G)}ds.BASE64_CODES=L}for(;E<B;){var H=C.b[E++],D=C.b[E++],N=C.b[E++];this.buf.b+=String.fromCharCode(L[H>>2]),this.buf.b+=String.fromCharCode(L[63&(H<<4|D>>4)]),this.buf.b+=String.fromCharCode(L[63&(D<<2|N>>6)]),this.buf.b+=String.fromCharCode(L[63&N])}if(E==B){var R=C.b[E++],W=C.b[E++];this.buf.b+=String.fromCharCode(L[R>>2]),this.buf.b+=String.fromCharCode(L[63&(R<<4|W>>4)]),this.buf.b+=String.fromCharCode(L[W<<2&63])}else if(E==B+1){var U=C.b[E++];this.buf.b+=String.fromCharCode(L[U>>2]),this.buf.b+=String.fromCharCode(L[U<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(d.getClassName(a)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(d.getClassName(a)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var X=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=h.string(this.useEnumIndex?"j":"w"),this.serializeString(d.getEnumName(X)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=h.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var Y=t.length;this.buf.b+=h.string(Y-2);for(var V=2,K=Y;V<K;){var z=V++;this.serialize(t[z])}this.useCache&&this.cache.push(t);break;default:throw new Cs("Cannot serialize "+h.string(t))}},__class__:ds};var ps=function(){};e["haxe._Unserializer.DefaultResolver"]=ps,ps.__name__=["haxe","_Unserializer","DefaultResolver"],ps.prototype={resolveClass:function(t){return d.resolveClass(t)},resolveEnum:function(t){return d.resolveEnum(t)},__class__:ps};var gs=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=gs.DEFAULT_RESOLVER;null==e&&(e=new ps,gs.DEFAULT_RESOLVER=e),this.resolver=e};e["haxe.Unserializer"]=gs,gs.__name__=["haxe","Unserializer"],gs.initCodes=function(){for(var t=[],e=0,i=gs.BASE64.length;e<i;){var s=e++;t[gs.BASE64.charCodeAt(s)]=s}return t},gs.run=function(t){return new gs(t).unserialize()},gs.prototype={readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45!=s){if(s<48||s>57)break;t=10*t+(s-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(e>=43&&e<58||101==e||69==e))break;this.pos++}return parseFloat(o.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new Cs("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new Cs("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new Cs("Invalid enum format");var i=this.readDigits();if(0==i)return d.createEnum(t,e);for(var s=[];i-- >0;)s.push(this.unserialize());return d.createEnum(t,e,s)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw new Cs("Class not found "+t);return e;case 66:var i=this.unserialize(),s=this.resolver.resolveEnum(i);if(null==s)throw new Cs("Enum not found "+i);return s;case 67:var n=this.unserialize(),a=this.resolver.resolveClass(n);if(null==a)throw new Cs("Class not found "+n);var l=d.createEmptyInstance(a);if(this.cache.push(l),l.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new Cs("Invalid custom data");return l;case 77:var h=new ms;this.cache.push(h);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var c=this.unserialize();h.set(c,this.unserialize())}return this.pos++,h;case 82:var _=this.readDigits();if(_<0||_>=this.scache.length)throw new Cs("Invalid string reference");return this.scache[_];case 97:this.buf;var u=[];for(this.cache.push(u);;){var p=this.buf.charCodeAt(this.pos);if(104==p){this.pos++;break}if(117==p){this.pos++;var g=this.readDigits();u[u.length+g-1]=null}else u.push(this.unserialize())}return u;case 98:var f=new vs;this.cache.push(f);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var m=this.unserialize(),v=this.unserialize();null!=Us[m]?f.setReserved(m,v):f.h[m]=v}return this.pos++,f;case 99:var y=this.unserialize(),x=this.resolver.resolveClass(y);if(null==x)throw new Cs("Class not found "+y);var w=d.createEmptyInstance(x);return this.cache.push(w),this.unserializeObject(w),w;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var b=this.unserialize(),T=this.resolver.resolveEnum(b);if(null==T)throw new Cs("Enum not found "+b);this.pos++;var S=this.readDigits(),I=T.__constructs__.slice()[S];if(null==I)throw new Cs("Unknown enum index "+b+"@"+S);var k=this.unserializeEnum(T,I);return this.cache.push(k),k;case 107:return NaN;case 108:var F=new r;this.cache.push(F);for(this.buf;104!=this.buf.charCodeAt(this.pos);)F.add(this.unserialize());return this.pos++,F;case 109:return-1/0;case 110:return null;case 111:var P={};return this.cache.push(P),this.unserializeObject(P),P;case 112:return 1/0;case 113:var C=new fs;this.cache.push(C);this.buf;for(var E=this.buf.charCodeAt(this.pos++);58==E;){var B=this.readDigits(),L=this.unserialize();C.h[B]=L,E=this.buf.charCodeAt(this.pos++)}if(104!=E)throw new Cs("Invalid IntMap format");return C;case 114:var A=this.readDigits();if(A<0||A>=this.cache.length)throw new Cs("Invalid reference");return this.cache[A];case 115:var O=this.readDigits(),M=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<O)throw new Cs("Invalid bytes length");var G=gs.CODES;null==G&&(G=gs.initCodes(),gs.CODES=G);for(var H=this.pos,D=3&O,N=H+(O-D),R=new ys(new Xs(3*(O>>2)+(D>=2?D-1:0))),W=0;H<N;){var U=G[M.charCodeAt(H++)],X=G[M.charCodeAt(H++)];R.b[W++]=255&(U<<2|X>>4);var Y=G[M.charCodeAt(H++)];R.b[W++]=255&(X<<4|Y>>2);var V=G[M.charCodeAt(H++)];R.b[W++]=255&(Y<<6|V)}if(D>=2){var K=G[M.charCodeAt(H++)],z=G[M.charCodeAt(H++)];if(R.b[W++]=255&(K<<2|z>>4),3==D){var j=G[M.charCodeAt(H++)];R.b[W++]=255&(z<<4|j>>2)}}return this.pos+=O,this.cache.push(R),R;case 116:return!0;case 118:var Q;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))Q=o.strDate(o.substr(this.buf,this.pos,19)),this.pos+=19;else{var J=this.readFloat();Q=new Date(J)}return this.cache.push(Q),Q;case 119:var $=this.unserialize(),q=this.resolver.resolveEnum($);if(null==q)throw new Cs("Enum not found "+$);var Z=this.unserializeEnum(q,this.unserialize());return this.cache.push(Z),Z;case 120:throw Cs.wrap(this.unserialize());case 121:var tt=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<tt)throw new Cs("Invalid string length");var et=o.substr(this.buf,this.pos,tt);return this.pos+=tt,et=decodeURIComponent(et.split("+").join(" ")),this.scache.push(et),et;case 122:return 0}throw this.pos--,new Cs("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:gs};var fs=function(){this.h={}};e["haxe.ds.IntMap"]=fs,fs.__name__=["haxe","ds","IntMap"],fs.__interfaces__=[us],fs.prototype={get:function(t){return this.h[t]},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return o.iter(t)},__class__:fs};var ms=function(){this.h={__keys__:{}}};e["haxe.ds.ObjectMap"]=ms,ms.__name__=["haxe","ds","ObjectMap"],ms.__interfaces__=[us],ms.assignId=function(t){return t.__id__=++ms.count},ms.getId=function(t){return t.__id__},ms.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++ms.count);this.h[i]=e,this.h.__keys__[i]=t},get:function(t){return this.h[t.__id__]},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return o.iter(t)},__class__:ms};var vs=function(){this.h={}};e["haxe.ds.StringMap"]=vs,vs.__name__=["haxe","ds","StringMap"],vs.__interfaces__=[us],vs.prototype={get:function(t){return null!=Us[t]?this.getReserved(t):this.h[t]},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Us[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return o.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:vs};var ys=function(t){this.length=t.byteLength,this.b=new Vs(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};e["haxe.io.Bytes"]=ys,ys.__name__=["haxe","io","Bytes"],ys.alloc=function(t){return new ys(new Xs(t))},ys.ofString=function(t){for(var e=[],i=0;i<t.length;){var s=t.charCodeAt(i++);55296<=s&&s<=56319&&(s=s-55232<<10|1023&t.charCodeAt(i++)),s<=127?e.push(s):s<=2047?(e.push(192|s>>6),e.push(128|63&s)):s<=65535?(e.push(224|s>>12),e.push(128|s>>6&63),e.push(128|63&s)):(e.push(240|s>>18),e.push(128|s>>12&63),e.push(128|s>>6&63),e.push(128|63&s))}return new ys(new Vs(e).buffer)},ys.ofData=function(t){var e=t.hxBytes;return null!=e?e:new ys(t)},ys.fastGet=function(t,e){return t.bytes[e]},ys.prototype={__class__:ys};var xs=function(t){this.__x=t};e["haxe.xml._Fast.NodeAccess"]=xs,xs.__name__=["haxe","xml","_Fast","NodeAccess"],xs.prototype={resolve:function(t){var e=this.__x.elementsNamed(t).next();if(null==e){var i;if(this.__x.nodeType==p.Document)i="Document";else{var s=this.__x;if(s.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+s.nodeType);i=s.nodeName}throw new Cs(i+" is missing element "+t)}return new Is(e)},__class__:xs};var ws=function(t){this.__x=t};e["haxe.xml._Fast.AttribAccess"]=ws,ws.__name__=["haxe","xml","_Fast","AttribAccess"],ws.prototype={resolve:function(t){if(this.__x.nodeType==p.Document)throw new Cs("Cannot access document attribute "+t);var e=this.__x.get(t);if(null==e){var i=this.__x;if(i.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+i.nodeType);throw new Cs(i.nodeName+" is missing attribute "+t)}return e},__class__:ws};var bs=function(t){this.__x=t};e["haxe.xml._Fast.HasAttribAccess"]=bs,bs.__name__=["haxe","xml","_Fast","HasAttribAccess"],bs.prototype={resolve:function(t){if(this.__x.nodeType==p.Document)throw new Cs("Cannot access document attribute "+t);return this.__x.exists(t)},__class__:bs};var Ts=function(t){this.__x=t};e["haxe.xml._Fast.HasNodeAccess"]=Ts,Ts.__name__=["haxe","xml","_Fast","HasNodeAccess"],Ts.prototype={resolve:function(t){return this.__x.elementsNamed(t).hasNext()},__class__:Ts};var Ss=function(t){this.__x=t};e["haxe.xml._Fast.NodeListAccess"]=Ss,Ss.__name__=["haxe","xml","_Fast","NodeListAccess"],Ss.prototype={resolve:function(t){for(var e=new r,i=this.__x.elementsNamed(t);i.hasNext();){var s=i.next();e.add(new Is(s))}return e},__class__:Ss};var Is=function(t){if(t.nodeType!=p.Document&&t.nodeType!=p.Element)throw new Cs("Invalid nodeType "+t.nodeType);this.x=t,this.node=new xs(t),this.nodes=new Ss(t),this.att=new ws(t),this.has=new bs(t),this.hasNode=new Ts(t)};e["haxe.xml.Fast"]=Is,Is.__name__=["haxe","xml","Fast"],Is.prototype={__class__:Is};var ks=function(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1,this.positionAtLine=0;for(var s=0,n=i;s<n;){var o=s++,r=e.charCodeAt(o);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}};e["haxe.xml.XmlParserException"]=ks,ks.__name__=["haxe","xml","XmlParserException"],ks.prototype={toString:function(){return d.getClassName(Es.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:ks};var Fs=function(){};e["haxe.xml.Parser"]=Fs,Fs.__name__=["haxe","xml","Parser"],Fs.parse=function(t,e){null==e&&(e=!1);var i=p.createDocument();return Fs.doParse(t,e,0,i),i},Fs.doParse=function(t,e,i,s){null==i&&(i=0);for(var n=null,r=1,a=1,l=null,_=0,u=0,d=0,g=t.charCodeAt(i),f=new c,m=1,v=-1;g==g;){switch(r){case 0:switch(g){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=g){_=i,r=13;continue}r=0,a=2;break;case 2:switch(g){case 33:if(91==t.charCodeAt(i+1)){if("CDATA["!=o.substr(t,i+=2,6).toUpperCase())throw new Cs(new ks("Expected <![CDATA[",t,i));r=17,_=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=o.substr(t,i+2,6).toUpperCase())throw new Cs(new ks("Expected <!DOCTYPE",t,i));r=16,_=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw new Cs(new ks("Expected \x3c!--",t,i));r=15,_=(i+=2)+1}break;case 47:if(null==s)throw new Cs(new ks("Expected node name",t,i));_=i+1,r=0,a=10;break;case 63:r=14,_=i;break;default:r=3,_=i;continue}break;case 3:if(!(g>=97&&g<=122||g>=65&&g<=90||g>=48&&g<=57||58==g||46==g||95==g||45==g)){if(i==_)throw new Cs(new ks("Expected node name",t,i));n=p.createElement(o.substr(t,_,i-_)),s.addChild(n),++u,r=0,a=4;continue}break;case 4:switch(g){case 47:r=11;break;case 62:r=9;break;default:r=5,_=i;continue}break;case 5:if(!(g>=97&&g<=122||g>=65&&g<=90||g>=48&&g<=57||58==g||46==g||95==g||45==g)){if(_==i)throw new Cs(new ks("Expected attribute name",t,i));if(l=o.substr(t,_,i-_),n.exists(l))throw new Cs(new ks("Duplicate attribute ["+l+"]",t,i));r=0,a=6;continue}break;case 6:if(61!=g)throw new Cs(new ks("Expected =",t,i));r=0,a=7;break;case 7:switch(g){case 34:case 39:f=new c,r=8,_=i+1,v=g;break;default:throw new Cs(new ks('Expected "',t,i))}break;case 8:switch(g){case 38:var y=i-_;f.b+=o.substr(t,_,null==y?null:y),r=18,m=8,_=i+1;break;case 60:case 62:if(e)throw new Cs(new ks("Invalid unescaped "+String.fromCharCode(g)+" in attribute value",t,i));if(g==v){var x=i-_;f.b+=o.substr(t,_,null==x?null:x);var w=f.b;f=new c,n.set(l,w),r=0,a=4}break;default:if(g==v){var b=i-_;f.b+=o.substr(t,_,null==b?null:b);var T=f.b;f=new c,n.set(l,T),r=0,a=4}}break;case 9:_=i=Fs.doParse(t,e,i,n),r=1;break;case 10:if(!(g>=97&&g<=122||g>=65&&g<=90||g>=48&&g<=57||58==g||46==g||95==g||45==g)){if(_==i)throw new Cs(new ks("Expected node name",t,i));var S=o.substr(t,_,i-_);if(s.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+s.nodeType);if(S!=s.nodeName){if(s.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+s.nodeType);throw new Cs(new ks("Expected </"+s.nodeName+">",t,i))}r=0,a=12;continue}break;case 11:if(62!=g)throw new Cs(new ks("Expected >",t,i));r=1;break;case 12:if(62==g)return 0==u&&s.addChild(p.createPCData("")),i;throw new Cs(new ks("Expected >",t,i));case 13:if(60==g){var I=i-_;f.b+=o.substr(t,_,null==I?null:I);var k=p.createPCData(f.b);f=new c,s.addChild(k),++u,r=0,a=2}else if(38==g){var F=i-_;f.b+=o.substr(t,_,null==F?null:F),r=18,m=13,_=i+1}break;case 14:if(63==g&&62==t.charCodeAt(i+1)){var P=o.substr(t,_+1,++i-_-2);s.addChild(p.createProcessingInstruction(P)),++u,r=1}break;case 15:45==g&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(s.addChild(p.createComment(o.substr(t,_,i-_))),++u,i+=2,r=1);break;case 16:91==g?++d:93==g?--d:62==g&&0==d&&(s.addChild(p.createDocType(o.substr(t,_,i-_))),++u,r=1);break;case 17:if(93==g&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var C=p.createCData(o.substr(t,_,i-_));s.addChild(C),++u,i+=2,r=1}break;case 18:if(59==g){var E=o.substr(t,_,i-_);if(35==E.charCodeAt(0)){var B=120==E.charCodeAt(1)?h.parseInt("0"+o.substr(E,1,E.length-1)):h.parseInt(o.substr(E,1,E.length-1));f.b+=String.fromCharCode(B)}else{var L=Fs.escapes;if(null!=Us[E]?L.existsReserved(E):L.h.hasOwnProperty(E)){var A=Fs.escapes,O=null!=Us[E]?A.getReserved(E):A.h[E];f.b+=h.string(O)}else{if(e)throw new Cs(new ks("Undefined entity: "+E,t,i));f.b+=h.string("&"+E+";")}}_=i+1,r=m}else if(!(g>=97&&g<=122||g>=65&&g<=90||g>=48&&g<=57||58==g||46==g||95==g||45==g)&&35!=g){if(e)throw new Cs(new ks("Invalid character in entity: "+String.fromCharCode(g),t,i));f.b+="&";var M=i-_;f.b+=o.substr(t,_,null==M?null:M),_=i--,r=m}}g=t.charCodeAt(++i)}if(1==r&&(_=i,r=13),13==r){if(i!=_||0==u){var G=i-_;f.b+=o.substr(t,_,null==G?null:G),s.addChild(p.createPCData(f.b)),++u}return i}if(!e&&18==r&&13==m){f.b+="&";var H=i-_;return f.b+=o.substr(t,_,null==H?null:H),s.addChild(p.createPCData(f.b)),++u,i}throw new Cs(new ks("Unexpected end",t,i))};var Ps=function(t){this.output=new c,this.pretty=t};e["haxe.xml.Printer"]=Ps,Ps.__name__=["haxe","xml","Printer"],Ps.print=function(t,e){null==e&&(e=!1);var i=new Ps(e);return i.writeNode(t,""),i.output.b},Ps.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=h.string(e+"<"),t.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+t.nodeType);this.output.b+=h.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var s=i.next();this.output.b+=h.string(" "+s+'="');var n=_.htmlEscape(t.get(s),!0);this.output.b+=h.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=p.Document&&t.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=o.iter(t.children);r.hasNext();){var a=r.next();this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=h.string(e+"</"),t.nodeType!=p.Element)throw new Cs("Bad node type, expected Element but found "+t.nodeType);this.output.b+=h.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==p.Document||t.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+t.nodeType);var l=t.nodeValue;if(0!=l.length){var c=e+_.htmlEscape(l);this.output.b+=h.string(c),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=h.string(e+"<![CDATA["),t.nodeType==p.Document||t.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+t.nodeType);var u=_.trim(t.nodeValue);this.output.b+=h.string(u),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==p.Document||t.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+t.nodeType);var d=t.nodeValue,g=new RegExp("[\n\r\t]+","g".split("u").join(""));d="\x3c!--"+(d=d.replace(g,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var f=_.trim(d);this.output.b+=h.string(f),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==p.Document||t.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+t.nodeType);this.output.b+=h.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==p.Document||t.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+t.nodeType);this.output.b+=h.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=p.Document&&t.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+t.nodeType);for(var m=o.iter(t.children);m.hasNext();){var v=m.next();this.writeNode(v,e)}}},hasChildren:function(t){if(t.nodeType!=p.Document&&t.nodeType!=p.Element)throw new Cs("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=o.iter(t.children);e.hasNext();){var i=e.next();switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==p.Document||i.nodeType==p.Element)throw new Cs("Bad node type, unexpected "+i.nodeType);if(0!=_.ltrim(i.nodeValue).length)return!0}}return!1},__class__:Ps};var Cs=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Cs)};e["js._Boot.HaxeError"]=Cs,Cs.__name__=["js","_Boot","HaxeError"],Cs.wrap=function(t){return t instanceof Error?t:new Cs(t)},Cs.__super__=Error,Cs.prototype=s(Error.prototype,{__class__:Cs});var Es=function(){};e["js.Boot"]=Es,Es.__name__=["js","Boot"],Es.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=Es.__nativeClassName(t);return null!=i?Es.__resolveNativeClass(i):null},Es.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var s=t[0]+"(";e+="\t";for(var n=2,o=t.length;n<o;){var r=n++;s+=2!=r?","+Es.__string_rec(t[r],e):Es.__string_rec(t[r],e)}return s+")"}var a="[";e+="\t";for(var l=0,h=t.length;l<h;){var c=l++;a+=(c>0?",":"")+Es.__string_rec(t[c],e)}return a+="]"}var _;try{_=t.toString}catch(t){return"???"}if(null!=_&&_!=Object.toString&&"function"==typeof _){var u=t.toString();if("[object Object]"!=u)return u}var d=null,p="{\n";e+="\t";var g=null!=t.hasOwnProperty;for(var d in t)g&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=p.length&&(p+=", \n"),p+=e+d+" : "+Es.__string_rec(t[d],e));return p+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},Es.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var o=i[s++];if(o==e||Es.__interfLoop(o,e))return!0}return Es.__interfLoop(t.__super__,e)},Es.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case Ns:return"boolean"==typeof t;case Hs:return!0;case Ds:return"number"==typeof t;case Gs:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(Es.__interfLoop(Es.getClass(t),e))return!0}else if("object"==typeof e&&Es.__isNativeObj(e)&&t instanceof e)return!0;return e==Rs&&null!=t.__name__||(e==Ws&&null!=t.__ename__||t.__enum__==e)}},Es.__cast=function(t,e){if(Es.__instanceof(t,e))return t;throw new Cs("Cannot cast "+h.string(t)+" to "+h.string(e))},Es.__nativeClassName=function(t){var e=Es.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Es.__isNativeObj=function(t){return null!=Es.__nativeClassName(t)},Es.__resolveNativeClass=function(e){return t[e]};var Bs=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0,s=e;i<s;){var n=i++;this.a[n]=0}this.byteLength=e}};e["js.html.compat.ArrayBuffer"]=Bs,Bs.__name__=["js","html","compat","ArrayBuffer"],Bs.sliceImpl=function(t,e){var i=new Vs(this,t,null==e?null:e-t),s=new Xs(i.byteLength);return new Vs(s).set(i),s},Bs.prototype={slice:function(t,e){return new Bs(this.a.slice(t,e))},__class__:Bs};var Ls=function(){};e["js.html.compat.Uint8Array"]=Ls,Ls.__name__=["js","html","compat","Uint8Array"],Ls._new=function(t,e,i){var s;if("number"==typeof t){s=[];for(var n=0,o=t;n<o;){s[n++]=0}s.byteLength=s.length,s.byteOffset=0,s.buffer=new Bs(s)}else if(Es.__instanceof(t,Bs)){var r=t;null==e&&(e=0),null==i&&(i=r.byteLength-e),(s=0==e?r.a:r.a.slice(e,e+i)).byteLength=s.length,s.byteOffset=e,s.buffer=r}else{if(!(t instanceof Array&&null==t.__enum__))throw new Cs("TODO "+h.string(t));(s=t.slice()).byteLength=s.length,s.byteOffset=0,s.buffer=new Bs(s)}return s.subarray=Ls._subarray,s.set=Ls._set,s},Ls._set=function(t,e){if(Es.__instanceof(t.buffer,Bs)){var i=t;if(t.byteLength+e>this.byteLength)throw new Cs("set() outside of range");for(var s=0,n=t.byteLength;s<n;){var o=s++;this[o+e]=i[o]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Cs("TODO");var r=t;if(r.length+e>this.byteLength)throw new Cs("set() outside of range");for(var a=0,l=r.length;a<l;){var h=a++;this[h+e]=r[h]}}},Ls._subarray=function(t,e){var i=Ls._new(this.slice(t,e));return i.byteOffset=t,i};var As,Os=0;function Ms(t,e){return null==e?null:(null==e.__id__&&(e.__id__=Os++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&((i=function(){return i.method.apply(i.scope,arguments)}).scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i);var i}e.Math=Math,String.prototype.__class__=e.String=String,String.__name__=["String"],e.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=e.Date=Date,Date.__name__=["Date"];var Gs=e.Int={__name__:["Int"]},Hs=e.Dynamic={__name__:["Dynamic"]},Ds=e.Float=Number;Ds.__name__=["Float"];var Ns=e.Bool=Boolean;Ns.__ename__=["Bool"];var Rs=e.Class={__name__:["Class"]},Ws={},Us={},Xs=t.ArrayBuffer||Bs;null==Xs.prototype.slice&&(Xs.prototype.slice=Bs.sliceImpl);var Ys,Vs=t.Uint8Array||Ls._new;p.Element=0,p.PCData=1,p.CData=2,p.Comment=3,p.DocType=4,p.ProcessingInstruction=5,p.Document=6,A.XORByteLength=(A.XOR_String="!@^$&(%)_=|2bS3vv5%a-=+}[{").length,M.showFromRightToLeft_width=0,H.PACKAGE_NAME="com.drderico.towerd",H.SAVE_GAME_NAME="towerd",H.BLACK_COLOR="#090C0E",H.TILE_SIZE=16,H.TILE_SIZE_SCALED=16,H.DEFAULT_TEXT_SIZE=28,H.GRID_HEIGHT=14,H.GRID_WIDTH=48,H.GRAVITY=1600,H.HERO_INIT_SPEED=630,H.HERO_JUMP_SPEED=530,H.HERO_LIVES_DEFAULT=3,H.HERO_LIVES_MAXIMUM=99,H.LEVELS_NUM=2,H.HUD_BOUNCE_DURATION=.05,H.SCORE_FOR_NEW_LEVEL=100,H.SCORE_FOR_ENEMY=50,H.SCORE_FOR_ENEMY_HURT=15,H.SCORE_FOR_KING_ENEMY=500,H.SCORE_FOR_FLYING_ENEMY=1e3,H.SCORE_FOR_ARTEFACT=250,H.SCORE_FOR_GEM=25,H.MAX_ENV_AMOUNT=5,H.ENV_RED=0,H.ENV_BLUE=1,H.ENV_GREEN=2,H.ENV_ICE=3,H.ENV_HELL=4,H.BG_COLORS=["#0E0000","#000307","#000000","#02080A","#110000"],H.MAP_TEXTURES=[],H.SPEED_TO_MAGNET=400,H.BG_TILES=[["tileBg4_2.png","tileBg4_1.png","tileBg4.png","tileBg3_2.png","tileBg3_1.png","tileBg3.png"],["tileBg5_2.png","tileBg5_1.png","tileBg5.png","tileBg2_2.png","tileBg2_1.png","tileBg2.png","tileBg1_2.png","tileBg1_1.png","tileBg1.png"],["tileBg6_2.png","tileBg6_1.png","tileBg6.png","tileBg5_2.png","tileBg5_1.png","tileBg5.png"],["tileBg1_2.png","tileBg1_1.png","tileBg1.png","tileBg5_2.png","tileBg5_1.png","tileBg5.png"],["tileBg4_2.png","tileBg4_1.png","tileBg4.png","tileBg3_2.png","tileBg3_1.png","tileBg3.png"]],H.MAX_HERO_SKINS_AMOUNT=12,H.HERO_SKIN_TEXTURES=[[["hero1_shop_0001.png","hero1_shop_0002.png"],["hero1_0001.png","hero1_0002.png","hero1_0003.png"],["hero1_back0001.png","hero1_back0002.png"]],[["hero2_shop_0001.png","hero2_shop_0002.png"],["hero2_0001.png","hero2_0002.png","hero2_0002.png"],["hero2_back0001.png","hero2_back0002.png"]],[["hero3_shop_0001.png","hero3_shop_0002.png"],["hero3_0001.png","hero3_0002.png","hero3_0003.png"],["hero3_back0001.png","hero3_back0002.png"]],[["hero4_shop_0001.png","hero4_shop_0002.png"],["hero4_0001.png","hero4_0002.png","hero4_0003.png"],["hero4_back0001.png","hero4_back0002.png"]],[["hero5_shop_0001.png","hero5_shop_0002.png"],["hero5_0001.png","hero5_0002.png","hero5_0003.png"],["hero5_back0001.png","hero5_back0002.png"]],[["hero6_shop_0001.png","hero6_shop_0002.png"],["hero6_0001.png","hero6_0002.png","hero6_0002.png"],["hero6_back0001.png","hero6_back0002.png"]],[["hero7_shop_0001.png","hero7_shop_0002.png"],["hero7_0001.png","hero7_0002.png","hero7_0003.png"],["hero7_back0001.png","hero7_back0002.png"]],[["hero8_shop_0001.png","hero8_shop_0002.png"],["hero8_0001.png","hero8_0002.png","hero8_0002.png"],["hero8_back0001.png","hero8_back0002.png"]],[["hero9_shop_0001.png","hero9_shop_0002.png"],["hero9_0001.png","hero9_0002.png","hero9_0003.png"],["hero9_back0001.png","hero9_back0002.png"]],[["hero10_shop_0001.png","hero10_shop_0002.png"],["hero10_0001.png","hero10_0002.png","hero10_0003.png"],["hero10_back0001.png","hero10_back0002.png"]],[["hero11_shop_0001.png","hero11_shop_0002.png"],["hero11_0001.png","hero11_0002.png","hero11_0002.png"],["hero11_back0001.png","hero11_back0002.png"]],[["hero12_shop_0001.png","hero12_shop_0002.png"],["hero12_0001.png","hero12_0002.png","hero12_0002.png"],["hero12_back0001.png","hero12_back0002.png"]]],H.REWARD_FOR_VIDEO=15683822,H.SKIN_DEATH_COLORS=[[16753886,16732067],[13619156,13158607],[14277081,11337983,0],[16119060,11250445],[15329774,12237502],[3126732,1995914,7030531],[16315674,10622562],[13637401,16661821],[12851159,14077444],[9555236,6595353,4470298],[15329774,13421782,0],[4048039,9109246,2790037]],D.flickerQueue=[],D.flickerQueueRepeats=[],D.flickerQueueCallbacks=[],D.flickerQueueInterval=[],D.flickerQueueEndVisibility=[],D.flickerQueueTween=[],N.ACH_SHIELD_FOUND="CgkI_f7-8JsKEAIQAw",N.ACH_MAGNET_FOUND="CgkI_f7-8JsKEAIQBA",N.ACH_TOMB_FOUND="CgkI_f7-8JsKEAIQHA",N.ACH_MAGNET_25_GEMS_COLLETED="CgkI_f7-8JsKEAIQBQ",N.ACH_MAGNET_50_GEMS_COLLETED="CgkI_f7-8JsKEAIQBg",N.ACH_MAGNET_75_GEMS_COLLETED="CgkI_f7-8JsKEAIQBw",N.ACH_MAGNET_100_GEMS_COLLETED="CgkI_f7-8JsKEAIQCA",N.ACH_DIED_FROM_SPIKES="CgkI_f7-8JsKEAIQEQ",N.ACH_DIED_FROM_ACID="CgkI_f7-8JsKEAIQEg",N.ACH_DIED_FROM_LAVA="CgkI_f7-8JsKEAIQFA",N.ACH_DIED_FROM_WATER="CgkI_f7-8JsKEAIQEw",N.ACH_DIED_FROM_FIRE="CgkI_f7-8JsKEAIQHQ",N.ACH_DIED_FROM_SAW="CgkI_f7-8JsKEAIQFQ",N.ACH_CREDITS="CgkI_f7-8JsKEAIQFg",N.ACH_LEVEL_25="CgkI_f7-8JsKEAIQCQ",N.ACH_LEVEL_50="CgkI_f7-8JsKEAIQCg",N.ACH_LEVEL_75="CgkI_f7-8JsKEAIQCw",N.ACH_LEVEL_100="CgkI_f7-8JsKEAIQDA",N.ACH_KILL_25_NPCS="CgkI_f7-8JsKEAIQDQ",N.ACH_KILL_50_NPCS="CgkI_f7-8JsKEAIQDg",N.ACH_KILL_75_NPCS="CgkI_f7-8JsKEAIQDw",N.ACH_KILL_100_NPCS="CgkI_f7-8JsKEAIQEA",N.ACH_SAVE_25_KITTIES="CgkI_f7-8JsKEAIQFw",N.ACH_SAVE_50_KITTIES="CgkI_f7-8JsKEAIQGA",N.ACH_SAVE_75_KITTIES="CgkI_f7-8JsKEAIQGQ",N.ACH_SAVE_100_KITTIES="CgkI_f7-8JsKEAIQGg",R.gameWidth=800,R.gameHeight=480,W.needToShowBatchUnlockMessage=!1,X.LOCALE_COOLMATH_KEY="assets/locales/coolMathEnUS/data.tsv",X.ASSETS_PATH="./assets/",X.ASSETS_IMAGES_PATH="./assets/images/",X.ASSETS_FONTS_PATH="./assets/fonts/",X.screenOffsetX=0,X.screenOffsetY=0,X.scale=1,X.t="t1",X.t2="t2",X.font16_white="font16white",X.font24_white="font24white",X.font48_white="font48white",X.wmap="wmap.png",X.bgTiles=["tileBg1.png","tileBg1_1.png","tileBg1_2.png","tileBg2.png","tileBg2_1.png","tileBg2_2.png","tileBg3.png","tileBg3_1.png","tileBg3_2.png","tileBg4.png","tileBg4_1.png","tileBg4_2.png","tileBg5.png","tileBg5_1.png","tileBg5_2.png","tileBg6.png","tileBg6_1.png","tileBg6_2.png"],X.tilemapTiles=["tilemap2.png","tilemap3.png","tilemap4.png","tilemap_ice.png","tilemap5.png"],X.TIME_FACTOR=1e3,K.MENU=0,K.GAME=1,K.state=0,z.bgColorIdx=0,z.forceSaveToCloud=!1,z.itemShieldFirstTouch=!0,z.itemMagnetFirstTouch=!0,z.itemArtefactFirstTouch=!0,z.itemTombFirstTouch=!0,z.SKIN_AVAILABLE=128,z.gameOver=!0,j.sfxVolume=.7,j.starIdx=0,j.mp3=".mp3",j.ogg=".ogg",j.clickSfx="assets/sounds/click",j.gameover_explSfx="assets/sounds/gameover_expl",j.gameoverSfx="assets/sounds/gameover",j.chestSfx="assets/sounds/chest",j.ladder_showSfx="assets/sounds/ladder_show",j.hero_jumpSfx="assets/sounds/hero_jump",j.fireball_spawnSfx="assets/sounds/fireball_spawn",j.hero_hurt_by_fireballSfx="assets/sounds/hero_hurt_by_fireball",j.water_sfx="assets/sounds/water_sfx",j.water_hurtSfx="assets/sounds/water_hurt",j.meow1Sfx="assets/sounds/meow1",j.meow2Sfx="assets/sounds/meow2",j.coin_pickupSfx="assets/sounds/coin",j.gem_pickupSfx="assets/sounds/gem_pickup",j.get_kittySfx="assets/sounds/get_kitty",j.hero_hurt1Sfx="assets/sounds/hero_hurt1",j.hero_hurt2Sfx="assets/sounds/hero_hurt2",j.hero_hurt3Sfx="assets/sounds/hero_hurt3",j.powerupPickedUpSfx="assets/sounds/GTC_MagicUp",j.touchFloorSfx="assets/sounds/hit_bottom",j.npc_dieSfx="assets/sounds/npc_die",j.npc_die_voice1Sfx="assets/sounds/npc_die_voice1",j.npc_die_voice2Sfx="assets/sounds/npc_die_voice2",j.npc_die_voice3Sfx="assets/sounds/npc_die_voice3",j.npc_die_voice4Sfx="assets/sounds/npc_die_voice4",j.tombExplosionSfx="assets/sounds/tombExplosion",j.moneyRewardRecievedSfx="assets/sounds/GTC_MagicUp",j.gameMusic="assets/music/game",j.gameMusic2="assets/music/game2",j.menuMusic="assets/music/menu",j.tutorialMusic="assets/music/tutorial",j.water_sfx_cnt=0,Q.GRID_X=0,Q.levelY=0,Q.cameraDeltaY=0,Q.cameraMaxY=0,Q.cameraMinY=0,Q.minScrollX=0,Q.maxScrollX=0,Q.oldMinScrollX=0,Q.oldMaxScrollX=0,Q.cameraTweenObject1={x:0,y:0},Q.cameraTweenObject2={x:0,y:0},J.isGameOver=!1,J.isLevelRunning=!1,J.needToGameOver=!1,J.curLevelIdx=0,J.prevLevelIdx=0,$.BONUSES_CNT=2,$.GEM_MAGNET=0,$.SHIELD=1,$.HEALTH=2,$.TELEPORT=3,$.GEM=4,$.CHEST=5,$.KITTY=6,$.COIN=7,$.GRAVE=8,$.COLLECTABLE_ITEMS=[0,1,2,6],$.prevItemId=0,$.isItemsPaused=!1,q.AROUND_SIZE=8,q.AROUND_SIZE_DIV2=4,q.VISIBLE_LEVEL_WIDTH=56,q.VISIBLE_LEVEL_HEIGHT=30,q.movingNpcExcludedArray=[],tt.state=0,tt.active=!1,it.pool=new f(it),it.PARTICLES=20,it.callSuperDestroy=!1,st.pool=new m(st),st.PARTICLES=20,st.callSuperDestroy=!1,nt.pool=new v(nt),nt.PARTICLES=20,rt.LEFT=1,rt.RIGHT=16,rt.UP=256,rt.DOWN=4096,rt.NONE=0,rt.CEILING=256,rt.FLOOR=4096,rt.WALL=17,rt.ANY=4369,ct.pool=new ht(ct),ct.WIDTH=76,ct.HEIGHT=80,ut.pool=new _t(ut),ut.WIDTH=60,ut.HEIGHT=58,dt.pool=new y(dt),dt.PARTICLES=25,dt.MAX_FX=3,dt.fxCnt=0,dt.callSuperDestroy=!1,pt.pool=new x(pt),pt.PARTICLES=20,pt.MAX_FX=3,pt.fxCnt=0,pt.callSuperDestroy=!1,gt.pool=new w(gt),gt.PARTICLES=15,gt.prevTextureName="",gt.textures=["grave_particle_red.png","grave_particle_blue.png","grave_particle_green.png","grave_particle_ice.png","grave_particle_red.png"],vt.pool=new mt(vt),yt.PARTICLES=30,yt.colors=[-23330,-45149],xt.pool=new b(xt),xt.PARTICLES=20,xt.callSuperDestroy=!1,bt.pool=new wt(bt),St.pool=new Tt(St),It.pool=new T(It),It.PARTICLES=20,It.callSuperDestroy=!1,kt.pool=new S(kt),kt.PARTICLES=20,kt.callSuperDestroy=!1,Ct.WIDTH=72,Ct.HEIGHT=48,Ct.pool=new Pt(Ct),Bt.WIDTH=84,Bt.HEIGHT=22,Bt.pool=new Et(Bt),At.WIDTH=9,At.HEIGHT=11,At.TIMER_VALUE=.05,At.pool=new Lt(At),At._timer=0,At._timerEnded=!1,Ot.WIDTH=36,Ot.HEIGHT=34,Ot.ROTATION_TIME=.619,Ot.canMove=!0,Ot.canJump=!0,Ot.climbOnLadderDuration=0,Mt.WALK_ANIM="1",Mt.CLIMB_ANIM="2",Mt.offsetsWalk=[[0,1,-1],[1,-1,3],[-4,-2,1],[-1,-5,-4],[0,1,-2],[-5,0,3],[-3,-4,-1],[-3,2,-2],[-3,2,-2],[-2,-1,0],[1,2,0],[1,0,-1]],Nt.HEIGHT_TOP=24,Nt.HEIGHT_BOTTOM=80,Nt.WIDTH_BETWEEN=0,Nt.isWaitingForTap=!1,Rt.SHIELD_COLOR=3269886,Rt.MAGNET_COLOR=13947204,Rt.DIST_BEETWEN_SLOTS=77,Wt.TEXT_WIDTH=86,Xt.TEXT_WIDTH=85,Vt.time=0,zt.WIDTH=3,zt.pool=new Kt(zt),Qt.pool=new jt(Qt),$t.pool=new Jt($t),$t.frameNames=["gem1_0001.png","gem2_0001.png","gem3_0001.png","gem4_0001.png"],$t.prevIdx=0,$t.ids=0,Zt.pool=new qt(Zt),ee.WIDTH=47,ee.HEIGHT=70,ee.pool=new te(ee),ee.textures=["grave_red.png","grave_blue.png","grave_green.png","grave_ice.png","grave_red.png"],ee.texturesDestroyed=["grave_red_destroyed.png","grave_blue_destroyed.png","grave_green_destroyed.png","grave_ice_destroyed.png","grave_red_destroyed.png"],ee.texturesDestroyedOffsetX=[2,2,2,12,2],se.pool=new ie(se),oe.pool=new ne(oe),ae.pool=new re(ae),ae.prevIdx=0,ae.t=["1","2","3","4"],he.gapWidth=0,he.partWidth=0,he.floorWidth=0,he.startX=0,he.wallGapsNum=0,he.prevPlatfMadeLong=!1,he.gapChance=50,he.tries=0,he.parts=[],he.prevGemX=0,he.coinsPerPlatform=0,he.maxCoins=0,he.deltaX=0,he.blockChance=0,he.maxDist=0,he.placeX=0,he.pitContentArray=[],he.prevPitH=0,he.itemId=0,he.placeItemsPartsArray=[],ce.MIN_GAP=4,ce.MAX_GAP=8,ce.MAX_GAP2=16,ce.MIN_CEIL_GAP=3,ce.MAX_CEIL_GAP=12,ce.MIN_FLOOR_WIDTH=8,ce.MAX_FLOOR_WIDTH=12,ce.MIN_CEIL_WIDTH=4,ce.MAX_CEIL_WIDTH=12,ce.LADDER_WIDTH=2,ce.PIT_MIN_WIDTH=4,ce.PIT_HEIGHT_MIN=2,ce.PIT_HEIGHT_MAX=4,ce.PIT_CEIL_HEIGHT_MIN=1,ce.PIT_CEIL_HEIGHT_MAX=2,ce.SPIKES_MIN_WIDTH=2,ce.SPIKES_MAX_WIDTH=6,ce.BLOCK_MIN_HEIGHT=1,ce.BLOCK_MAX_HEIGHT=3,ce.BLOCK_CEIL_MIN_HEIGHT=1,ce.BLOCK_CEIL_MAX_HEIGHT=1,ce.BLOCK_CEIL_MAX_HEIGHT2=4,ce.LADDER_OFFSET_FROM_EDGES=2,ce.LEVEL_WIDTH=48,ce.LEVEL_HEIGHT=22,ce.VERTICAL_DISTANCE_BETWEEN_LEVELS=6,ce.TILE_BG=-1,ce.TILE_EMPTY=0,ce.TILE_WALL=1,ce.TILE_SPIKES=2,ce.TILE_WATER=3,ce.TILE_ACID=4,ce.curLevelIdx=0,ce.simpleLevelsCnt=0,ce.envShuffle=[],ce.envShuffleIdx=0,ce.curLevelNum=0,ce.curLevelEnv=0,_e.SIMPLE_LEVEL=0,_e.COMPLEX_LEVEL=1,_e.RESULT_X=0,_e.RESULT_WIDTH=1,_e.GOAL_HEIGHT=2,ue.HEIGHT=46,de.HARD_MIN_FLOOR_WIDTH=6,de.HARD_MAX_FLOOR_WIDTH=8,de.PIT_CONTENT_FOR_LOOK2=[0,12,2,1],de.newLook=0,de.prevComplexLook=0,me.MOVE_SPEED=400,me.pool=new fe(me),me.RED_ANIM="1",me.BLUE_ANIM="2",me.GREEN_ANIM="3",ye.pool=new ve(ye),ye.STATE_SHOW=0,ye.STATE_HIDE=1,ye.SHOW_DURATION=.5,xe.SCORE_FOR_ENEMY_HURT="+15",be.MOVE_SPEED=100,be.pool=new we(be),be.t=["1","2","3","4"],Se.MOVE_SPEED=40,Se.pool=new Te(Se),Se.t=["1","2","3"],Se.view=0,Se.prevView=0,ke.MOVE_SPEED=40,ke.pool=new Ie(ke),ke.t=["1","2","3"],ke.view=0,ke.prevView=0,Pe.MOVE_SPEED=60,Pe.pool=new Fe(Pe),Pe.t=["1","2","3","4"],Pe.view=0,Pe.prevView=0,Pe.offX1=0,Pe.offX2=0,Pe.offY=0,Ee.MOVE_SPEED=20,Ee.pool=new Ce(Ee),Ee.t=["1","2","3"],Ee.view=0,Ee.prevView=0,Oe.pool=new Ae(Oe),Me.WIDTH=350,Me.STYLE_VERTICAL=0,Me.STYLE_HORIZONTAL=1,He.BG_TILE_SIZE=64,Ne.BAR_WIDTH=32,Ne.pool=new De(Ne),Ue.pool=new We(Ue),Ke.OVERLAP_TRIGGER_BOX=0,Ke.OVERLAP_TRIGGER_BOX_NORMAL=1,Ke.OVERLAP_ITEM_BOX=2,Ke.TRIGGER_SIMPLE=3,Ke.TRIGGER_DANGER=4,Je.pool=new Qe(Je),Ze.pool=new qe(Ze),ei.pool=new ti(ei),ei._id=0,si.pool=new ii(si),si.textures=[["chain1.png","chain2.png","chain3.png"],["chain1.png","chain2.png","chain3.png"],["chain_green1.png","chain_green2.png","chain_green3.png"],["chain1_ice.png","chain2_ice.png","chain3_ice.png"],["chain_hell1.png","chain_hell2.png","chain_hell3.png"]],oi.pool=new ni(oi),oi.startDelay=0,oi.coinsToAdd=0,ai.pool=new ri(ai),ai.startFrame=0,li.EMPTY=0,li.BG=1,li.SPIKES=2,li.ACID=43,li.WATER=44,li.WALL_FLOOR_1=3,li.WALL_FLOOR_2=4,li.WALL_FLOOR_3=5,li.WALL_CEIL_1=6,li.WALL_CEIL_2=7,li.WALL_CEIL_3=8,li.WALL_L_1=9,li.WALL_L_2=10,li.WALL_L_3=11,li.WALL_R_1=12,li.WALL_R_2=13,li.WALL_R_3=14,li.WALL_LB_1=15,li.WALL_RB_1=16,li.WALL_LT_1=17,li.WALL_RT_1=18,li.WALL_LB_2=19,li.WALL_RB_2=20,li.WALL_LT_2=21,li.WALL_RT_2=22,li.WALL_LT=23,li.WALL_RT=24,li.WALL_LB=25,li.WALL_RB=26,li.BG_FLOOR_1=27,li.BG_FLOOR_2=28,li.BG_CEIL_1=29,li.BG_CEIL_2=30,li.BG_LEFT_1=31,li.BG_LEFT_2=32,li.BG_RIGHT_1=33,li.BG_RIGHT_2=34,li.BG_2_FLOOR_1=35,li.BG_2_FLOOR_2=36,li.BG_2_CEIL_1=37,li.BG_2_CEIL_2=38,li.BG_2_LEFT_1=39,li.BG_2_LEFT_2=40,li.BG_2_RIGHT_1=41,li.BG_2_RIGHT_2=42,ci.pool=new hi(ci),_i.pool=new I(_i),_i.oneLadderSpriteHeight=0,di.pool=new ui(di),di.FLOOR=-1,di.PIT_CONTENT_ACID=0,di.PIT_CONTENT_WATER=1,di.PIT_CONTENT_SPIKES=2,di.SPIKES=3,di.GOAL=4,di.SAW=5,di.BLOCK=6,di.FLOOR_SAW=7,di.MOVING_ENEMY=8,di.FLYING_ENEMY=9,di.FIREBALL=10,di.ITEM=11,di.PIT_CONTENT_FIRE=12,di.FIREBEAM=13,gi.HEIGHT=3,gi.WIDTH=3,gi.pool=new pi(gi),gi.t=["1","2","3"],mi.pool=new fi(mi),yi.pool=new vi(yi),bi.pool=new k(bi),bi.TEXT_WIDTH=300,Ti.pool=new F(Ti),Ti.TEXT_WIDTH=300,ki.pool=new Ii(ki),Fi.pool=new P(Fi),Fi.stack=[],Fi.WIDTH=416,Fi.HEIGHT=200,Ci.TOTAL_DELAY_BEFORE_SHOW_BTN=.1,Ci.DELAY_BEFORE_SHOW_BTN=.07,Ei.MAIN_MENU=0,Ei.CREDITS=1,Ei.TITLE_Y=0,Ei.BACK_BTN_Y=0,Ei.HISCORE_TXT_Y=0,Ei.HISCORE_VALUE_TXT_Y=0,Ei.BIG_BLOCK_Y=0,Ei.BOTTOM_Y=0,Ei.needUpdateValues=!1,Ei.needUpdateBestScore=!1,Li.AROUND_SIZE=8,Li.VISIBLE_LEVEL_WIDTH=56,Li.VISIBLE_LEVEL_HEIGHT=30,Li.firstDraw=!0,Gi.isVisible=!1,Gi.WIDTH=592,Gi.HEIGHT=384,Di.offsetsWalk=[[0,1,-1],[1,-1,3],[-4,0,1],[-1,1,-4],[0,-2,-2],[-5,2,3],[-3,3,-1],[-3,2,-2],[-3,2,-2],[-2,0,0],[1,-1,0],[1,0,-1]],Ni.isVisible=!1,Ni.WIDTH=736,Ni.HEIGHT=384,Ni.skinPriceStr="",Wi.defaultLocale="en-US",zi.random=new Ki,$i.MIN_VALUE_FLOAT=1e-16,$i.MAX_VALUE_FLOAT=1.79e308,$i.MIN_VALUE_INT=-2147483647,$i.MAX_VALUE_INT=2147483647,$i.SQUARE_ROOT_OF_TWO=1.41421356237,$i.EPSILON=1e-7,ts._pool=new Zi(ts),is._pool=new es(is),ns.LEFT="left",ns.CENTER="center",ns.RIGHT="right",rs.PERSIST=1,rs.LOOPING=2,rs.PINGPONG=4,rs.ONESHOT=8,rs.BACKWARD=16,rs.o=new rt,as.WHITE="#FFFFFF",as.GRAY="#808080",as.BLACK="#000000",as.GREEN="#008000",as.LIME="#00FF00",as.YELLOW="#FFFF00",as.ORANGE="#FFA500",as.RED="#FF0000",as.PURPLE="#800080",as.BLUE="#0000FF",as.BROWN="#8B4513",as.PINK="#FFC0CB",as.MAGENTA="#FF00FF",as.CYAN="#00FFFF",ds.USE_CACHE=!1,ds.USE_ENUM_INDEX=!1,ds.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",gs.DEFAULT_RESOLVER=new ps,gs.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ms.count=0,Fs.escapes=(Ys=new vs,null!=Us.lt?Ys.setReserved("lt","<"):Ys.h.lt="<",null!=Us.gt?Ys.setReserved("gt",">"):Ys.h.gt=">",null!=Us.amp?Ys.setReserved("amp","&"):Ys.h.amp="&",null!=Us.quot?Ys.setReserved("quot",'"'):Ys.h.quot='"',null!=Us.apos?Ys.setReserved("apos","'"):Ys.h.apos="'",Ys),Es.__toStr={}.toString,Ls.BYTES_PER_ELEMENT=1,R.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);